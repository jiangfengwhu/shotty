function G0(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function hf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Y0={exports:{}},Sc={},K0={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zs=Symbol.for("react.element"),rC=Symbol.for("react.portal"),nC=Symbol.for("react.fragment"),iC=Symbol.for("react.strict_mode"),oC=Symbol.for("react.profiler"),sC=Symbol.for("react.provider"),aC=Symbol.for("react.context"),lC=Symbol.for("react.forward_ref"),cC=Symbol.for("react.suspense"),uC=Symbol.for("react.memo"),hC=Symbol.for("react.lazy"),Jg=Symbol.iterator;function dC(t){return t===null||typeof t!="object"?null:(t=Jg&&t[Jg]||t["@@iterator"],typeof t=="function"?t:null)}var q0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q0=Object.assign,Z0={};function po(t,e,r){this.props=t,this.context=e,this.refs=Z0,this.updater=r||q0}po.prototype.isReactComponent={};po.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};po.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function J0(){}J0.prototype=po.prototype;function df(t,e,r){this.props=t,this.context=e,this.refs=Z0,this.updater=r||q0}var ff=df.prototype=new J0;ff.constructor=df;Q0(ff,po.prototype);ff.isPureReactComponent=!0;var ep=Array.isArray,ev=Object.prototype.hasOwnProperty,gf={current:null},tv={key:!0,ref:!0,__self:!0,__source:!0};function rv(t,e,r){var n,i={},o=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)ev.call(e,n)&&!tv.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:zs,type:t,key:o,ref:s,props:i,_owner:gf.current}}function fC(t,e){return{$$typeof:zs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function pf(t){return typeof t=="object"&&t!==null&&t.$$typeof===zs}function gC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var tp=/\/+/g;function gu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gC(""+t.key):e.toString(36)}function el(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case zs:case rC:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+gu(s,0):n,ep(i)?(r="",t!=null&&(r=t.replace(tp,"$&/")+"/"),el(i,e,r,"",function(c){return c})):i!=null&&(pf(i)&&(i=fC(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(tp,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",ep(t))for(var a=0;a<t.length;a++){o=t[a];var l=n+gu(o,a);s+=el(o,e,r,l,i)}else if(l=dC(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=n+gu(o,a++),s+=el(o,e,r,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ra(t,e,r){if(t==null)return t;var n=[],i=0;return el(t,n,"","",function(o){return e.call(r,o,i++)}),n}function pC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dt={current:null},tl={transition:null},mC={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:tl,ReactCurrentOwner:gf};function nv(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:ra,forEach:function(t,e,r){ra(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ra(t,function(){e++}),e},toArray:function(t){return ra(t,function(e){return e})||[]},only:function(t){if(!pf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=po;ne.Fragment=nC;ne.Profiler=oC;ne.PureComponent=df;ne.StrictMode=iC;ne.Suspense=cC;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mC;ne.act=nv;ne.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Q0({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=gf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ev.call(e,l)&&!tv.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:zs,type:t.type,key:i,ref:o,props:n,_owner:s}};ne.createContext=function(t){return t={$$typeof:aC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sC,_context:t},t.Consumer=t};ne.createElement=rv;ne.createFactory=function(t){var e=rv.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:lC,render:t}};ne.isValidElement=pf;ne.lazy=function(t){return{$$typeof:hC,_payload:{_status:-1,_result:t},_init:pC}};ne.memo=function(t,e){return{$$typeof:uC,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=tl.transition;tl.transition={};try{t()}finally{tl.transition=e}};ne.unstable_act=nv;ne.useCallback=function(t,e){return dt.current.useCallback(t,e)};ne.useContext=function(t){return dt.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return dt.current.useDeferredValue(t)};ne.useEffect=function(t,e){return dt.current.useEffect(t,e)};ne.useId=function(){return dt.current.useId()};ne.useImperativeHandle=function(t,e,r){return dt.current.useImperativeHandle(t,e,r)};ne.useInsertionEffect=function(t,e){return dt.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return dt.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return dt.current.useMemo(t,e)};ne.useReducer=function(t,e,r){return dt.current.useReducer(t,e,r)};ne.useRef=function(t){return dt.current.useRef(t)};ne.useState=function(t){return dt.current.useState(t)};ne.useSyncExternalStore=function(t,e,r){return dt.current.useSyncExternalStore(t,e,r)};ne.useTransition=function(){return dt.current.useTransition()};ne.version="18.3.1";K0.exports=ne;var C=K0.exports;const q=hf(C),mf=G0({__proto__:null,default:q},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vC=C,yC=Symbol.for("react.element"),SC=Symbol.for("react.fragment"),xC=Object.prototype.hasOwnProperty,CC=vC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_C={key:!0,ref:!0,__self:!0,__source:!0};function iv(t,e,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)xC.call(e,n)&&!_C.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:yC,type:t,key:o,ref:s,props:i,_owner:CC.current}}Sc.Fragment=SC;Sc.jsx=iv;Sc.jsxs=iv;Y0.exports=Sc;var Dr=Y0.exports,ov={exports:{}},It={},sv={exports:{}},av={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(b,A){var L=b.length;b.push(A);e:for(;0<L;){var I=L-1>>>1,H=b[I];if(0<i(H,A))b[I]=A,b[L]=H,L=I;else break e}}function r(b){return b.length===0?null:b[0]}function n(b){if(b.length===0)return null;var A=b[0],L=b.pop();if(L!==A){b[0]=L;e:for(var I=0,H=b.length,ee=H>>>1;I<ee;){var Y=2*(I+1)-1,K=b[Y],Q=Y+1,te=b[Q];if(0>i(K,L))Q<H&&0>i(te,K)?(b[I]=te,b[Q]=L,I=Q):(b[I]=K,b[Y]=L,I=Y);else if(Q<H&&0>i(te,L))b[I]=te,b[Q]=L,I=Q;else break e}}return A}function i(b,A){var L=b.sortIndex-A.sortIndex;return L!==0?L:b.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,h=null,d=3,f=!1,m=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(b){for(var A=r(c);A!==null;){if(A.callback===null)n(c);else if(A.startTime<=b)n(c),A.sortIndex=A.expirationTime,e(l,A);else break;A=r(c)}}function x(b){if(v=!1,y(b),!m)if(r(l)!==null)m=!0,D(_);else{var A=r(c);A!==null&&P(x,A.startTime-b)}}function _(b,A){m=!1,v&&(v=!1,p(O),O=-1),f=!0;var L=d;try{for(y(A),h=r(l);h!==null&&(!(h.expirationTime>A)||b&&!N());){var I=h.callback;if(typeof I=="function"){h.callback=null,d=h.priorityLevel;var H=I(h.expirationTime<=A);A=t.unstable_now(),typeof H=="function"?h.callback=H:h===r(l)&&n(l),y(A)}else n(l);h=r(l)}if(h!==null)var ee=!0;else{var Y=r(c);Y!==null&&P(x,Y.startTime-A),ee=!1}return ee}finally{h=null,d=L,f=!1}}var E=!1,T=null,O=-1,j=5,R=-1;function N(){return!(t.unstable_now()-R<j)}function z(){if(T!==null){var b=t.unstable_now();R=b;var A=!0;try{A=T(!0,b)}finally{A?F():(E=!1,T=null)}}else E=!1}var F;if(typeof g=="function")F=function(){g(z)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,G=$.port2;$.port1.onmessage=z,F=function(){G.postMessage(null)}}else F=function(){S(z,0)};function D(b){T=b,E||(E=!0,F())}function P(b,A){O=S(function(){b(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,D(_))},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<b?Math.floor(1e3/b):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(b){switch(d){case 1:case 2:case 3:var A=3;break;default:A=d}var L=d;d=A;try{return b()}finally{d=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(b,A){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var L=d;d=b;try{return A()}finally{d=L}},t.unstable_scheduleCallback=function(b,A,L){var I=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?I+L:I):L=I,b){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=L+H,b={id:u++,callback:A,priorityLevel:b,startTime:L,expirationTime:H,sortIndex:-1},L>I?(b.sortIndex=L,e(c,b),r(l)===null&&b===r(c)&&(v?(p(O),O=-1):v=!0,P(x,L-I))):(b.sortIndex=H,e(l,b),m||f||(m=!0,D(_))),b},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(b){var A=d;return function(){var L=d;d=A;try{return b.apply(this,arguments)}finally{d=L}}}})(av);sv.exports=av;var wC=sv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC=C,Ft=wC;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lv=new Set,us={};function vi(t,e){to(t,e),to(t+"Capture",e)}function to(t,e){for(us[t]=e,t=0;t<e.length;t++)lv.add(e[t])}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yh=Object.prototype.hasOwnProperty,TC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rp={},np={};function EC(t){return yh.call(np,t)?!0:yh.call(rp,t)?!1:TC.test(t)?np[t]=!0:(rp[t]=!0,!1)}function OC(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kC(t,e,r,n){if(e===null||typeof e>"u"||OC(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ft(t,e,r,n,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Je[t]=new ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Je[e]=new ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Je[t]=new ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Je[t]=new ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Je[t]=new ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Je[t]=new ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Je[t]=new ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Je[t]=new ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Je[t]=new ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var vf=/[\-:]([a-z])/g;function yf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vf,yf);Je[e]=new ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vf,yf);Je[e]=new ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vf,yf);Je[e]=new ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Je[t]=new ft(t,1,!1,t.toLowerCase(),null,!1,!1)});Je.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Je[t]=new ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sf(t,e,r,n){var i=Je.hasOwnProperty(e)?Je[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kC(e,r,i,n)&&(r=null),n||i===null?EC(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var an=bC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,na=Symbol.for("react.element"),Mi=Symbol.for("react.portal"),Pi=Symbol.for("react.fragment"),xf=Symbol.for("react.strict_mode"),Sh=Symbol.for("react.profiler"),cv=Symbol.for("react.provider"),uv=Symbol.for("react.context"),Cf=Symbol.for("react.forward_ref"),xh=Symbol.for("react.suspense"),Ch=Symbol.for("react.suspense_list"),_f=Symbol.for("react.memo"),pn=Symbol.for("react.lazy"),hv=Symbol.for("react.offscreen"),ip=Symbol.iterator;function jo(t){return t===null||typeof t!="object"?null:(t=ip&&t[ip]||t["@@iterator"],typeof t=="function"?t:null)}var we=Object.assign,pu;function Vo(t){if(pu===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);pu=e&&e[1]||""}return`
`+pu+t}var mu=!1;function vu(t,e){if(!t||mu)return"";mu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{mu=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Vo(t):""}function MC(t){switch(t.tag){case 5:return Vo(t.type);case 16:return Vo("Lazy");case 13:return Vo("Suspense");case 19:return Vo("SuspenseList");case 0:case 2:case 15:return t=vu(t.type,!1),t;case 11:return t=vu(t.type.render,!1),t;case 1:return t=vu(t.type,!0),t;default:return""}}function _h(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pi:return"Fragment";case Mi:return"Portal";case Sh:return"Profiler";case xf:return"StrictMode";case xh:return"Suspense";case Ch:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uv:return(t.displayName||"Context")+".Consumer";case cv:return(t._context.displayName||"Context")+".Provider";case Cf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _f:return e=t.displayName||null,e!==null?e:_h(t.type)||"Memo";case pn:e=t._payload,t=t._init;try{return _h(t(e))}catch{}}return null}function PC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _h(e);case 8:return e===xf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ln(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DC(t){var e=dv(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ia(t){t._valueTracker||(t._valueTracker=DC(t))}function fv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=dv(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ol(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wh(t,e){var r=e.checked;return we({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function op(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ln(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gv(t,e){e=e.checked,e!=null&&Sf(t,"checked",e,!1)}function bh(t,e){gv(t,e);var r=Ln(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Th(t,e.type,r):e.hasOwnProperty("defaultValue")&&Th(t,e.type,Ln(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sp(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Th(t,e,r){(e!=="number"||Ol(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Uo=Array.isArray;function Xi(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ln(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Eh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return we({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ap(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(B(92));if(Uo(r)){if(1<r.length)throw Error(B(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ln(r)}}function pv(t,e){var r=Ln(e.value),n=Ln(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function lp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var oa,vv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(oa=oa||document.createElement("div"),oa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=oa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hs(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AC=["Webkit","ms","Moz","O"];Object.keys(Ko).forEach(function(t){AC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ko[e]=Ko[t]})});function yv(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ko.hasOwnProperty(t)&&Ko[t]?(""+e).trim():e+"px"}function Sv(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=yv(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var jC=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kh(t,e){if(e){if(jC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Mh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ph=null;function wf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dh=null,Gi=null,Yi=null;function cp(t){if(t=Ws(t)){if(typeof Dh!="function")throw Error(B(280));var e=t.stateNode;e&&(e=bc(e),Dh(t.stateNode,t.type,e))}}function xv(t){Gi?Yi?Yi.push(t):Yi=[t]:Gi=t}function Cv(){if(Gi){var t=Gi,e=Yi;if(Yi=Gi=null,cp(t),e)for(t=0;t<e.length;t++)cp(e[t])}}function _v(t,e){return t(e)}function wv(){}var yu=!1;function bv(t,e,r){if(yu)return t(e,r);yu=!0;try{return _v(t,e,r)}finally{yu=!1,(Gi!==null||Yi!==null)&&(wv(),Cv())}}function ds(t,e){var r=t.stateNode;if(r===null)return null;var n=bc(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(B(231,e,typeof r));return r}var Ah=!1;if(Jr)try{var Lo={};Object.defineProperty(Lo,"passive",{get:function(){Ah=!0}}),window.addEventListener("test",Lo,Lo),window.removeEventListener("test",Lo,Lo)}catch{Ah=!1}function LC(t,e,r,n,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var qo=!1,kl=null,Ml=!1,jh=null,RC={onError:function(t){qo=!0,kl=t}};function FC(t,e,r,n,i,o,s,a,l){qo=!1,kl=null,LC.apply(RC,arguments)}function IC(t,e,r,n,i,o,s,a,l){if(FC.apply(this,arguments),qo){if(qo){var c=kl;qo=!1,kl=null}else throw Error(B(198));Ml||(Ml=!0,jh=c)}}function yi(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Tv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function up(t){if(yi(t)!==t)throw Error(B(188))}function NC(t){var e=t.alternate;if(!e){if(e=yi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return up(i),t;if(o===n)return up(i),e;o=o.sibling}throw Error(B(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(B(189))}}if(r.alternate!==n)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?t:e}function Ev(t){return t=NC(t),t!==null?Ov(t):null}function Ov(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ov(t);if(e!==null)return e;t=t.sibling}return null}var kv=Ft.unstable_scheduleCallback,hp=Ft.unstable_cancelCallback,BC=Ft.unstable_shouldYield,zC=Ft.unstable_requestPaint,Ee=Ft.unstable_now,$C=Ft.unstable_getCurrentPriorityLevel,bf=Ft.unstable_ImmediatePriority,Mv=Ft.unstable_UserBlockingPriority,Pl=Ft.unstable_NormalPriority,HC=Ft.unstable_LowPriority,Pv=Ft.unstable_IdlePriority,xc=null,Rr=null;function WC(t){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(xc,t,void 0,(t.current.flags&128)===128)}catch{}}var Sr=Math.clz32?Math.clz32:XC,VC=Math.log,UC=Math.LN2;function XC(t){return t>>>=0,t===0?32:31-(VC(t)/UC|0)|0}var sa=64,aa=4194304;function Xo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dl(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,s=r&268435455;if(s!==0){var a=s&~i;a!==0?n=Xo(a):(o&=s,o!==0&&(n=Xo(o)))}else s=r&~i,s!==0?n=Xo(s):o!==0&&(n=Xo(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Sr(e),i=1<<r,n|=t[r],e&=~i;return n}function GC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YC(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Sr(o),a=1<<s,l=i[s];l===-1?(!(a&r)||a&n)&&(i[s]=GC(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Lh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Dv(){var t=sa;return sa<<=1,!(sa&4194240)&&(sa=64),t}function Su(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function $s(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sr(e),t[e]=r}function KC(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Sr(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function Tf(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Sr(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ce=0;function Av(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jv,Ef,Lv,Rv,Fv,Rh=!1,la=[],En=null,On=null,kn=null,fs=new Map,gs=new Map,vn=[],qC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dp(t,e){switch(t){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":fs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(e.pointerId)}}function Ro(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ws(e),e!==null&&Ef(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function QC(t,e,r,n,i){switch(e){case"focusin":return En=Ro(En,t,e,r,n,i),!0;case"dragenter":return On=Ro(On,t,e,r,n,i),!0;case"mouseover":return kn=Ro(kn,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return fs.set(o,Ro(fs.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,gs.set(o,Ro(gs.get(o)||null,t,e,r,n,i)),!0}return!1}function Iv(t){var e=Kn(t.target);if(e!==null){var r=yi(e);if(r!==null){if(e=r.tag,e===13){if(e=Tv(r),e!==null){t.blockedOn=e,Fv(t.priority,function(){Lv(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Fh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Ph=n,r.target.dispatchEvent(n),Ph=null}else return e=Ws(r),e!==null&&Ef(e),t.blockedOn=r,!1;e.shift()}return!0}function fp(t,e,r){rl(t)&&r.delete(e)}function ZC(){Rh=!1,En!==null&&rl(En)&&(En=null),On!==null&&rl(On)&&(On=null),kn!==null&&rl(kn)&&(kn=null),fs.forEach(fp),gs.forEach(fp)}function Fo(t,e){t.blockedOn===e&&(t.blockedOn=null,Rh||(Rh=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,ZC)))}function ps(t){function e(i){return Fo(i,t)}if(0<la.length){Fo(la[0],t);for(var r=1;r<la.length;r++){var n=la[r];n.blockedOn===t&&(n.blockedOn=null)}}for(En!==null&&Fo(En,t),On!==null&&Fo(On,t),kn!==null&&Fo(kn,t),fs.forEach(e),gs.forEach(e),r=0;r<vn.length;r++)n=vn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<vn.length&&(r=vn[0],r.blockedOn===null);)Iv(r),r.blockedOn===null&&vn.shift()}var Ki=an.ReactCurrentBatchConfig,Al=!0;function JC(t,e,r,n){var i=ce,o=Ki.transition;Ki.transition=null;try{ce=1,Of(t,e,r,n)}finally{ce=i,Ki.transition=o}}function e_(t,e,r,n){var i=ce,o=Ki.transition;Ki.transition=null;try{ce=4,Of(t,e,r,n)}finally{ce=i,Ki.transition=o}}function Of(t,e,r,n){if(Al){var i=Fh(t,e,r,n);if(i===null)Mu(t,e,n,jl,r),dp(t,n);else if(QC(i,t,e,r,n))n.stopPropagation();else if(dp(t,n),e&4&&-1<qC.indexOf(t)){for(;i!==null;){var o=Ws(i);if(o!==null&&jv(o),o=Fh(t,e,r,n),o===null&&Mu(t,e,n,jl,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Mu(t,e,n,null,r)}}var jl=null;function Fh(t,e,r,n){if(jl=null,t=wf(n),t=Kn(t),t!==null)if(e=yi(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Tv(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jl=t,null}function Nv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($C()){case bf:return 1;case Mv:return 4;case Pl:case HC:return 16;case Pv:return 536870912;default:return 16}default:return 16}}var xn=null,kf=null,nl=null;function Bv(){if(nl)return nl;var t,e=kf,r=e.length,n,i="value"in xn?xn.value:xn.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[o-n];n++);return nl=i.slice(t,1<n?1-n:void 0)}function il(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ca(){return!0}function gp(){return!1}function Nt(t){function e(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ca:gp,this.isPropagationStopped=gp,this}return we(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ca)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ca)},persist:function(){},isPersistent:ca}),e}var mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mf=Nt(mo),Hs=we({},mo,{view:0,detail:0}),t_=Nt(Hs),xu,Cu,Io,Cc=we({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Io&&(Io&&t.type==="mousemove"?(xu=t.screenX-Io.screenX,Cu=t.screenY-Io.screenY):Cu=xu=0,Io=t),xu)},movementY:function(t){return"movementY"in t?t.movementY:Cu}}),pp=Nt(Cc),r_=we({},Cc,{dataTransfer:0}),n_=Nt(r_),i_=we({},Hs,{relatedTarget:0}),_u=Nt(i_),o_=we({},mo,{animationName:0,elapsedTime:0,pseudoElement:0}),s_=Nt(o_),a_=we({},mo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),l_=Nt(a_),c_=we({},mo,{data:0}),mp=Nt(c_),u_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=d_[t])?!!e[t]:!1}function Pf(){return f_}var g_=we({},Hs,{key:function(t){if(t.key){var e=u_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=il(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?h_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pf,charCode:function(t){return t.type==="keypress"?il(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?il(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p_=Nt(g_),m_=we({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vp=Nt(m_),v_=we({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pf}),y_=Nt(v_),S_=we({},mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),x_=Nt(S_),C_=we({},Cc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),__=Nt(C_),w_=[9,13,27,32],Df=Jr&&"CompositionEvent"in window,Qo=null;Jr&&"documentMode"in document&&(Qo=document.documentMode);var b_=Jr&&"TextEvent"in window&&!Qo,zv=Jr&&(!Df||Qo&&8<Qo&&11>=Qo),yp=" ",Sp=!1;function $v(t,e){switch(t){case"keyup":return w_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Di=!1;function T_(t,e){switch(t){case"compositionend":return Hv(e);case"keypress":return e.which!==32?null:(Sp=!0,yp);case"textInput":return t=e.data,t===yp&&Sp?null:t;default:return null}}function E_(t,e){if(Di)return t==="compositionend"||!Df&&$v(t,e)?(t=Bv(),nl=kf=xn=null,Di=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zv&&e.locale!=="ko"?null:e.data;default:return null}}var O_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!O_[t.type]:e==="textarea"}function Wv(t,e,r,n){xv(n),e=Ll(e,"onChange"),0<e.length&&(r=new Mf("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Zo=null,ms=null;function k_(t){ey(t,0)}function _c(t){var e=Li(t);if(fv(e))return t}function M_(t,e){if(t==="change")return e}var Vv=!1;if(Jr){var wu;if(Jr){var bu="oninput"in document;if(!bu){var Cp=document.createElement("div");Cp.setAttribute("oninput","return;"),bu=typeof Cp.oninput=="function"}wu=bu}else wu=!1;Vv=wu&&(!document.documentMode||9<document.documentMode)}function _p(){Zo&&(Zo.detachEvent("onpropertychange",Uv),ms=Zo=null)}function Uv(t){if(t.propertyName==="value"&&_c(ms)){var e=[];Wv(e,ms,t,wf(t)),bv(k_,e)}}function P_(t,e,r){t==="focusin"?(_p(),Zo=e,ms=r,Zo.attachEvent("onpropertychange",Uv)):t==="focusout"&&_p()}function D_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _c(ms)}function A_(t,e){if(t==="click")return _c(e)}function j_(t,e){if(t==="input"||t==="change")return _c(e)}function L_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var br=typeof Object.is=="function"?Object.is:L_;function vs(t,e){if(br(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!yh.call(e,i)||!br(t[i],e[i]))return!1}return!0}function wp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bp(t,e){var r=wp(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wp(r)}}function Xv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Xv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Gv(){for(var t=window,e=Ol();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ol(t.document)}return e}function Af(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function R_(t){var e=Gv(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Xv(r.ownerDocument.documentElement,r)){if(n!==null&&Af(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=bp(r,o);var s=bp(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var F_=Jr&&"documentMode"in document&&11>=document.documentMode,Ai=null,Ih=null,Jo=null,Nh=!1;function Tp(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nh||Ai==null||Ai!==Ol(n)||(n=Ai,"selectionStart"in n&&Af(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Jo&&vs(Jo,n)||(Jo=n,n=Ll(Ih,"onSelect"),0<n.length&&(e=new Mf("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ai)))}function ua(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ji={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionend:ua("Transition","TransitionEnd")},Tu={},Yv={};Jr&&(Yv=document.createElement("div").style,"AnimationEvent"in window||(delete ji.animationend.animation,delete ji.animationiteration.animation,delete ji.animationstart.animation),"TransitionEvent"in window||delete ji.transitionend.transition);function wc(t){if(Tu[t])return Tu[t];if(!ji[t])return t;var e=ji[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Yv)return Tu[t]=e[r];return t}var Kv=wc("animationend"),qv=wc("animationiteration"),Qv=wc("animationstart"),Zv=wc("transitionend"),Jv=new Map,Ep="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bn(t,e){Jv.set(t,e),vi(e,[t])}for(var Eu=0;Eu<Ep.length;Eu++){var Ou=Ep[Eu],I_=Ou.toLowerCase(),N_=Ou[0].toUpperCase()+Ou.slice(1);Bn(I_,"on"+N_)}Bn(Kv,"onAnimationEnd");Bn(qv,"onAnimationIteration");Bn(Qv,"onAnimationStart");Bn("dblclick","onDoubleClick");Bn("focusin","onFocus");Bn("focusout","onBlur");Bn(Zv,"onTransitionEnd");to("onMouseEnter",["mouseout","mouseover"]);to("onMouseLeave",["mouseout","mouseover"]);to("onPointerEnter",["pointerout","pointerover"]);to("onPointerLeave",["pointerout","pointerover"]);vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Go));function Op(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,IC(n,e,void 0,t),t.currentTarget=null}function ey(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Op(i,a,c),o=l}else for(s=0;s<n.length;s++){if(a=n[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Op(i,a,c),o=l}}}if(Ml)throw t=jh,Ml=!1,jh=null,t}function fe(t,e){var r=e[Wh];r===void 0&&(r=e[Wh]=new Set);var n=t+"__bubble";r.has(n)||(ty(e,t,2,!1),r.add(n))}function ku(t,e,r){var n=0;e&&(n|=4),ty(r,t,n,e)}var ha="_reactListening"+Math.random().toString(36).slice(2);function ys(t){if(!t[ha]){t[ha]=!0,lv.forEach(function(r){r!=="selectionchange"&&(B_.has(r)||ku(r,!1,t),ku(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ha]||(e[ha]=!0,ku("selectionchange",!1,e))}}function ty(t,e,r,n){switch(Nv(e)){case 1:var i=JC;break;case 4:i=e_;break;default:i=Of}r=i.bind(null,e,r,t),i=void 0,!Ah||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Mu(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Kn(a),s===null)return;if(l=s.tag,l===5||l===6){n=o=s;continue e}a=a.parentNode}}n=n.return}bv(function(){var c=o,u=wf(r),h=[];e:{var d=Jv.get(t);if(d!==void 0){var f=Mf,m=t;switch(t){case"keypress":if(il(r)===0)break e;case"keydown":case"keyup":f=p_;break;case"focusin":m="focus",f=_u;break;case"focusout":m="blur",f=_u;break;case"beforeblur":case"afterblur":f=_u;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=pp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=n_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=y_;break;case Kv:case qv:case Qv:f=s_;break;case Zv:f=x_;break;case"scroll":f=t_;break;case"wheel":f=__;break;case"copy":case"cut":case"paste":f=l_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=vp}var v=(e&4)!==0,S=!v&&t==="scroll",p=v?d!==null?d+"Capture":null:d;v=[];for(var g=c,y;g!==null;){y=g;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,p!==null&&(x=ds(g,p),x!=null&&v.push(Ss(g,x,y)))),S)break;g=g.return}0<v.length&&(d=new f(d,m,null,r,u),h.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&r!==Ph&&(m=r.relatedTarget||r.fromElement)&&(Kn(m)||m[en]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(m=r.relatedTarget||r.toElement,f=c,m=m?Kn(m):null,m!==null&&(S=yi(m),m!==S||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(v=pp,x="onMouseLeave",p="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=vp,x="onPointerLeave",p="onPointerEnter",g="pointer"),S=f==null?d:Li(f),y=m==null?d:Li(m),d=new v(x,g+"leave",f,r,u),d.target=S,d.relatedTarget=y,x=null,Kn(u)===c&&(v=new v(p,g+"enter",m,r,u),v.target=y,v.relatedTarget=S,x=v),S=x,f&&m)t:{for(v=f,p=m,g=0,y=v;y;y=wi(y))g++;for(y=0,x=p;x;x=wi(x))y++;for(;0<g-y;)v=wi(v),g--;for(;0<y-g;)p=wi(p),y--;for(;g--;){if(v===p||p!==null&&v===p.alternate)break t;v=wi(v),p=wi(p)}v=null}else v=null;f!==null&&kp(h,d,f,v,!1),m!==null&&S!==null&&kp(h,S,m,v,!0)}}e:{if(d=c?Li(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var _=M_;else if(xp(d))if(Vv)_=j_;else{_=D_;var E=P_}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(_=A_);if(_&&(_=_(t,c))){Wv(h,_,r,u);break e}E&&E(t,d,c),t==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&Th(d,"number",d.value)}switch(E=c?Li(c):window,t){case"focusin":(xp(E)||E.contentEditable==="true")&&(Ai=E,Ih=c,Jo=null);break;case"focusout":Jo=Ih=Ai=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,Tp(h,r,u);break;case"selectionchange":if(F_)break;case"keydown":case"keyup":Tp(h,r,u)}var T;if(Df)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Di?$v(t,r)&&(O="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(zv&&r.locale!=="ko"&&(Di||O!=="onCompositionStart"?O==="onCompositionEnd"&&Di&&(T=Bv()):(xn=u,kf="value"in xn?xn.value:xn.textContent,Di=!0)),E=Ll(c,O),0<E.length&&(O=new mp(O,t,null,r,u),h.push({event:O,listeners:E}),T?O.data=T:(T=Hv(r),T!==null&&(O.data=T)))),(T=b_?T_(t,r):E_(t,r))&&(c=Ll(c,"onBeforeInput"),0<c.length&&(u=new mp("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=T))}ey(h,e)})}function Ss(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ll(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ds(t,r),o!=null&&n.unshift(Ss(t,o,i)),o=ds(t,e),o!=null&&n.push(Ss(t,o,i))),t=t.return}return n}function wi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kp(t,e,r,n,i){for(var o=e._reactName,s=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,i?(l=ds(r,o),l!=null&&s.unshift(Ss(r,l,a))):i||(l=ds(r,o),l!=null&&s.push(Ss(r,l,a)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var z_=/\r\n?/g,$_=/\u0000|\uFFFD/g;function Mp(t){return(typeof t=="string"?t:""+t).replace(z_,`
`).replace($_,"")}function da(t,e,r){if(e=Mp(e),Mp(t)!==e&&r)throw Error(B(425))}function Rl(){}var Bh=null,zh=null;function $h(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hh=typeof setTimeout=="function"?setTimeout:void 0,H_=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,W_=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(t){return Pp.resolve(null).then(t).catch(V_)}:Hh;function V_(t){setTimeout(function(){throw t})}function Pu(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ps(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ps(e)}function Mn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Dp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var vo=Math.random().toString(36).slice(2),Ar="__reactFiber$"+vo,xs="__reactProps$"+vo,en="__reactContainer$"+vo,Wh="__reactEvents$"+vo,U_="__reactListeners$"+vo,X_="__reactHandles$"+vo;function Kn(t){var e=t[Ar];if(e)return e;for(var r=t.parentNode;r;){if(e=r[en]||r[Ar]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Dp(t);t!==null;){if(r=t[Ar])return r;t=Dp(t)}return e}t=r,r=t.parentNode}return null}function Ws(t){return t=t[Ar]||t[en],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Li(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function bc(t){return t[xs]||null}var Vh=[],Ri=-1;function zn(t){return{current:t}}function ge(t){0>Ri||(t.current=Vh[Ri],Vh[Ri]=null,Ri--)}function de(t,e){Ri++,Vh[Ri]=t.current,t.current=e}var Rn={},it=zn(Rn),xt=zn(!1),li=Rn;function ro(t,e){var r=t.type.contextTypes;if(!r)return Rn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ct(t){return t=t.childContextTypes,t!=null}function Fl(){ge(xt),ge(it)}function Ap(t,e,r){if(it.current!==Rn)throw Error(B(168));de(it,e),de(xt,r)}function ry(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(B(108,PC(t)||"Unknown",i));return we({},r,n)}function Il(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rn,li=it.current,de(it,t),de(xt,xt.current),!0}function jp(t,e,r){var n=t.stateNode;if(!n)throw Error(B(169));r?(t=ry(t,e,li),n.__reactInternalMemoizedMergedChildContext=t,ge(xt),ge(it),de(it,t)):ge(xt),de(xt,r)}var Vr=null,Tc=!1,Du=!1;function ny(t){Vr===null?Vr=[t]:Vr.push(t)}function G_(t){Tc=!0,ny(t)}function $n(){if(!Du&&Vr!==null){Du=!0;var t=0,e=ce;try{var r=Vr;for(ce=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Vr=null,Tc=!1}catch(i){throw Vr!==null&&(Vr=Vr.slice(t+1)),kv(bf,$n),i}finally{ce=e,Du=!1}}return null}var Fi=[],Ii=0,Nl=null,Bl=0,Ht=[],Wt=0,ci=null,Gr=1,Yr="";function Vn(t,e){Fi[Ii++]=Bl,Fi[Ii++]=Nl,Nl=t,Bl=e}function iy(t,e,r){Ht[Wt++]=Gr,Ht[Wt++]=Yr,Ht[Wt++]=ci,ci=t;var n=Gr;t=Yr;var i=32-Sr(n)-1;n&=~(1<<i),r+=1;var o=32-Sr(e)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Gr=1<<32-Sr(e)+i|r<<i|n,Yr=o+t}else Gr=1<<o|r<<i|n,Yr=t}function jf(t){t.return!==null&&(Vn(t,1),iy(t,1,0))}function Lf(t){for(;t===Nl;)Nl=Fi[--Ii],Fi[Ii]=null,Bl=Fi[--Ii],Fi[Ii]=null;for(;t===ci;)ci=Ht[--Wt],Ht[Wt]=null,Yr=Ht[--Wt],Ht[Wt]=null,Gr=Ht[--Wt],Ht[Wt]=null}var Rt=null,Lt=null,me=!1,pr=null;function oy(t,e){var r=Ut(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Lp(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rt=t,Lt=Mn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rt=t,Lt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ci!==null?{id:Gr,overflow:Yr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ut(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Rt=t,Lt=null,!0):!1;default:return!1}}function Uh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xh(t){if(me){var e=Lt;if(e){var r=e;if(!Lp(t,e)){if(Uh(t))throw Error(B(418));e=Mn(r.nextSibling);var n=Rt;e&&Lp(t,e)?oy(n,r):(t.flags=t.flags&-4097|2,me=!1,Rt=t)}}else{if(Uh(t))throw Error(B(418));t.flags=t.flags&-4097|2,me=!1,Rt=t}}}function Rp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rt=t}function fa(t){if(t!==Rt)return!1;if(!me)return Rp(t),me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$h(t.type,t.memoizedProps)),e&&(e=Lt)){if(Uh(t))throw sy(),Error(B(418));for(;e;)oy(t,e),e=Mn(e.nextSibling)}if(Rp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Lt=Mn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Lt=null}}else Lt=Rt?Mn(t.stateNode.nextSibling):null;return!0}function sy(){for(var t=Lt;t;)t=Mn(t.nextSibling)}function no(){Lt=Rt=null,me=!1}function Rf(t){pr===null?pr=[t]:pr.push(t)}var Y_=an.ReactCurrentBatchConfig;function No(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(B(309));var n=r.stateNode}if(!n)throw Error(B(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(B(284));if(!r._owner)throw Error(B(290,t))}return t}function ga(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Fp(t){var e=t._init;return e(t._payload)}function ay(t){function e(p,g){if(t){var y=p.deletions;y===null?(p.deletions=[g],p.flags|=16):y.push(g)}}function r(p,g){if(!t)return null;for(;g!==null;)e(p,g),g=g.sibling;return null}function n(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function i(p,g){return p=jn(p,g),p.index=0,p.sibling=null,p}function o(p,g,y){return p.index=y,t?(y=p.alternate,y!==null?(y=y.index,y<g?(p.flags|=2,g):y):(p.flags|=2,g)):(p.flags|=1048576,g)}function s(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,g,y,x){return g===null||g.tag!==6?(g=Nu(y,p.mode,x),g.return=p,g):(g=i(g,y),g.return=p,g)}function l(p,g,y,x){var _=y.type;return _===Pi?u(p,g,y.props.children,x,y.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===pn&&Fp(_)===g.type)?(x=i(g,y.props),x.ref=No(p,g,y),x.return=p,x):(x=hl(y.type,y.key,y.props,null,p.mode,x),x.ref=No(p,g,y),x.return=p,x)}function c(p,g,y,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Bu(y,p.mode,x),g.return=p,g):(g=i(g,y.children||[]),g.return=p,g)}function u(p,g,y,x,_){return g===null||g.tag!==7?(g=ni(y,p.mode,x,_),g.return=p,g):(g=i(g,y),g.return=p,g)}function h(p,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Nu(""+g,p.mode,y),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case na:return y=hl(g.type,g.key,g.props,null,p.mode,y),y.ref=No(p,null,g),y.return=p,y;case Mi:return g=Bu(g,p.mode,y),g.return=p,g;case pn:var x=g._init;return h(p,x(g._payload),y)}if(Uo(g)||jo(g))return g=ni(g,p.mode,y,null),g.return=p,g;ga(p,g)}return null}function d(p,g,y,x){var _=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:a(p,g,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case na:return y.key===_?l(p,g,y,x):null;case Mi:return y.key===_?c(p,g,y,x):null;case pn:return _=y._init,d(p,g,_(y._payload),x)}if(Uo(y)||jo(y))return _!==null?null:u(p,g,y,x,null);ga(p,y)}return null}function f(p,g,y,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return p=p.get(y)||null,a(g,p,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case na:return p=p.get(x.key===null?y:x.key)||null,l(g,p,x,_);case Mi:return p=p.get(x.key===null?y:x.key)||null,c(g,p,x,_);case pn:var E=x._init;return f(p,g,y,E(x._payload),_)}if(Uo(x)||jo(x))return p=p.get(y)||null,u(g,p,x,_,null);ga(g,x)}return null}function m(p,g,y,x){for(var _=null,E=null,T=g,O=g=0,j=null;T!==null&&O<y.length;O++){T.index>O?(j=T,T=null):j=T.sibling;var R=d(p,T,y[O],x);if(R===null){T===null&&(T=j);break}t&&T&&R.alternate===null&&e(p,T),g=o(R,g,O),E===null?_=R:E.sibling=R,E=R,T=j}if(O===y.length)return r(p,T),me&&Vn(p,O),_;if(T===null){for(;O<y.length;O++)T=h(p,y[O],x),T!==null&&(g=o(T,g,O),E===null?_=T:E.sibling=T,E=T);return me&&Vn(p,O),_}for(T=n(p,T);O<y.length;O++)j=f(T,p,O,y[O],x),j!==null&&(t&&j.alternate!==null&&T.delete(j.key===null?O:j.key),g=o(j,g,O),E===null?_=j:E.sibling=j,E=j);return t&&T.forEach(function(N){return e(p,N)}),me&&Vn(p,O),_}function v(p,g,y,x){var _=jo(y);if(typeof _!="function")throw Error(B(150));if(y=_.call(y),y==null)throw Error(B(151));for(var E=_=null,T=g,O=g=0,j=null,R=y.next();T!==null&&!R.done;O++,R=y.next()){T.index>O?(j=T,T=null):j=T.sibling;var N=d(p,T,R.value,x);if(N===null){T===null&&(T=j);break}t&&T&&N.alternate===null&&e(p,T),g=o(N,g,O),E===null?_=N:E.sibling=N,E=N,T=j}if(R.done)return r(p,T),me&&Vn(p,O),_;if(T===null){for(;!R.done;O++,R=y.next())R=h(p,R.value,x),R!==null&&(g=o(R,g,O),E===null?_=R:E.sibling=R,E=R);return me&&Vn(p,O),_}for(T=n(p,T);!R.done;O++,R=y.next())R=f(T,p,O,R.value,x),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?O:R.key),g=o(R,g,O),E===null?_=R:E.sibling=R,E=R);return t&&T.forEach(function(z){return e(p,z)}),me&&Vn(p,O),_}function S(p,g,y,x){if(typeof y=="object"&&y!==null&&y.type===Pi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case na:e:{for(var _=y.key,E=g;E!==null;){if(E.key===_){if(_=y.type,_===Pi){if(E.tag===7){r(p,E.sibling),g=i(E,y.props.children),g.return=p,p=g;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===pn&&Fp(_)===E.type){r(p,E.sibling),g=i(E,y.props),g.ref=No(p,E,y),g.return=p,p=g;break e}r(p,E);break}else e(p,E);E=E.sibling}y.type===Pi?(g=ni(y.props.children,p.mode,x,y.key),g.return=p,p=g):(x=hl(y.type,y.key,y.props,null,p.mode,x),x.ref=No(p,g,y),x.return=p,p=x)}return s(p);case Mi:e:{for(E=y.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(p,g.sibling),g=i(g,y.children||[]),g.return=p,p=g;break e}else{r(p,g);break}else e(p,g);g=g.sibling}g=Bu(y,p.mode,x),g.return=p,p=g}return s(p);case pn:return E=y._init,S(p,g,E(y._payload),x)}if(Uo(y))return m(p,g,y,x);if(jo(y))return v(p,g,y,x);ga(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(r(p,g.sibling),g=i(g,y),g.return=p,p=g):(r(p,g),g=Nu(y,p.mode,x),g.return=p,p=g),s(p)):r(p,g)}return S}var io=ay(!0),ly=ay(!1),zl=zn(null),$l=null,Ni=null,Ff=null;function If(){Ff=Ni=$l=null}function Nf(t){var e=zl.current;ge(zl),t._currentValue=e}function Gh(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function qi(t,e){$l=t,Ff=Ni=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(St=!0),t.firstContext=null)}function Gt(t){var e=t._currentValue;if(Ff!==t)if(t={context:t,memoizedValue:e,next:null},Ni===null){if($l===null)throw Error(B(308));Ni=t,$l.dependencies={lanes:0,firstContext:t}}else Ni=Ni.next=t;return e}var qn=null;function Bf(t){qn===null?qn=[t]:qn.push(t)}function cy(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Bf(e)):(r.next=i.next,i.next=r),e.interleaved=r,tn(t,n)}function tn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var mn=!1;function zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pn(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,oe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,tn(t,r)}return i=n.interleaved,i===null?(e.next=e,Bf(n)):(e.next=i.next,i.next=e),n.interleaved=e,tn(t,r)}function ol(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Tf(t,r)}}function Ip(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Hl(t,e,r,n){var i=t.updateQueue;mn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,u=c=l=null,a=o;do{var d=a.lane,f=a.eventTime;if((n&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,v=a;switch(d=e,f=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){h=m.call(f,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,d=typeof m=="function"?m.call(f,h,d):m,d==null)break e;h=we({},h,d);break e;case 2:mn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);hi|=s,t.lanes=s,t.memoizedState=h}}function Np(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(B(191,i));i.call(n)}}}var Vs={},Fr=zn(Vs),Cs=zn(Vs),_s=zn(Vs);function Qn(t){if(t===Vs)throw Error(B(174));return t}function $f(t,e){switch(de(_s,e),de(Cs,t),de(Fr,Vs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Oh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Oh(e,t)}ge(Fr),de(Fr,e)}function oo(){ge(Fr),ge(Cs),ge(_s)}function hy(t){Qn(_s.current);var e=Qn(Fr.current),r=Oh(e,t.type);e!==r&&(de(Cs,t),de(Fr,r))}function Hf(t){Cs.current===t&&(ge(Fr),ge(Cs))}var xe=zn(0);function Wl(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Au=[];function Wf(){for(var t=0;t<Au.length;t++)Au[t]._workInProgressVersionPrimary=null;Au.length=0}var sl=an.ReactCurrentDispatcher,ju=an.ReactCurrentBatchConfig,ui=0,_e=null,Ie=null,Ve=null,Vl=!1,es=!1,ws=0,K_=0;function et(){throw Error(B(321))}function Vf(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!br(t[r],e[r]))return!1;return!0}function Uf(t,e,r,n,i,o){if(ui=o,_e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sl.current=t===null||t.memoizedState===null?J_:ew,t=r(n,i),es){o=0;do{if(es=!1,ws=0,25<=o)throw Error(B(301));o+=1,Ve=Ie=null,e.updateQueue=null,sl.current=tw,t=r(n,i)}while(es)}if(sl.current=Ul,e=Ie!==null&&Ie.next!==null,ui=0,Ve=Ie=_e=null,Vl=!1,e)throw Error(B(300));return t}function Xf(){var t=ws!==0;return ws=0,t}function Mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?_e.memoizedState=Ve=t:Ve=Ve.next=t,Ve}function Yt(){if(Ie===null){var t=_e.alternate;t=t!==null?t.memoizedState:null}else t=Ie.next;var e=Ve===null?_e.memoizedState:Ve.next;if(e!==null)Ve=e,Ie=t;else{if(t===null)throw Error(B(310));Ie=t,t={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Ve===null?_e.memoizedState=Ve=t:Ve=Ve.next=t}return Ve}function bs(t,e){return typeof e=="function"?e(t):e}function Lu(t){var e=Yt(),r=e.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=t;var n=Ie,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((ui&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,s=n):l=l.next=h,_e.lanes|=u,hi|=u}c=c.next}while(c!==null&&c!==o);l===null?s=n:l.next=a,br(n,e.memoizedState)||(St=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,_e.lanes|=o,hi|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ru(t){var e=Yt(),r=e.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);br(o,e.memoizedState)||(St=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function dy(){}function fy(t,e){var r=_e,n=Yt(),i=e(),o=!br(n.memoizedState,i);if(o&&(n.memoizedState=i,St=!0),n=n.queue,Gf(my.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||Ve!==null&&Ve.memoizedState.tag&1){if(r.flags|=2048,Ts(9,py.bind(null,r,n,i,e),void 0,null),Ue===null)throw Error(B(349));ui&30||gy(r,e,i)}return i}function gy(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function py(t,e,r,n){e.value=r,e.getSnapshot=n,vy(e)&&yy(t)}function my(t,e,r){return r(function(){vy(e)&&yy(t)})}function vy(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!br(t,r)}catch{return!0}}function yy(t){var e=tn(t,1);e!==null&&xr(e,t,1,-1)}function Bp(t){var e=Mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:t},e.queue=t,t=t.dispatch=Z_.bind(null,_e,t),[e.memoizedState,t]}function Ts(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Sy(){return Yt().memoizedState}function al(t,e,r,n){var i=Mr();_e.flags|=t,i.memoizedState=Ts(1|e,r,void 0,n===void 0?null:n)}function Ec(t,e,r,n){var i=Yt();n=n===void 0?null:n;var o=void 0;if(Ie!==null){var s=Ie.memoizedState;if(o=s.destroy,n!==null&&Vf(n,s.deps)){i.memoizedState=Ts(e,r,o,n);return}}_e.flags|=t,i.memoizedState=Ts(1|e,r,o,n)}function zp(t,e){return al(8390656,8,t,e)}function Gf(t,e){return Ec(2048,8,t,e)}function xy(t,e){return Ec(4,2,t,e)}function Cy(t,e){return Ec(4,4,t,e)}function _y(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wy(t,e,r){return r=r!=null?r.concat([t]):null,Ec(4,4,_y.bind(null,e,t),r)}function Yf(){}function by(t,e){var r=Yt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Vf(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Ty(t,e){var r=Yt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Vf(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Ey(t,e,r){return ui&21?(br(r,e)||(r=Dv(),_e.lanes|=r,hi|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,St=!0),t.memoizedState=r)}function q_(t,e){var r=ce;ce=r!==0&&4>r?r:4,t(!0);var n=ju.transition;ju.transition={};try{t(!1),e()}finally{ce=r,ju.transition=n}}function Oy(){return Yt().memoizedState}function Q_(t,e,r){var n=An(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ky(t))My(e,r);else if(r=cy(t,e,r,n),r!==null){var i=ut();xr(r,t,n,i),Py(r,e,n)}}function Z_(t,e,r){var n=An(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ky(t))My(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,br(a,s)){var l=e.interleaved;l===null?(i.next=i,Bf(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=cy(t,e,i,n),r!==null&&(i=ut(),xr(r,t,n,i),Py(r,e,n))}}function ky(t){var e=t.alternate;return t===_e||e!==null&&e===_e}function My(t,e){es=Vl=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Py(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Tf(t,r)}}var Ul={readContext:Gt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},J_={readContext:Gt,useCallback:function(t,e){return Mr().memoizedState=[t,e===void 0?null:e],t},useContext:Gt,useEffect:zp,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,al(4194308,4,_y.bind(null,e,t),r)},useLayoutEffect:function(t,e){return al(4194308,4,t,e)},useInsertionEffect:function(t,e){return al(4,2,t,e)},useMemo:function(t,e){var r=Mr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Mr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Q_.bind(null,_e,t),[n.memoizedState,t]},useRef:function(t){var e=Mr();return t={current:t},e.memoizedState=t},useState:Bp,useDebugValue:Yf,useDeferredValue:function(t){return Mr().memoizedState=t},useTransition:function(){var t=Bp(!1),e=t[0];return t=q_.bind(null,t[1]),Mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=_e,i=Mr();if(me){if(r===void 0)throw Error(B(407));r=r()}else{if(r=e(),Ue===null)throw Error(B(349));ui&30||gy(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,zp(my.bind(null,n,o,t),[t]),n.flags|=2048,Ts(9,py.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Mr(),e=Ue.identifierPrefix;if(me){var r=Yr,n=Gr;r=(n&~(1<<32-Sr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ws++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=K_++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ew={readContext:Gt,useCallback:by,useContext:Gt,useEffect:Gf,useImperativeHandle:wy,useInsertionEffect:xy,useLayoutEffect:Cy,useMemo:Ty,useReducer:Lu,useRef:Sy,useState:function(){return Lu(bs)},useDebugValue:Yf,useDeferredValue:function(t){var e=Yt();return Ey(e,Ie.memoizedState,t)},useTransition:function(){var t=Lu(bs)[0],e=Yt().memoizedState;return[t,e]},useMutableSource:dy,useSyncExternalStore:fy,useId:Oy,unstable_isNewReconciler:!1},tw={readContext:Gt,useCallback:by,useContext:Gt,useEffect:Gf,useImperativeHandle:wy,useInsertionEffect:xy,useLayoutEffect:Cy,useMemo:Ty,useReducer:Ru,useRef:Sy,useState:function(){return Ru(bs)},useDebugValue:Yf,useDeferredValue:function(t){var e=Yt();return Ie===null?e.memoizedState=t:Ey(e,Ie.memoizedState,t)},useTransition:function(){var t=Ru(bs)[0],e=Yt().memoizedState;return[t,e]},useMutableSource:dy,useSyncExternalStore:fy,useId:Oy,unstable_isNewReconciler:!1};function hr(t,e){if(t&&t.defaultProps){e=we({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Yh(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:we({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Oc={isMounted:function(t){return(t=t._reactInternals)?yi(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ut(),i=An(t),o=Qr(n,i);o.payload=e,r!=null&&(o.callback=r),e=Pn(t,o,i),e!==null&&(xr(e,t,i,n),ol(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ut(),i=An(t),o=Qr(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Pn(t,o,i),e!==null&&(xr(e,t,i,n),ol(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ut(),n=An(t),i=Qr(r,n);i.tag=2,e!=null&&(i.callback=e),e=Pn(t,i,n),e!==null&&(xr(e,t,n,r),ol(e,t,n))}};function $p(t,e,r,n,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,s):e.prototype&&e.prototype.isPureReactComponent?!vs(r,n)||!vs(i,o):!0}function Dy(t,e,r){var n=!1,i=Rn,o=e.contextType;return typeof o=="object"&&o!==null?o=Gt(o):(i=Ct(e)?li:it.current,n=e.contextTypes,o=(n=n!=null)?ro(t,i):Rn),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Oc,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Hp(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Oc.enqueueReplaceState(e,e.state,null)}function Kh(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},zf(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Gt(o):(o=Ct(e)?li:it.current,i.context=ro(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Yh(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Oc.enqueueReplaceState(i,i.state,null),Hl(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function so(t,e){try{var r="",n=e;do r+=MC(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Fu(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function qh(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var rw=typeof WeakMap=="function"?WeakMap:Map;function Ay(t,e,r){r=Qr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Gl||(Gl=!0,sd=n),qh(t,e)},r}function jy(t,e,r){r=Qr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){qh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){qh(t,e),typeof n!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function Wp(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new rw;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=mw.bind(null,t,e,r),e.then(t,t))}function Vp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Up(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Qr(-1,1),e.tag=2,Pn(r,e,1))),r.lanes|=1),t)}var nw=an.ReactCurrentOwner,St=!1;function st(t,e,r,n){e.child=t===null?ly(e,null,r,n):io(e,t.child,r,n)}function Xp(t,e,r,n,i){r=r.render;var o=e.ref;return qi(e,i),n=Uf(t,e,r,n,o,i),r=Xf(),t!==null&&!St?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,rn(t,e,i)):(me&&r&&jf(e),e.flags|=1,st(t,e,n,i),e.child)}function Gp(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!rg(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,Ly(t,e,o,n,i)):(t=hl(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:vs,r(s,n)&&t.ref===e.ref)return rn(t,e,i)}return e.flags|=1,t=jn(o,n),t.ref=e.ref,t.return=e,e.child=t}function Ly(t,e,r,n,i){if(t!==null){var o=t.memoizedProps;if(vs(o,n)&&t.ref===e.ref)if(St=!1,e.pendingProps=n=o,(t.lanes&i)!==0)t.flags&131072&&(St=!0);else return e.lanes=t.lanes,rn(t,e,i)}return Qh(t,e,r,n,i)}function Ry(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(zi,At),At|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,de(zi,At),At|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,de(zi,At),At|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,de(zi,At),At|=n;return st(t,e,i,r),e.child}function Fy(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Qh(t,e,r,n,i){var o=Ct(r)?li:it.current;return o=ro(e,o),qi(e,i),r=Uf(t,e,r,n,o,i),n=Xf(),t!==null&&!St?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,rn(t,e,i)):(me&&n&&jf(e),e.flags|=1,st(t,e,r,i),e.child)}function Yp(t,e,r,n,i){if(Ct(r)){var o=!0;Il(e)}else o=!1;if(qi(e,i),e.stateNode===null)ll(t,e),Dy(e,r,n),Kh(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Gt(c):(c=Ct(r)?li:it.current,c=ro(e,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||l!==c)&&Hp(e,s,n,c),mn=!1;var d=e.memoizedState;s.state=d,Hl(e,n,s,i),l=e.memoizedState,a!==n||d!==l||xt.current||mn?(typeof u=="function"&&(Yh(e,r,u,n),l=e.memoizedState),(a=mn||$p(e,r,a,n,d,l,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=c,n=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,uy(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:hr(e.type,a),s.props=c,h=e.pendingProps,d=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Gt(l):(l=Ct(r)?li:it.current,l=ro(e,l));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Hp(e,s,n,l),mn=!1,d=e.memoizedState,s.state=d,Hl(e,n,s,i);var m=e.memoizedState;a!==h||d!==m||xt.current||mn?(typeof f=="function"&&(Yh(e,r,f,n),m=e.memoizedState),(c=mn||$p(e,r,c,n,d,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),s.props=n,s.state=m,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Zh(t,e,r,n,o,i)}function Zh(t,e,r,n,i,o){Fy(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&jp(e,r,!1),rn(t,e,o);n=e.stateNode,nw.current=e;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=io(e,t.child,null,o),e.child=io(e,null,a,o)):st(t,e,a,o),e.memoizedState=n.state,i&&jp(e,r,!0),e.child}function Iy(t){var e=t.stateNode;e.pendingContext?Ap(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ap(t,e.context,!1),$f(t,e.containerInfo)}function Kp(t,e,r,n,i){return no(),Rf(i),e.flags|=256,st(t,e,r,n),e.child}var Jh={dehydrated:null,treeContext:null,retryLane:0};function ed(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ny(t,e,r){var n=e.pendingProps,i=xe.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),de(xe,i&1),t===null)return Xh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,o?(n=e.mode,o=e.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Pc(s,n,0,null),t=ni(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=ed(r),e.memoizedState=Jh,t):Kf(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return iw(t,e,s,n,a,i,r);if(o){o=n.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=jn(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=jn(a,o):(o=ni(o,s,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,s=t.child.memoizedState,s=s===null?ed(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~r,e.memoizedState=Jh,n}return o=t.child,t=o.sibling,n=jn(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Kf(t,e){return e=Pc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pa(t,e,r,n){return n!==null&&Rf(n),io(e,t.child,null,r),t=Kf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iw(t,e,r,n,i,o,s){if(r)return e.flags&256?(e.flags&=-257,n=Fu(Error(B(422))),pa(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=Pc({mode:"visible",children:n.children},i,0,null),o=ni(o,i,s,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&io(e,t.child,null,s),e.child.memoizedState=ed(s),e.memoizedState=Jh,o);if(!(e.mode&1))return pa(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(B(419)),n=Fu(o,n,void 0),pa(t,e,s,n)}if(a=(s&t.childLanes)!==0,St||a){if(n=Ue,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,tn(t,i),xr(n,t,i,-1))}return tg(),n=Fu(Error(B(421))),pa(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=vw.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Lt=Mn(i.nextSibling),Rt=e,me=!0,pr=null,t!==null&&(Ht[Wt++]=Gr,Ht[Wt++]=Yr,Ht[Wt++]=ci,Gr=t.id,Yr=t.overflow,ci=e),e=Kf(e,n.children),e.flags|=4096,e)}function qp(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Gh(t.return,e,r)}function Iu(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function By(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(st(t,e,n.children,r),n=xe.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qp(t,r,e);else if(t.tag===19)qp(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(de(xe,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Wl(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Iu(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wl(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Iu(e,!0,r,null,o);break;case"together":Iu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ll(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function rn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),hi|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,r=jn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=jn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function ow(t,e,r){switch(e.tag){case 3:Iy(e),no();break;case 5:hy(e);break;case 1:Ct(e.type)&&Il(e);break;case 4:$f(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;de(zl,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(de(xe,xe.current&1),e.flags|=128,null):r&e.child.childLanes?Ny(t,e,r):(de(xe,xe.current&1),t=rn(t,e,r),t!==null?t.sibling:null);de(xe,xe.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return By(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),de(xe,xe.current),n)break;return null;case 22:case 23:return e.lanes=0,Ry(t,e,r)}return rn(t,e,r)}var zy,td,$y,Hy;zy=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};td=function(){};$y=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Qn(Fr.current);var o=null;switch(r){case"input":i=wh(t,i),n=wh(t,n),o=[];break;case"select":i=we({},i,{value:void 0}),n=we({},n,{value:void 0}),o=[];break;case"textarea":i=Eh(t,i),n=Eh(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Rl)}kh(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(us.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(us.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&fe("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};Hy=function(t,e,r,n){r!==n&&(e.flags|=4)};function Bo(t,e){if(!me)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function sw(t,e,r){var n=e.pendingProps;switch(Lf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(e),null;case 1:return Ct(e.type)&&Fl(),tt(e),null;case 3:return n=e.stateNode,oo(),ge(xt),ge(it),Wf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(fa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pr!==null&&(cd(pr),pr=null))),td(t,e),tt(e),null;case 5:Hf(e);var i=Qn(_s.current);if(r=e.type,t!==null&&e.stateNode!=null)$y(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(B(166));return tt(e),null}if(t=Qn(Fr.current),fa(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Ar]=e,n[xs]=o,t=(e.mode&1)!==0,r){case"dialog":fe("cancel",n),fe("close",n);break;case"iframe":case"object":case"embed":fe("load",n);break;case"video":case"audio":for(i=0;i<Go.length;i++)fe(Go[i],n);break;case"source":fe("error",n);break;case"img":case"image":case"link":fe("error",n),fe("load",n);break;case"details":fe("toggle",n);break;case"input":op(n,o),fe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},fe("invalid",n);break;case"textarea":ap(n,o),fe("invalid",n)}kh(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&da(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&da(n.textContent,a,t),i=["children",""+a]):us.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&fe("scroll",n)}switch(r){case"input":ia(n),sp(n,o,!0);break;case"textarea":ia(n),lp(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Rl)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mv(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[Ar]=e,t[xs]=n,zy(t,e,!1,!1),e.stateNode=t;e:{switch(s=Mh(r,n),r){case"dialog":fe("cancel",t),fe("close",t),i=n;break;case"iframe":case"object":case"embed":fe("load",t),i=n;break;case"video":case"audio":for(i=0;i<Go.length;i++)fe(Go[i],t);i=n;break;case"source":fe("error",t),i=n;break;case"img":case"image":case"link":fe("error",t),fe("load",t),i=n;break;case"details":fe("toggle",t),i=n;break;case"input":op(t,n),i=wh(t,n),fe("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=we({},n,{value:void 0}),fe("invalid",t);break;case"textarea":ap(t,n),i=Eh(t,n),fe("invalid",t);break;default:i=n}kh(r,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Sv(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vv(t,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&hs(t,l):typeof l=="number"&&hs(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(us.hasOwnProperty(o)?l!=null&&o==="onScroll"&&fe("scroll",t):l!=null&&Sf(t,o,l,s))}switch(r){case"input":ia(t),sp(t,n,!1);break;case"textarea":ia(t),lp(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ln(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Xi(t,!!n.multiple,o,!1):n.defaultValue!=null&&Xi(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Rl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tt(e),null;case 6:if(t&&e.stateNode!=null)Hy(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(B(166));if(r=Qn(_s.current),Qn(Fr.current),fa(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ar]=e,(o=n.nodeValue!==r)&&(t=Rt,t!==null))switch(t.tag){case 3:da(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&da(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ar]=e,e.stateNode=n}return tt(e),null;case 13:if(ge(xe),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(me&&Lt!==null&&e.mode&1&&!(e.flags&128))sy(),no(),e.flags|=98560,o=!1;else if(o=fa(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(B(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[Ar]=e}else no(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tt(e),o=!1}else pr!==null&&(cd(pr),pr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||xe.current&1?Ne===0&&(Ne=3):tg())),e.updateQueue!==null&&(e.flags|=4),tt(e),null);case 4:return oo(),td(t,e),t===null&&ys(e.stateNode.containerInfo),tt(e),null;case 10:return Nf(e.type._context),tt(e),null;case 17:return Ct(e.type)&&Fl(),tt(e),null;case 19:if(ge(xe),o=e.memoizedState,o===null)return tt(e),null;if(n=(e.flags&128)!==0,s=o.rendering,s===null)if(n)Bo(o,!1);else{if(Ne!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Wl(t),s!==null){for(e.flags|=128,Bo(o,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return de(xe,xe.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ee()>ao&&(e.flags|=128,n=!0,Bo(o,!1),e.lanes=4194304)}else{if(!n)if(t=Wl(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Bo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!me)return tt(e),null}else 2*Ee()-o.renderingStartTime>ao&&r!==1073741824&&(e.flags|=128,n=!0,Bo(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(r=o.last,r!==null?r.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ee(),e.sibling=null,r=xe.current,de(xe,n?r&1|2:r&1),e):(tt(e),null);case 22:case 23:return eg(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?At&1073741824&&(tt(e),e.subtreeFlags&6&&(e.flags|=8192)):tt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function aw(t,e){switch(Lf(e),e.tag){case 1:return Ct(e.type)&&Fl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oo(),ge(xt),ge(it),Wf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hf(e),null;case 13:if(ge(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));no()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ge(xe),null;case 4:return oo(),null;case 10:return Nf(e.type._context),null;case 22:case 23:return eg(),null;case 24:return null;default:return null}}var ma=!1,rt=!1,lw=typeof WeakSet=="function"?WeakSet:Set,U=null;function Bi(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){be(t,e,n)}else r.current=null}function rd(t,e,r){try{r()}catch(n){be(t,e,n)}}var Qp=!1;function cw(t,e){if(Bh=Al,t=Gv(),Af(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,a=-1,l=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var f;h!==r||i!==0&&h.nodeType!==3||(a=s+i),h!==o||n!==0&&h.nodeType!==3||(l=s+n),h.nodeType===3&&(s+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===r&&++c===i&&(a=s),d===o&&++u===n&&(l=s),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(zh={focusedElem:t,selectionRange:r},Al=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,S=m.memoizedState,p=e.stateNode,g=p.getSnapshotBeforeUpdate(e.elementType===e.type?v:hr(e.type,v),S);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(x){be(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return m=Qp,Qp=!1,m}function ts(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&rd(e,r,o)}i=i.next}while(i!==n)}}function kc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function nd(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Wy(t){var e=t.alternate;e!==null&&(t.alternate=null,Wy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ar],delete e[xs],delete e[Wh],delete e[U_],delete e[X_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vy(t){return t.tag===5||t.tag===3||t.tag===4}function Zp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function id(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Rl));else if(n!==4&&(t=t.child,t!==null))for(id(t,e,r),t=t.sibling;t!==null;)id(t,e,r),t=t.sibling}function od(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(od(t,e,r),t=t.sibling;t!==null;)od(t,e,r),t=t.sibling}var Ke=null,dr=!1;function hn(t,e,r){for(r=r.child;r!==null;)Uy(t,e,r),r=r.sibling}function Uy(t,e,r){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(xc,r)}catch{}switch(r.tag){case 5:rt||Bi(r,e);case 6:var n=Ke,i=dr;Ke=null,hn(t,e,r),Ke=n,dr=i,Ke!==null&&(dr?(t=Ke,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ke.removeChild(r.stateNode));break;case 18:Ke!==null&&(dr?(t=Ke,r=r.stateNode,t.nodeType===8?Pu(t.parentNode,r):t.nodeType===1&&Pu(t,r),ps(t)):Pu(Ke,r.stateNode));break;case 4:n=Ke,i=dr,Ke=r.stateNode.containerInfo,dr=!0,hn(t,e,r),Ke=n,dr=i;break;case 0:case 11:case 14:case 15:if(!rt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&rd(r,e,s),i=i.next}while(i!==n)}hn(t,e,r);break;case 1:if(!rt&&(Bi(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){be(r,e,a)}hn(t,e,r);break;case 21:hn(t,e,r);break;case 22:r.mode&1?(rt=(n=rt)||r.memoizedState!==null,hn(t,e,r),rt=n):hn(t,e,r);break;default:hn(t,e,r)}}function Jp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new lw),e.forEach(function(n){var i=yw.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ar(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ke=a.stateNode,dr=!1;break e;case 3:Ke=a.stateNode.containerInfo,dr=!0;break e;case 4:Ke=a.stateNode.containerInfo,dr=!0;break e}a=a.return}if(Ke===null)throw Error(B(160));Uy(o,s,i),Ke=null,dr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){be(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Xy(e,t),e=e.sibling}function Xy(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ar(e,t),kr(t),n&4){try{ts(3,t,t.return),kc(3,t)}catch(v){be(t,t.return,v)}try{ts(5,t,t.return)}catch(v){be(t,t.return,v)}}break;case 1:ar(e,t),kr(t),n&512&&r!==null&&Bi(r,r.return);break;case 5:if(ar(e,t),kr(t),n&512&&r!==null&&Bi(r,r.return),t.flags&32){var i=t.stateNode;try{hs(i,"")}catch(v){be(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=r!==null?r.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&gv(i,o),Mh(a,s);var c=Mh(a,o);for(s=0;s<l.length;s+=2){var u=l[s],h=l[s+1];u==="style"?Sv(i,h):u==="dangerouslySetInnerHTML"?vv(i,h):u==="children"?hs(i,h):Sf(i,u,h,c)}switch(a){case"input":bh(i,o);break;case"textarea":pv(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?Xi(i,!!o.multiple,f,!1):d!==!!o.multiple&&(o.defaultValue!=null?Xi(i,!!o.multiple,o.defaultValue,!0):Xi(i,!!o.multiple,o.multiple?[]:"",!1))}i[xs]=o}catch(v){be(t,t.return,v)}}break;case 6:if(ar(e,t),kr(t),n&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){be(t,t.return,v)}}break;case 3:if(ar(e,t),kr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ps(e.containerInfo)}catch(v){be(t,t.return,v)}break;case 4:ar(e,t),kr(t);break;case 13:ar(e,t),kr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Zf=Ee())),n&4&&Jp(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(rt=(c=rt)||u,ar(e,t),rt=c):ar(e,t),kr(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(U=t,u=t.child;u!==null;){for(h=U=u;U!==null;){switch(d=U,f=d.child,d.tag){case 0:case 11:case 14:case 15:ts(4,d,d.return);break;case 1:Bi(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){be(n,r,v)}}break;case 5:Bi(d,d.return);break;case 22:if(d.memoizedState!==null){tm(h);continue}}f!==null?(f.return=d,U=f):tm(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=yv("display",s))}catch(v){be(t,t.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){be(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ar(e,t),kr(t),n&4&&Jp(t);break;case 21:break;default:ar(e,t),kr(t)}}function kr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Vy(r)){var n=r;break e}r=r.return}throw Error(B(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(hs(i,""),n.flags&=-33);var o=Zp(t);od(t,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=Zp(t);id(t,a,s);break;default:throw Error(B(161))}}catch(l){be(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uw(t,e,r){U=t,Gy(t)}function Gy(t,e,r){for(var n=(t.mode&1)!==0;U!==null;){var i=U,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||ma;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||rt;a=ma;var c=rt;if(ma=s,(rt=l)&&!c)for(U=i;U!==null;)s=U,l=s.child,s.tag===22&&s.memoizedState!==null?rm(i):l!==null?(l.return=s,U=l):rm(i);for(;o!==null;)U=o,Gy(o),o=o.sibling;U=i,ma=a,rt=c}em(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,U=o):em(t)}}function em(t){for(;U!==null;){var e=U;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rt||kc(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!rt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:hr(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Np(e,o,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Np(e,s,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&ps(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}rt||e.flags&512&&nd(e)}catch(d){be(e,e.return,d)}}if(e===t){U=null;break}if(r=e.sibling,r!==null){r.return=e.return,U=r;break}U=e.return}}function tm(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var r=e.sibling;if(r!==null){r.return=e.return,U=r;break}U=e.return}}function rm(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{kc(4,e)}catch(l){be(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){be(e,i,l)}}var o=e.return;try{nd(e)}catch(l){be(e,o,l)}break;case 5:var s=e.return;try{nd(e)}catch(l){be(e,s,l)}}}catch(l){be(e,e.return,l)}if(e===t){U=null;break}var a=e.sibling;if(a!==null){a.return=e.return,U=a;break}U=e.return}}var hw=Math.ceil,Xl=an.ReactCurrentDispatcher,qf=an.ReactCurrentOwner,Xt=an.ReactCurrentBatchConfig,oe=0,Ue=null,Ae=null,Qe=0,At=0,zi=zn(0),Ne=0,Es=null,hi=0,Mc=0,Qf=0,rs=null,yt=null,Zf=0,ao=1/0,Wr=null,Gl=!1,sd=null,Dn=null,va=!1,Cn=null,Yl=0,ns=0,ad=null,cl=-1,ul=0;function ut(){return oe&6?Ee():cl!==-1?cl:cl=Ee()}function An(t){return t.mode&1?oe&2&&Qe!==0?Qe&-Qe:Y_.transition!==null?(ul===0&&(ul=Dv()),ul):(t=ce,t!==0||(t=window.event,t=t===void 0?16:Nv(t.type)),t):1}function xr(t,e,r,n){if(50<ns)throw ns=0,ad=null,Error(B(185));$s(t,r,n),(!(oe&2)||t!==Ue)&&(t===Ue&&(!(oe&2)&&(Mc|=r),Ne===4&&yn(t,Qe)),_t(t,n),r===1&&oe===0&&!(e.mode&1)&&(ao=Ee()+500,Tc&&$n()))}function _t(t,e){var r=t.callbackNode;YC(t,e);var n=Dl(t,t===Ue?Qe:0);if(n===0)r!==null&&hp(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&hp(r),e===1)t.tag===0?G_(nm.bind(null,t)):ny(nm.bind(null,t)),W_(function(){!(oe&6)&&$n()}),r=null;else{switch(Av(n)){case 1:r=bf;break;case 4:r=Mv;break;case 16:r=Pl;break;case 536870912:r=Pv;break;default:r=Pl}r=t1(r,Yy.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Yy(t,e){if(cl=-1,ul=0,oe&6)throw Error(B(327));var r=t.callbackNode;if(Qi()&&t.callbackNode!==r)return null;var n=Dl(t,t===Ue?Qe:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Kl(t,n);else{e=n;var i=oe;oe|=2;var o=qy();(Ue!==t||Qe!==e)&&(Wr=null,ao=Ee()+500,ri(t,e));do try{gw();break}catch(a){Ky(t,a)}while(!0);If(),Xl.current=o,oe=i,Ae!==null?e=0:(Ue=null,Qe=0,e=Ne)}if(e!==0){if(e===2&&(i=Lh(t),i!==0&&(n=i,e=ld(t,i))),e===1)throw r=Es,ri(t,0),yn(t,n),_t(t,Ee()),r;if(e===6)yn(t,n);else{if(i=t.current.alternate,!(n&30)&&!dw(i)&&(e=Kl(t,n),e===2&&(o=Lh(t),o!==0&&(n=o,e=ld(t,o))),e===1))throw r=Es,ri(t,0),yn(t,n),_t(t,Ee()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(B(345));case 2:Un(t,yt,Wr);break;case 3:if(yn(t,n),(n&130023424)===n&&(e=Zf+500-Ee(),10<e)){if(Dl(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){ut(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hh(Un.bind(null,t,yt,Wr),e);break}Un(t,yt,Wr);break;case 4:if(yn(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-Sr(n);o=1<<s,s=e[s],s>i&&(i=s),n&=~o}if(n=i,n=Ee()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*hw(n/1960))-n,10<n){t.timeoutHandle=Hh(Un.bind(null,t,yt,Wr),n);break}Un(t,yt,Wr);break;case 5:Un(t,yt,Wr);break;default:throw Error(B(329))}}}return _t(t,Ee()),t.callbackNode===r?Yy.bind(null,t):null}function ld(t,e){var r=rs;return t.current.memoizedState.isDehydrated&&(ri(t,e).flags|=256),t=Kl(t,e),t!==2&&(e=yt,yt=r,e!==null&&cd(e)),t}function cd(t){yt===null?yt=t:yt.push.apply(yt,t)}function dw(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!br(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yn(t,e){for(e&=~Qf,e&=~Mc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Sr(e),n=1<<r;t[r]=-1,e&=~n}}function nm(t){if(oe&6)throw Error(B(327));Qi();var e=Dl(t,0);if(!(e&1))return _t(t,Ee()),null;var r=Kl(t,e);if(t.tag!==0&&r===2){var n=Lh(t);n!==0&&(e=n,r=ld(t,n))}if(r===1)throw r=Es,ri(t,0),yn(t,e),_t(t,Ee()),r;if(r===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Un(t,yt,Wr),_t(t,Ee()),null}function Jf(t,e){var r=oe;oe|=1;try{return t(e)}finally{oe=r,oe===0&&(ao=Ee()+500,Tc&&$n())}}function di(t){Cn!==null&&Cn.tag===0&&!(oe&6)&&Qi();var e=oe;oe|=1;var r=Xt.transition,n=ce;try{if(Xt.transition=null,ce=1,t)return t()}finally{ce=n,Xt.transition=r,oe=e,!(oe&6)&&$n()}}function eg(){At=zi.current,ge(zi)}function ri(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,H_(r)),Ae!==null)for(r=Ae.return;r!==null;){var n=r;switch(Lf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fl();break;case 3:oo(),ge(xt),ge(it),Wf();break;case 5:Hf(n);break;case 4:oo();break;case 13:ge(xe);break;case 19:ge(xe);break;case 10:Nf(n.type._context);break;case 22:case 23:eg()}r=r.return}if(Ue=t,Ae=t=jn(t.current,null),Qe=At=e,Ne=0,Es=null,Qf=Mc=hi=0,yt=rs=null,qn!==null){for(e=0;e<qn.length;e++)if(r=qn[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}qn=null}return t}function Ky(t,e){do{var r=Ae;try{if(If(),sl.current=Ul,Vl){for(var n=_e.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Vl=!1}if(ui=0,Ve=Ie=_e=null,es=!1,ws=0,qf.current=null,r===null||r.return===null){Ne=1,Es=e,Ae=null;break}e:{var o=t,s=r.return,a=r,l=e;if(e=Qe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Vp(s);if(f!==null){f.flags&=-257,Up(f,s,a,o,e),f.mode&1&&Wp(o,c,e),e=f,l=c;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){Wp(o,c,e),tg();break e}l=Error(B(426))}}else if(me&&a.mode&1){var S=Vp(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Up(S,s,a,o,e),Rf(so(l,a));break e}}o=l=so(l,a),Ne!==4&&(Ne=2),rs===null?rs=[o]:rs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=Ay(o,l,e);Ip(o,p);break e;case 1:a=l;var g=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Dn===null||!Dn.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=jy(o,a,e);Ip(o,x);break e}}o=o.return}while(o!==null)}Zy(r)}catch(_){e=_,Ae===r&&r!==null&&(Ae=r=r.return);continue}break}while(!0)}function qy(){var t=Xl.current;return Xl.current=Ul,t===null?Ul:t}function tg(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),Ue===null||!(hi&268435455)&&!(Mc&268435455)||yn(Ue,Qe)}function Kl(t,e){var r=oe;oe|=2;var n=qy();(Ue!==t||Qe!==e)&&(Wr=null,ri(t,e));do try{fw();break}catch(i){Ky(t,i)}while(!0);if(If(),oe=r,Xl.current=n,Ae!==null)throw Error(B(261));return Ue=null,Qe=0,Ne}function fw(){for(;Ae!==null;)Qy(Ae)}function gw(){for(;Ae!==null&&!BC();)Qy(Ae)}function Qy(t){var e=e1(t.alternate,t,At);t.memoizedProps=t.pendingProps,e===null?Zy(t):Ae=e,qf.current=null}function Zy(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=aw(r,e),r!==null){r.flags&=32767,Ae=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ne=6,Ae=null;return}}else if(r=sw(r,e,At),r!==null){Ae=r;return}if(e=e.sibling,e!==null){Ae=e;return}Ae=e=t}while(e!==null);Ne===0&&(Ne=5)}function Un(t,e,r){var n=ce,i=Xt.transition;try{Xt.transition=null,ce=1,pw(t,e,r,n)}finally{Xt.transition=i,ce=n}return null}function pw(t,e,r,n){do Qi();while(Cn!==null);if(oe&6)throw Error(B(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(KC(t,o),t===Ue&&(Ae=Ue=null,Qe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||va||(va=!0,t1(Pl,function(){return Qi(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Xt.transition,Xt.transition=null;var s=ce;ce=1;var a=oe;oe|=4,qf.current=null,cw(t,r),Xy(r,t),R_(zh),Al=!!Bh,zh=Bh=null,t.current=r,uw(r),zC(),oe=a,ce=s,Xt.transition=o}else t.current=r;if(va&&(va=!1,Cn=t,Yl=i),o=t.pendingLanes,o===0&&(Dn=null),WC(r.stateNode),_t(t,Ee()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,t=sd,sd=null,t;return Yl&1&&t.tag!==0&&Qi(),o=t.pendingLanes,o&1?t===ad?ns++:(ns=0,ad=t):ns=0,$n(),null}function Qi(){if(Cn!==null){var t=Av(Yl),e=Xt.transition,r=ce;try{if(Xt.transition=null,ce=16>t?16:t,Cn===null)var n=!1;else{if(t=Cn,Cn=null,Yl=0,oe&6)throw Error(B(331));var i=oe;for(oe|=4,U=t.current;U!==null;){var o=U,s=o.child;if(U.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(U=c;U!==null;){var u=U;switch(u.tag){case 0:case 11:case 15:ts(8,u,o)}var h=u.child;if(h!==null)h.return=u,U=h;else for(;U!==null;){u=U;var d=u.sibling,f=u.return;if(Wy(u),u===c){U=null;break}if(d!==null){d.return=f,U=d;break}U=f}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}U=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,U=s;else e:for(;U!==null;){if(o=U,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ts(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,U=p;break e}U=o.return}}var g=t.current;for(U=g;U!==null;){s=U;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,U=y;else e:for(s=g;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kc(9,a)}}catch(_){be(a,a.return,_)}if(a===s){U=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,U=x;break e}U=a.return}}if(oe=i,$n(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(xc,t)}catch{}n=!0}return n}finally{ce=r,Xt.transition=e}}return!1}function im(t,e,r){e=so(r,e),e=Ay(t,e,1),t=Pn(t,e,1),e=ut(),t!==null&&($s(t,1,e),_t(t,e))}function be(t,e,r){if(t.tag===3)im(t,t,r);else for(;e!==null;){if(e.tag===3){im(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Dn===null||!Dn.has(n))){t=so(r,t),t=jy(e,t,1),e=Pn(e,t,1),t=ut(),e!==null&&($s(e,1,t),_t(e,t));break}}e=e.return}}function mw(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ut(),t.pingedLanes|=t.suspendedLanes&r,Ue===t&&(Qe&r)===r&&(Ne===4||Ne===3&&(Qe&130023424)===Qe&&500>Ee()-Zf?ri(t,0):Qf|=r),_t(t,e)}function Jy(t,e){e===0&&(t.mode&1?(e=aa,aa<<=1,!(aa&130023424)&&(aa=4194304)):e=1);var r=ut();t=tn(t,e),t!==null&&($s(t,e,r),_t(t,r))}function vw(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Jy(t,r)}function yw(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(B(314))}n!==null&&n.delete(e),Jy(t,r)}var e1;e1=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||xt.current)St=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return St=!1,ow(t,e,r);St=!!(t.flags&131072)}else St=!1,me&&e.flags&1048576&&iy(e,Bl,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ll(t,e),t=e.pendingProps;var i=ro(e,it.current);qi(e,r),i=Uf(null,e,n,t,i,r);var o=Xf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ct(n)?(o=!0,Il(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zf(e),i.updater=Oc,e.stateNode=i,i._reactInternals=e,Kh(e,n,t,r),e=Zh(null,e,n,!0,o,r)):(e.tag=0,me&&o&&jf(e),st(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ll(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=xw(n),t=hr(n,t),i){case 0:e=Qh(null,e,n,t,r);break e;case 1:e=Yp(null,e,n,t,r);break e;case 11:e=Xp(null,e,n,t,r);break e;case 14:e=Gp(null,e,n,hr(n.type,t),r);break e}throw Error(B(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:hr(n,i),Qh(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:hr(n,i),Yp(t,e,n,i,r);case 3:e:{if(Iy(e),t===null)throw Error(B(387));n=e.pendingProps,o=e.memoizedState,i=o.element,uy(t,e),Hl(e,n,null,r);var s=e.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=so(Error(B(423)),e),e=Kp(t,e,n,r,i);break e}else if(n!==i){i=so(Error(B(424)),e),e=Kp(t,e,n,r,i);break e}else for(Lt=Mn(e.stateNode.containerInfo.firstChild),Rt=e,me=!0,pr=null,r=ly(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(no(),n===i){e=rn(t,e,r);break e}st(t,e,n,r)}e=e.child}return e;case 5:return hy(e),t===null&&Xh(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,$h(n,i)?s=null:o!==null&&$h(n,o)&&(e.flags|=32),Fy(t,e),st(t,e,s,r),e.child;case 6:return t===null&&Xh(e),null;case 13:return Ny(t,e,r);case 4:return $f(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=io(e,null,n,r):st(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:hr(n,i),Xp(t,e,n,i,r);case 7:return st(t,e,e.pendingProps,r),e.child;case 8:return st(t,e,e.pendingProps.children,r),e.child;case 12:return st(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,de(zl,n._currentValue),n._currentValue=s,o!==null)if(br(o.value,s)){if(o.children===i.children&&!xt.current){e=rn(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Qr(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Gh(o.return,r,e),a.lanes|=r;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(B(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),Gh(s,r,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}st(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,qi(e,r),i=Gt(i),n=n(i),e.flags|=1,st(t,e,n,r),e.child;case 14:return n=e.type,i=hr(n,e.pendingProps),i=hr(n.type,i),Gp(t,e,n,i,r);case 15:return Ly(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:hr(n,i),ll(t,e),e.tag=1,Ct(n)?(t=!0,Il(e)):t=!1,qi(e,r),Dy(e,n,i),Kh(e,n,i,r),Zh(null,e,n,!0,t,r);case 19:return By(t,e,r);case 22:return Ry(t,e,r)}throw Error(B(156,e.tag))};function t1(t,e){return kv(t,e)}function Sw(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(t,e,r,n){return new Sw(t,e,r,n)}function rg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xw(t){if(typeof t=="function")return rg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cf)return 11;if(t===_f)return 14}return 2}function jn(t,e){var r=t.alternate;return r===null?(r=Ut(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function hl(t,e,r,n,i,o){var s=2;if(n=t,typeof t=="function")rg(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Pi:return ni(r.children,i,o,e);case xf:s=8,i|=8;break;case Sh:return t=Ut(12,r,e,i|2),t.elementType=Sh,t.lanes=o,t;case xh:return t=Ut(13,r,e,i),t.elementType=xh,t.lanes=o,t;case Ch:return t=Ut(19,r,e,i),t.elementType=Ch,t.lanes=o,t;case hv:return Pc(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cv:s=10;break e;case uv:s=9;break e;case Cf:s=11;break e;case _f:s=14;break e;case pn:s=16,n=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Ut(s,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function ni(t,e,r,n){return t=Ut(7,t,n,e),t.lanes=r,t}function Pc(t,e,r,n){return t=Ut(22,t,n,e),t.elementType=hv,t.lanes=r,t.stateNode={isHidden:!1},t}function Nu(t,e,r){return t=Ut(6,t,null,e),t.lanes=r,t}function Bu(t,e,r){return e=Ut(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Cw(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Su(0),this.expirationTimes=Su(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Su(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ng(t,e,r,n,i,o,s,a,l){return t=new Cw(t,e,r,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ut(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zf(o),t}function _w(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mi,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function r1(t){if(!t)return Rn;t=t._reactInternals;e:{if(yi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ct(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var r=t.type;if(Ct(r))return ry(t,r,e)}return e}function n1(t,e,r,n,i,o,s,a,l){return t=ng(r,n,!0,t,i,o,s,a,l),t.context=r1(null),r=t.current,n=ut(),i=An(r),o=Qr(n,i),o.callback=e??null,Pn(r,o,i),t.current.lanes=i,$s(t,i,n),_t(t,n),t}function Dc(t,e,r,n){var i=e.current,o=ut(),s=An(i);return r=r1(r),e.context===null?e.context=r:e.pendingContext=r,e=Qr(o,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Pn(i,e,s),t!==null&&(xr(t,i,s,o),ol(t,i,s)),s}function ql(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function om(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ig(t,e){om(t,e),(t=t.alternate)&&om(t,e)}function ww(){return null}var i1=typeof reportError=="function"?reportError:function(t){console.error(t)};function og(t){this._internalRoot=t}Ac.prototype.render=og.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Dc(t,e,null,null)};Ac.prototype.unmount=og.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;di(function(){Dc(null,t,null,null)}),e[en]=null}};function Ac(t){this._internalRoot=t}Ac.prototype.unstable_scheduleHydration=function(t){if(t){var e=Rv();t={blockedOn:null,target:t,priority:e};for(var r=0;r<vn.length&&e!==0&&e<vn[r].priority;r++);vn.splice(r,0,t),r===0&&Iv(t)}};function sg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sm(){}function bw(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var c=ql(s);o.call(c)}}var s=n1(e,n,t,0,null,!1,!1,"",sm);return t._reactRootContainer=s,t[en]=s.current,ys(t.nodeType===8?t.parentNode:t),di(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=ql(l);a.call(c)}}var l=ng(t,0,!1,null,null,!1,!1,"",sm);return t._reactRootContainer=l,t[en]=l.current,ys(t.nodeType===8?t.parentNode:t),di(function(){Dc(e,l,r,n)}),l}function Lc(t,e,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=ql(s);a.call(l)}}Dc(e,s,t,i)}else s=bw(r,e,t,i,n);return ql(s)}jv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Xo(e.pendingLanes);r!==0&&(Tf(e,r|1),_t(e,Ee()),!(oe&6)&&(ao=Ee()+500,$n()))}break;case 13:di(function(){var n=tn(t,1);if(n!==null){var i=ut();xr(n,t,1,i)}}),ig(t,1)}};Ef=function(t){if(t.tag===13){var e=tn(t,134217728);if(e!==null){var r=ut();xr(e,t,134217728,r)}ig(t,134217728)}};Lv=function(t){if(t.tag===13){var e=An(t),r=tn(t,e);if(r!==null){var n=ut();xr(r,t,e,n)}ig(t,e)}};Rv=function(){return ce};Fv=function(t,e){var r=ce;try{return ce=t,e()}finally{ce=r}};Dh=function(t,e,r){switch(e){case"input":if(bh(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=bc(n);if(!i)throw Error(B(90));fv(n),bh(n,i)}}}break;case"textarea":pv(t,r);break;case"select":e=r.value,e!=null&&Xi(t,!!r.multiple,e,!1)}};_v=Jf;wv=di;var Tw={usingClientEntryPoint:!1,Events:[Ws,Li,bc,xv,Cv,Jf]},zo={findFiberByHostInstance:Kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ew={bundleType:zo.bundleType,version:zo.version,rendererPackageName:zo.rendererPackageName,rendererConfig:zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ev(t),t===null?null:t.stateNode},findFiberByHostInstance:zo.findFiberByHostInstance||ww,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ya=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ya.isDisabled&&ya.supportsFiber)try{xc=ya.inject(Ew),Rr=ya}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tw;It.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sg(e))throw Error(B(200));return _w(t,e,null,r)};It.createRoot=function(t,e){if(!sg(t))throw Error(B(299));var r=!1,n="",i=i1;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ng(t,1,!1,null,null,r,!1,n,i),t[en]=e.current,ys(t.nodeType===8?t.parentNode:t),new og(e)};It.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Ev(e),t=t===null?null:t.stateNode,t};It.flushSync=function(t){return di(t)};It.hydrate=function(t,e,r){if(!jc(e))throw Error(B(200));return Lc(null,t,e,!0,r)};It.hydrateRoot=function(t,e,r){if(!sg(t))throw Error(B(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=i1;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=n1(e,null,t,1,r??null,i,!1,o,s),t[en]=e.current,ys(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Ac(e)};It.render=function(t,e,r){if(!jc(e))throw Error(B(200));return Lc(null,t,e,!1,r)};It.unmountComponentAtNode=function(t){if(!jc(t))throw Error(B(40));return t._reactRootContainer?(di(function(){Lc(null,null,t,!1,function(){t._reactRootContainer=null,t[en]=null})}),!0):!1};It.unstable_batchedUpdates=Jf;It.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!jc(r))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Lc(t,e,r,!1,n)};It.version="18.3.1-next-f1338f8080-20240426";function o1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o1)}catch(t){console.error(t)}}o1(),ov.exports=It;var Rc=ov.exports;const ud=hf(Rc),Ow=G0({__proto__:null,default:ud},[Rc]);var s1,am=Rc;s1=am.createRoot,am.hydrateRoot;function w(t,e,r){return(e=function(n){var i=function(o,s){if(typeof o!="object"||!o)return o;var a=o[Symbol.toPrimitive];if(a!==void 0){var l=a.call(o,s||"default");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(o)}(n,"string");return typeof i=="symbol"?i:i+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function k(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lm(Object(r),!0).forEach(function(n){w(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lm(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ve(t,e){if(t==null)return{};var r,n,i=function(s,a){if(s==null)return{};var l={};for(var c in s)if({}.hasOwnProperty.call(s,c)){if(a.indexOf(c)>=0)continue;l[c]=s[c]}return l}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Hn(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}let cm=class{constructor(){w(this,"browserShadowBlurConstant",1),w(this,"DPI",96),w(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),w(this,"perfLimitSizeTotal",2097152),w(this,"maxCacheSideLimit",4096),w(this,"minCacheSideLimit",256),w(this,"disableStyleCopyPaste",!1),w(this,"enableGLFiltering",!0),w(this,"textureSize",4096),w(this,"forceGLPutImageData",!1),w(this,"cachesBoundsOfCurve",!1),w(this,"fontPaths",{}),w(this,"NUM_FRACTION_DIGITS",4)}};const ie=new class extends cm{constructor(t){super(),this.configure(t)}configure(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,t)}addFonts(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=k(k({},this.fontPaths),t)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(t=>{delete this.fontPaths[t]})}clearFonts(){this.fontPaths={}}restoreDefaults(t){const e=new cm,r=(t==null?void 0:t.reduce((n,i)=>(n[i]=e[i],n),{}))||e;this.configure(r)}},Fn=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return console[t]("fabric",...r)};let Lr=class extends Error{constructor(e,r){super("fabric: ".concat(e),r)}},kw=class extends Lr{constructor(e){super("".concat(e," 'options.signal' is in 'aborted' state"))}},Mw=class{},Pw=class extends Mw{testPrecision(e,r){const n="precision ".concat(r,` float;
void main(){}`),i=e.createShader(e.FRAGMENT_SHADER);return!!i&&(e.shaderSource(i,n),e.compileShader(i),!!e.getShaderParameter(i,e.COMPILE_STATUS))}queryWebGL(e){const r=e.getContext("webgl");r&&(this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(n=>this.testPrecision(r,n)),r.getExtension("WEBGL_lose_context").loseContext(),Fn("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(e){return!!this.maxTextureSize&&this.maxTextureSize>=e}};const Dw={};let um;const Nr=()=>um||(um={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new Pw,dispose(){},copyPasteData:Dw}),yo=()=>Nr().document,ag=()=>Nr().window,a1=()=>{var t;return Math.max((t=ie.devicePixelRatio)!==null&&t!==void 0?t:ag().devicePixelRatio,1)},is=new class{constructor(){w(this,"charWidthsCache",{}),w(this,"boundsOfCurveCache",{})}getFontCache(t){let{fontFamily:e,fontStyle:r,fontWeight:n}=t;e=e.toLowerCase(),this.charWidthsCache[e]||(this.charWidthsCache[e]={});const i=this.charWidthsCache[e],o="".concat(r.toLowerCase(),"_").concat((n+"").toLowerCase());return i[o]||(i[o]={}),i[o]}clearFontCache(t){(t=(t||"").toLowerCase())?this.charWidthsCache[t]&&delete this.charWidthsCache[t]:this.charWidthsCache={}}limitDimsByArea(t){const{perfLimitSizeTotal:e}=ie,r=Math.sqrt(e*t);return[Math.floor(r),Math.floor(e/r)]}},hd="6.4.2";function dl(){}const Us=Math.PI/2,Ql=2*Math.PI,lg=Math.PI/180,ht=Object.freeze([1,0,0,1,0,0]),cg=16,dn=.4477152502,re="center",le="left",wt="top",dd="bottom",Te="right",bt="none",ug=/\r?\n/,l1="moving",Fc="scaling",c1="rotating",hg="rotate",u1="skewing",Os="resizing",Aw="modifyPoly",jw="modifyPath",Zl="changed",Ic="scale",Ot="scaleX",Kt="scaleY",So="skewX",xo="skewY",je="fill",Tt="stroke",Jl="modified",bi="json",zu="svg",V=new class{constructor(){this[bi]=new Map,this[zu]=new Map}has(t){return this[bi].has(t)}getClass(t){const e=this[bi].get(t);if(!e)throw new Lr("No class registered for ".concat(t));return e}setClass(t,e){e?this[bi].set(e,t):(this[bi].set(t.type,t),this[bi].set(t.type.toLowerCase(),t))}getSVGClass(t){return this[zu].get(t)}setSVGClass(t,e){this[zu].set(e??t.type.toLowerCase(),t)}},ec=new class extends Array{remove(t){const e=this.indexOf(t);e>-1&&this.splice(e,1)}cancelAll(){const t=this.splice(0);return t.forEach(e=>e.abort()),t}cancelByCanvas(t){if(!t)return[];const e=this.filter(r=>{var n;return r.target===t||typeof r.target=="object"&&((n=r.target)===null||n===void 0?void 0:n.canvas)===t});return e.forEach(r=>r.abort()),e}cancelByTarget(t){if(!t)return[];const e=this.filter(r=>r.target===t);return e.forEach(r=>r.abort()),e}};class Lw{constructor(){w(this,"__eventListeners",{})}on(e,r){if(this.__eventListeners||(this.__eventListeners={}),typeof e=="object")return Object.entries(e).forEach(n=>{let[i,o]=n;this.on(i,o)}),()=>this.off(e);if(r){const n=e;return this.__eventListeners[n]||(this.__eventListeners[n]=[]),this.__eventListeners[n].push(r),()=>this.off(n,r)}return()=>!1}once(e,r){if(typeof e=="object"){const n=[];return Object.entries(e).forEach(i=>{let[o,s]=i;n.push(this.once(o,s))}),()=>n.forEach(i=>i())}if(r){const n=this.on(e,function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];r.call(this,...o),n()});return n}return()=>!1}_removeEventListener(e,r){if(this.__eventListeners[e])if(r){const n=this.__eventListeners[e],i=n.indexOf(r);i>-1&&n.splice(i,1)}else this.__eventListeners[e]=[]}off(e,r){if(this.__eventListeners)if(e===void 0)for(const n in this.__eventListeners)this._removeEventListener(n);else typeof e=="object"?Object.entries(e).forEach(n=>{let[i,o]=n;this._removeEventListener(i,o)}):this._removeEventListener(e,r)}fire(e,r){var n;if(!this.__eventListeners)return;const i=(n=this.__eventListeners[e])===null||n===void 0?void 0:n.concat();if(i)for(let o=0;o<i.length;o++)i[o].call(this,r||{})}}const Oi=(t,e)=>{const r=t.indexOf(e);return r!==-1&&t.splice(r,1),t},nn=t=>{if(t===0)return 1;switch(Math.abs(t)/Us){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},on=t=>{if(t===0)return 0;const e=t/Us,r=Math.sign(t);switch(e){case 1:return r;case 2:return 0;case 3:return-r}return Math.sin(t)};class M{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof e=="object"?(this.x=e.x,this.y=e.y):(this.x=e,this.y=r)}add(e){return new M(this.x+e.x,this.y+e.y)}addEquals(e){return this.x+=e.x,this.y+=e.y,this}scalarAdd(e){return new M(this.x+e,this.y+e)}scalarAddEquals(e){return this.x+=e,this.y+=e,this}subtract(e){return new M(this.x-e.x,this.y-e.y)}subtractEquals(e){return this.x-=e.x,this.y-=e.y,this}scalarSubtract(e){return new M(this.x-e,this.y-e)}scalarSubtractEquals(e){return this.x-=e,this.y-=e,this}multiply(e){return new M(this.x*e.x,this.y*e.y)}scalarMultiply(e){return new M(this.x*e,this.y*e)}scalarMultiplyEquals(e){return this.x*=e,this.y*=e,this}divide(e){return new M(this.x/e.x,this.y/e.y)}scalarDivide(e){return new M(this.x/e,this.y/e)}scalarDivideEquals(e){return this.x/=e,this.y/=e,this}eq(e){return this.x===e.x&&this.y===e.y}lt(e){return this.x<e.x&&this.y<e.y}lte(e){return this.x<=e.x&&this.y<=e.y}gt(e){return this.x>e.x&&this.y>e.y}gte(e){return this.x>=e.x&&this.y>=e.y}lerp(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return r=Math.max(Math.min(1,r),0),new M(this.x+(e.x-this.x)*r,this.y+(e.y-this.y)*r)}distanceFrom(e){const r=this.x-e.x,n=this.y-e.y;return Math.sqrt(r*r+n*n)}midPointFrom(e){return this.lerp(e)}min(e){return new M(Math.min(this.x,e.x),Math.min(this.y,e.y))}max(e){return new M(Math.max(this.x,e.x),Math.max(this.y,e.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(e,r){return this.x=e,this.y=r,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setFromPoint(e){return this.x=e.x,this.y=e.y,this}swap(e){const r=this.x,n=this.y;this.x=e.x,this.y=e.y,e.x=r,e.y=n}clone(){return new M(this.x,this.y)}rotate(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dg;const n=on(e),i=nn(e),o=this.subtract(r);return new M(o.x*i-o.y*n,o.x*n+o.y*i).add(r)}transform(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new M(e[0]*this.x+e[2]*this.y+(r?0:e[4]),e[1]*this.x+e[3]*this.y+(r?0:e[5]))}}const dg=new M(0,0),fl=t=>!!t&&Array.isArray(t._objects);function h1(t){class e extends t{constructor(){super(...arguments),w(this,"_objects",[])}_onObjectAdded(n){}_onObjectRemoved(n){}_onStackOrderChanged(n){}add(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];const s=this._objects.push(...i);return i.forEach(a=>this._onObjectAdded(a)),s}insertAt(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return this._objects.splice(n,0,...o),o.forEach(a=>this._onObjectAdded(a)),this._objects.length}remove(){const n=this._objects,i=[];for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return s.forEach(l=>{const c=n.indexOf(l);c!==-1&&(n.splice(c,1),i.push(l),this._onObjectRemoved(l))}),i}forEachObject(n){this.getObjects().forEach((i,o,s)=>n(i,o,s))}getObjects(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length===0?[...this._objects]:this._objects.filter(s=>s.isType(...i))}item(n){return this._objects[n]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(n,i){return!!this._objects.includes(n)||!!i&&this._objects.some(o=>o instanceof e&&o.contains(n,!0))}complexity(){return this._objects.reduce((n,i)=>n+=i.complexity?i.complexity():0,0)}sendObjectToBack(n){return!(!n||n===this._objects[0])&&(Oi(this._objects,n),this._objects.unshift(n),this._onStackOrderChanged(n),!0)}bringObjectToFront(n){return!(!n||n===this._objects[this._objects.length-1])&&(Oi(this._objects,n),this._objects.push(n),this._onStackOrderChanged(n),!0)}sendObjectBackwards(n,i){if(!n)return!1;const o=this._objects.indexOf(n);if(o!==0){const s=this.findNewLowerIndex(n,o,i);return Oi(this._objects,n),this._objects.splice(s,0,n),this._onStackOrderChanged(n),!0}return!1}bringObjectForward(n,i){if(!n)return!1;const o=this._objects.indexOf(n);if(o!==this._objects.length-1){const s=this.findNewUpperIndex(n,o,i);return Oi(this._objects,n),this._objects.splice(s,0,n),this._onStackOrderChanged(n),!0}return!1}moveObjectTo(n,i){return n!==this._objects[i]&&(Oi(this._objects,n),this._objects.splice(i,0,n),this._onStackOrderChanged(n),!0)}findNewLowerIndex(n,i,o){let s;if(o){s=i;for(let a=i-1;a>=0;--a)if(n.isOverlapping(this._objects[a])){s=a;break}}else s=i-1;return s}findNewUpperIndex(n,i,o){let s;if(o){s=i;for(let a=i+1;a<this._objects.length;++a)if(n.isOverlapping(this._objects[a])){s=a;break}}else s=i+1;return s}collectObjects(n){let{left:i,top:o,width:s,height:a}=n,{includeIntersecting:l=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const c=[],u=new M(i,o),h=u.add(new M(s,a));for(let d=this._objects.length-1;d>=0;d--){const f=this._objects[d];f.selectable&&f.visible&&(l&&f.intersectsWithRect(u,h)||f.isContainedWithinRect(u,h)||l&&f.containsPoint(u)||l&&f.containsPoint(h))&&c.push(f)}return c}}return e}class d1 extends Lw{_setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const r in e)this.set(r,e[r])}_setObject(e){for(const r in e)this._set(r,e[r])}set(e,r){return typeof e=="object"?this._setObject(e):this._set(e,r),this}_set(e,r){this[e]=r}toggle(e){const r=this.get(e);return typeof r=="boolean"&&this.set(e,!r),this}get(e){return this[e]}}function gl(t){return ag().requestAnimationFrame(t)}function Rw(t){return ag().cancelAnimationFrame(t)}let Fw=0;const In=()=>Fw++,Be=()=>{const t=yo().createElement("canvas");if(!t||t.getContext===void 0)throw new Lr("Failed to create `canvas` element");return t},Iw=()=>yo().createElement("img"),f1=(t,e,r)=>t.toDataURL("image/".concat(e),r),Oe=t=>t*lg,fi=t=>t/lg,Nw=t=>t.every((e,r)=>e===ht[r]),vt=(t,e,r)=>new M(t).transform(e,r),yr=t=>{const e=1/(t[0]*t[3]-t[1]*t[2]),r=[e*t[3],-e*t[1],-e*t[2],e*t[0],0,0],{x:n,y:i}=new M(t[4],t[5]).transform(r,!0);return r[4]=-n,r[5]=-i,r},qe=(t,e,r)=>[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],r?0:t[0]*e[4]+t[2]*e[5]+t[4],r?0:t[1]*e[4]+t[3]*e[5]+t[5]],fg=(t,e)=>t.reduceRight((r,n)=>n&&r?qe(n,r,e):n||r,void 0)||ht.concat(),g1=t=>{let[e,r]=t;return Math.atan2(r,e)},tc=t=>{const e=g1(t),r=Math.pow(t[0],2)+Math.pow(t[1],2),n=Math.sqrt(r),i=(t[0]*t[3]-t[2]*t[1])/n,o=Math.atan2(t[0]*t[2]+t[1]*t[3],r);return{angle:fi(e),scaleX:n,scaleY:i,skewX:fi(o),skewY:0,translateX:t[4]||0,translateY:t[5]||0}},Xs=function(t){return[1,0,0,1,t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function Gs(){let{angle:t=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:e=0,y:r=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=Oe(t),i=nn(n),o=on(n);return[i,o,-o,i,e?e-(i*e-o*r):0,r?r-(o*e+i*r):0]}const gg=function(t){return[t,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,0,0]},p1=t=>Math.tan(Oe(t)),m1=t=>[1,0,p1(t),1,0,0],v1=t=>[1,p1(t),0,1,0,0],Nc=t=>{let{scaleX:e=1,scaleY:r=1,flipX:n=!1,flipY:i=!1,skewX:o=0,skewY:s=0}=t,a=gg(n?-e:e,i?-r:r);return o&&(a=qe(a,m1(o),!0)),s&&(a=qe(a,v1(s),!0)),a},Bw=t=>{const{translateX:e=0,translateY:r=0,angle:n=0}=t;let i=Xs(e,r);n&&(i=qe(i,Gs({angle:n})));const o=Nc(t);return Nw(o)||(i=qe(i,o)),i},pl=function(t){let{signal:e,crossOrigin:r=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(n,i){if(e&&e.aborted)return i(new kw("loadImage"));const o=Iw();let s;e&&(s=function(l){o.src="",i(l)},e.addEventListener("abort",s,{once:!0}));const a=function(){o.onload=o.onerror=null,s&&(e==null||e.removeEventListener("abort",s)),n(o)};t?(o.onload=a,o.onerror=function(){s&&(e==null||e.removeEventListener("abort",s)),i(new Lr("Error loading ".concat(o.src)))},r&&(o.crossOrigin=r),o.src=t):a()})},ks=function(t){let{signal:e,reviver:r=dl}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((n,i)=>{const o=[];e&&e.addEventListener("abort",i,{once:!0}),Promise.all(t.map(s=>V.getClass(s.type).fromObject(s,{signal:e}).then(a=>(r(s,a),o.push(a),a)))).then(n).catch(s=>{o.forEach(a=>{a.dispose&&a.dispose()}),i(s)}).finally(()=>{e&&e.removeEventListener("abort",i)})})},Bc=function(t){let{signal:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((r,n)=>{const i=[];e&&e.addEventListener("abort",n,{once:!0});const o=Object.values(t).map(a=>a&&a.type&&V.has(a.type)?ks([a],{signal:e}).then(l=>{let[c]=l;return i.push(c),c}):a),s=Object.keys(t);Promise.all(o).then(a=>a.reduce((l,c,u)=>(l[s[u]]=c,l),{})).then(r).catch(a=>{i.forEach(l=>{l.dispose&&l.dispose()}),n(a)}).finally(()=>{e&&e.removeEventListener("abort",n)})})},Co=function(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((e,r)=>(r in t&&(e[r]=t[r]),e),{})},pg=(t,e)=>Object.keys(t).reduce((r,n)=>(e(t[n],n,t)&&(r[n]=t[n]),r),{}),hm={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},$u=(t,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t),dm=(t,e,r,n)=>{t/=255,e/=255,r/=255;const i=Math.max(t,e,r),o=Math.min(t,e,r);let s,a;const l=(i+o)/2;if(i===o)s=a=0;else{const c=i-o;switch(a=l>.5?c/(2-i-o):c/(i+o),i){case t:s=(e-r)/c+(e<r?6:0);break;case e:s=(r-t)/c+2;break;case r:s=(t-e)/c+4}s/=6}return[Math.round(360*s),Math.round(100*a),Math.round(100*l),n]},fm=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(t)/(t.endsWith("%")?100:1)},Sa=t=>Math.min(Math.round(t),255).toString(16).toUpperCase().padStart(2,"0"),gm=t=>{let[e,r,n,i=1]=t;const o=Math.round(.3*e+.59*r+.11*n);return[o,o,o,i]};class ae{constructor(e){if(w(this,"isUnrecognised",!1),e)if(e instanceof ae)this.setSource([...e._source]);else if(Array.isArray(e)){const[r,n,i,o=1]=e;this.setSource([r,n,i,o])}else this.setSource(this._tryParsingColor(e));else this.setSource([0,0,0,1])}_tryParsingColor(e){return e in hm&&(e=hm[e]),e==="transparent"?[255,255,255,0]:ae.sourceFromHex(e)||ae.sourceFromRgb(e)||ae.sourceFromHsl(e)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(e){this._source=e}toRgb(){const[e,r,n]=this.getSource();return"rgb(".concat(e,",").concat(r,",").concat(n,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[e,r,n]=dm(...this.getSource());return"hsl(".concat(e,",").concat(r,"%,").concat(n,"%)")}toHsla(){const[e,r,n,i]=dm(...this.getSource());return"hsla(".concat(e,",").concat(r,"%,").concat(n,"%,").concat(i,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[e,r,n,i]=this.getSource();return"".concat(Sa(e)).concat(Sa(r)).concat(Sa(n)).concat(Sa(Math.round(255*i)))}getAlpha(){return this.getSource()[3]}setAlpha(e){return this._source[3]=e,this}toGrayscale(){return this.setSource(gm(this.getSource())),this}toBlackWhite(e){const[r,,,n]=gm(this.getSource()),i=r<(e||127)?0:255;return this.setSource([i,i,i,n]),this}overlayWith(e){e instanceof ae||(e=new ae(e));const r=this.getSource(),n=e.getSource(),[i,o,s]=r.map((a,l)=>Math.round(.5*a+.5*n[l]));return this.setSource([i,o,s,r[3]]),this}static fromRgb(e){return ae.fromRgba(e)}static fromRgba(e){return new ae(ae.sourceFromRgb(e))}static sourceFromRgb(e){const r=e.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(r){const[n,i,o]=r.slice(1,4).map(s=>{const a=parseFloat(s);return s.endsWith("%")?Math.round(2.55*a):a});return[n,i,o,fm(r[4])]}}static fromHsl(e){return ae.fromHsla(e)}static fromHsla(e){return new ae(ae.sourceFromHsl(e))}static sourceFromHsl(e){const r=e.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!r)return;const n=(ae.parseAngletoDegrees(r[1])%360+360)%360/360,i=parseFloat(r[2])/100,o=parseFloat(r[3])/100;let s,a,l;if(i===0)s=a=l=o;else{const c=o<=.5?o*(i+1):o+i-o*i,u=2*o-c;s=$u(u,c,n+1/3),a=$u(u,c,n),l=$u(u,c,n-1/3)}return[Math.round(255*s),Math.round(255*a),Math.round(255*l),fm(r[4])]}static fromHex(e){return new ae(ae.sourceFromHex(e))}static sourceFromHex(e){if(e.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const r=e.slice(e.indexOf("#")+1);let n;n=r.length<=4?r.split("").map(l=>l+l):r.match(/.{2}/g);const[i,o,s,a=255]=n.map(l=>parseInt(l,16));return[i,o,s,a/255]}}static parseAngletoDegrees(e){const r=e.toLowerCase(),n=parseFloat(r);return r.includes("rad")?fi(n):r.includes("turn")?360*n:n}}const Ce=(t,e)=>parseFloat(Number(t).toFixed(e)),Zi=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cg;const r=/\D{0,2}$/.exec(t),n=parseFloat(t),i=ie.DPI;switch(r==null?void 0:r[0]){case"mm":return n*i/25.4;case"cm":return n*i/2.54;case"in":return n*i;case"pt":return n*i/72;case"pc":return n*i/72*12;case"em":return n*e;default:return n}},zw=t=>{const[e,r]=t.trim().split(" "),[n,i]=(o=e)&&o!==bt?[o.slice(1,4),o.slice(5,8)]:o===bt?[o,o]:["Mid","Mid"];var o;return{meetOrSlice:r||"meet",alignX:n,alignY:i}},rc=t=>"matrix("+t.map(e=>Ce(e,ie.NUM_FRACTION_DIGITS)).join(" ")+")",Ms=function(t,e){let r,n,i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e)if(e.toLive)r="url(#SVGID_".concat(e.id,")");else{const o=new ae(e),s=o.getAlpha();r=o.toRgb(),s!==1&&(n=s.toString())}else r="none";return i?"".concat(t,": ").concat(r,"; ").concat(n?"".concat(t,"-opacity: ").concat(n,"; "):""):"".concat(t,'="').concat(r,'" ').concat(n?"".concat(t,'-opacity="').concat(n,'" '):"")},Vt=t=>!!t&&t.toLive!==void 0,pm=t=>!!t&&typeof t.toObject=="function",mm=t=>!!t&&t.offsetX!==void 0&&"source"in t,y1=t=>!!t&&typeof t._renderText=="function",Xn=t=>!!t&&"multiSelectionStacking"in t;function S1(t){const e=t&&vr(t);let r=0,n=0;if(!t||!e)return{left:r,top:n};let i=t;const o=e.documentElement,s=e.body||{scrollLeft:0,scrollTop:0};for(;i&&(i.parentNode||i.host)&&(i=i.parentNode||i.host,i===e?(r=s.scrollLeft||o.scrollLeft||0,n=s.scrollTop||o.scrollTop||0):(r+=i.scrollLeft||0,n+=i.scrollTop||0),i.nodeType!==1||i.style.position!=="fixed"););return{left:r,top:n}}const vr=t=>t.ownerDocument||null,x1=t=>{var e;return((e=t.ownerDocument)===null||e===void 0?void 0:e.defaultView)||null},C1=function(t,e,r){let{width:n,height:i}=r,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;t.width=n,t.height=i,o>1&&(t.setAttribute("width",(n*o).toString()),t.setAttribute("height",(i*o).toString()),e.scale(o,o))},fd=(t,e)=>{let{width:r,height:n}=e;r&&(t.style.width=typeof r=="number"?"".concat(r,"px"):r),n&&(t.style.height=typeof n=="number"?"".concat(n,"px"):n)};function vm(t){return t.onselectstart!==void 0&&(t.onselectstart=()=>!1),t.style.userSelect=bt,t}class _1{constructor(e){w(this,"_originalCanvasStyle",void 0),w(this,"lower",void 0);const r=this.createLowerCanvas(e);this.lower={el:r,ctx:r.getContext("2d")}}createLowerCanvas(e){const r=(n=e)&&n.getContext!==void 0?e:e&&yo().getElementById(e)||Be();var n;if(r.hasAttribute("data-fabric"))throw new Lr("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=r.style.cssText,r.setAttribute("data-fabric","main"),r.classList.add("lower-canvas"),r}cleanupDOM(e){let{width:r,height:n}=e;const{el:i}=this.lower;i.classList.remove("lower-canvas"),i.removeAttribute("data-fabric"),i.setAttribute("width","".concat(r)),i.setAttribute("height","".concat(n)),i.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(e,r){const{el:n,ctx:i}=this.lower;C1(n,i,e,r)}setCSSDimensions(e){fd(this.lower.el,e)}calcOffset(){return function(e){var r;const n=e&&vr(e),i={left:0,top:0};if(!n)return i;const o=((r=x1(e))===null||r===void 0?void 0:r.getComputedStyle(e,null))||{};i.left+=parseInt(o.borderLeftWidth,10)||0,i.top+=parseInt(o.borderTopWidth,10)||0,i.left+=parseInt(o.paddingLeft,10)||0,i.top+=parseInt(o.paddingTop,10)||0;let s={left:0,top:0};const a=n.documentElement;e.getBoundingClientRect!==void 0&&(s=e.getBoundingClientRect());const l=S1(e);return{left:s.left+l.left-(a.clientLeft||0)+i.left,top:s.top+l.top-(a.clientTop||0)+i.top}}(this.lower.el)}dispose(){Nr().dispose(this.lower.el),delete this.lower}}const $w={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...ht]};class Ys extends h1(d1){get lowerCanvasEl(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.el}get contextContainer(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.ctx}static getDefaults(){return Ys.ownDefaults}constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(r),this.initElements(e),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(e){this.elements=new _1(e)}add(){const e=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}insertAt(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];const o=super.insertAt(e,...n);return n.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),o}remove(){const e=super.remove(...arguments);return e.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}_onObjectAdded(e){e.canvas&&e.canvas!==this&&(Fn("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),e.canvas.remove(e)),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e){e._set("canvas",void 0),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?a1():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(e,r){return this.setDimensions({width:e},r)}setHeight(e,r){return this.setDimensions({height:e},r)}_setDimensionsImpl(e){let{cssOnly:r=!1,backstoreOnly:n=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!r){const i=k({width:this.width,height:this.height},e);this.elements.setDimensions(i,this.getRetinaScaling()),this.hasLostContext=!0,this.width=i.width,this.height=i.height}n||this.elements.setCSSDimensions(e),this.calcOffset()}setDimensions(e,r){this._setDimensionsImpl(e,r),r&&r.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(e){this.viewportTransform=e,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(e,r){const n=e,i=[...this.viewportTransform],o=vt(e,yr(i));i[0]=r,i[3]=r;const s=vt(o,i);i[4]+=n.x-s.x,i[5]+=n.y-s.y,this.setViewportTransform(i)}setZoom(e){this.zoomToPoint(new M(0,0),e)}absolutePan(e){const r=[...this.viewportTransform];return r[4]=-e.x,r[5]=-e.y,this.setViewportTransform(r)}relativePan(e){return this.absolutePan(new M(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(e){e.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=gl(()=>this.renderAndReset()))}calcViewportBoundaries(){const e=this.width,r=this.height,n=yr(this.viewportTransform),i=vt({x:0,y:0},n),o=vt({x:e,y:r},n),s=i.min(o),a=i.max(o);return this.vptCoords={tl:s,tr:new M(a.x,s.y),bl:new M(s.x,a.y),br:a}}cancelRequestedRender(){this.nextRenderHandle&&(Rw(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(e){}renderCanvas(e,r){if(this.destroyed)return;const n=this.viewportTransform,i=this.clipPath;this.calcViewportBoundaries(),this.clearContext(e),e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.patternQuality="best",this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(e,r),e.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(e),i&&(i._set("canvas",this),i.shouldCache(),i._transformDone=!0,i.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e,i)),this._renderOverlay(e),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(e),this.fire("after:render",{ctx:e}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(e,r){const n=this.viewportTransform;e.save(),e.transform(...n),e.globalCompositeOperation="destination-in",r.transform(e),e.scale(1/r.zoomX,1/r.zoomY),e.drawImage(r._cacheCanvas,-r.cacheTranslationX,-r.cacheTranslationY),e.restore()}_renderObjects(e,r){for(let n=0,i=r.length;n<i;++n)r[n]&&r[n].render(e)}_renderBackgroundOrOverlay(e,r){const n=this["".concat(r,"Color")],i=this["".concat(r,"Image")],o=this.viewportTransform,s=this["".concat(r,"Vpt")];if(!n&&!i)return;const a=Vt(n);if(n){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=a?n.toLive(e):n,s&&e.transform(...o),a){e.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);const l=n.gradientTransform||n.patternTransform;l&&e.transform(...l)}e.fill(),e.restore()}if(i){e.save();const{skipOffscreen:l}=this;this.skipOffscreen=s,s&&e.transform(...o),i.render(e),this.skipOffscreen=l,e.restore()}}_renderBackground(e){this._renderBackgroundOrOverlay(e,"background")}_renderOverlay(e){this._renderBackgroundOrOverlay(e,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new M(this.width/2,this.height/2)}centerObjectH(e){return this._centerObject(e,new M(this.getCenterPoint().x,e.getCenterPoint().y))}centerObjectV(e){return this._centerObject(e,new M(e.getCenterPoint().x,this.getCenterPoint().y))}centerObject(e){return this._centerObject(e,this.getCenterPoint())}viewportCenterObject(e){return this._centerObject(e,this.getVpCenter())}viewportCenterObjectH(e){return this._centerObject(e,new M(this.getVpCenter().x,e.getCenterPoint().y))}viewportCenterObjectV(e){return this._centerObject(e,new M(e.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return vt(this.getCenterPoint(),yr(this.viewportTransform))}_centerObject(e,r){e.setXY(r,re,re),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(e){return this.toDatalessObject(e)}toObject(e){return this._toObjectMethod("toObject",e)}toJSON(){return this.toObject()}toDatalessObject(e){return this._toObjectMethod("toDatalessObject",e)}_toObjectMethod(e,r){const n=this.clipPath,i=n&&!n.excludeFromExport?this._toObject(n,e,r):null;return k(k(k({version:hd},Co(this,r)),{},{objects:this._objects.filter(o=>!o.excludeFromExport).map(o=>this._toObject(o,e,r))},this.__serializeBgOverlay(e,r)),i?{clipPath:i}:null)}_toObject(e,r,n){let i;this.includeDefaultValues||(i=e.includeDefaultValues,e.includeDefaultValues=!1);const o=e[r](n);return this.includeDefaultValues||(e.includeDefaultValues=!!i),o}__serializeBgOverlay(e,r){const n={},i=this.backgroundImage,o=this.overlayImage,s=this.backgroundColor,a=this.overlayColor;return Vt(s)?s.excludeFromExport||(n.background=s.toObject(r)):s&&(n.background=s),Vt(a)?a.excludeFromExport||(n.overlay=a.toObject(r)):a&&(n.overlay=a),i&&!i.excludeFromExport&&(n.backgroundImage=this._toObject(i,e,r)),o&&!o.excludeFromExport&&(n.overlayImage=this._toObject(o,e,r)),n}toSVG(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;e.reviver=r;const n=[];return this._setSVGPreamble(n,e),this._setSVGHeader(n,e),this.clipPath&&n.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",r),this._setSVGObjects(n,r),this.clipPath&&n.push(`</g>
`),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",r),n.push("</svg>"),n.join("")}_setSVGPreamble(e,r){r.suppressPreamble||e.push('<?xml version="1.0" encoding="',r.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(e,r){const n=r.width||"".concat(this.width),i=r.height||"".concat(this.height),o=ie.NUM_FRACTION_DIGITS,s=r.viewBox;let a;if(s)a='viewBox="'.concat(s.x," ").concat(s.y," ").concat(s.width," ").concat(s.height,'" ');else if(this.svgViewportTransformation){const l=this.viewportTransform;a='viewBox="'.concat(Ce(-l[4]/l[0],o)," ").concat(Ce(-l[5]/l[3],o)," ").concat(Ce(this.width/l[0],o)," ").concat(Ce(this.height/l[3],o),'" ')}else a='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',i,'" ',a,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",hd,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(r),`</defs>
`)}createSVGClipPathMarkup(e){const r=this.clipPath;return r?(r.clipPathId="CLIPPATH_".concat(In()),'<clipPath id="'.concat(r.clipPathId,`" >
`).concat(r.toClipPathSVG(e.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(e=>{const r=this["".concat(e,"Color")];if(Vt(r)){const n=this["".concat(e,"Vpt")],i=this.viewportTransform,o={isType:()=>!1,width:this.width/(n?i[0]:1),height:this.height/(n?i[3]:1)};return r.toSVG(o,{additionalTransform:n?rc(i):""})}}).join("")}createSVGFontFacesMarkup(){const e=[],r={},n=ie.fontPaths;this._objects.forEach(function o(s){e.push(s),fl(s)&&s._objects.forEach(o)}),e.forEach(o=>{if(!y1(o))return;const{styles:s,fontFamily:a}=o;!r[a]&&n[a]&&(r[a]=!0,s&&Object.values(s).forEach(l=>{Object.values(l).forEach(c=>{let{fontFamily:u=""}=c;!r[u]&&n[u]&&(r[u]=!0)})}))});const i=Object.keys(r).map(o=>`		@font-face {
			font-family: '`.concat(o,`';
			src: url('`).concat(n[o],`');
		}
`)).join("");return i?`	<style type="text/css"><![CDATA[
`.concat(i,`]]></style>
`):""}_setSVGObjects(e,r){this.forEachObject(n=>{n.excludeFromExport||this._setSVGObject(e,n,r)})}_setSVGObject(e,r,n){e.push(r.toSVG(n))}_setSVGBgOverlayImage(e,r,n){const i=this[r];i&&!i.excludeFromExport&&i.toSVG&&e.push(i.toSVG(n))}_setSVGBgOverlayColor(e,r){const n=this["".concat(r,"Color")];if(n)if(Vt(n)){const i=n.repeat||"",o=this.width,s=this.height,a=this["".concat(r,"Vpt")]?rc(yr(this.viewportTransform)):"";e.push('<rect transform="'.concat(a," translate(").concat(o/2,",").concat(s/2,')" x="').concat(n.offsetX-o/2,'" y="').concat(n.offsetY-s/2,'" width="').concat(i!=="repeat-y"&&i!=="no-repeat"||!mm(n)?o:n.source.width,'" height="').concat(i!=="repeat-x"&&i!=="no-repeat"||!mm(n)?s:n.source.height,'" fill="url(#SVGID_').concat(n.id,`)"></rect>
`))}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',`></rect>
`)}loadFromJSON(e,r){let{signal:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return Promise.reject(new Lr("`json` is undefined"));const i=typeof e=="string"?JSON.parse(e):e,{objects:o=[],backgroundImage:s,background:a,overlayImage:l,overlay:c,clipPath:u}=i,h=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([ks(o,{reviver:r,signal:n}),Bc({backgroundImage:s,backgroundColor:a,overlayImage:l,overlayColor:c,clipPath:u},{signal:n})]).then(d=>{let[f,m]=d;return this.clear(),this.add(...f),this.set(i),this.set(m),this.renderOnAddRemove=h,this})}clone(e){const r=this.toObject(e);return this.cloneWithoutData().loadFromJSON(r)}cloneWithoutData(){const e=Be();return e.width=this.width,e.height=this.height,new this.constructor(e)}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:r="png",quality:n=1,multiplier:i=1,enableRetinaScaling:o=!1}=e,s=i*(o?this.getRetinaScaling():1);return f1(this.toCanvasElement(s,e),r,n)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:r,height:n,left:i,top:o,filter:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=(r||this.width)*e,l=(n||this.height)*e,c=this.getZoom(),u=this.width,h=this.height,d=this.skipControlsDrawing,f=c*e,m=this.viewportTransform,v=[f,0,0,f,(m[4]-(i||0))*e,(m[5]-(o||0))*e],S=this.enableRetinaScaling,p=Be(),g=s?this._objects.filter(y=>s(y)):this._objects;return p.width=a,p.height=l,this.enableRetinaScaling=!1,this.viewportTransform=v,this.width=a,this.height=l,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(p.getContext("2d"),g),this.viewportTransform=m,this.width=u,this.height=h,this.calcViewportBoundaries(),this.enableRetinaScaling=S,this.skipControlsDrawing=d,p}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),ec.cancelByCanvas(this),this.disposed=!0,new Promise((e,r)=>{const n=()=>{this.destroy(),e(!0)};n.kill=r,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?e(!1):this.nextRenderHandle?this.__cleanupTask=n:n()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(e=>e.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}w(Ys,"ownDefaults",$w);const Hw=["touchstart","touchmove","touchend"],Ww=t=>{const e=S1(t.target),r=function(n){const i=n.changedTouches;return i&&i[0]?i[0]:n}(t);return new M(r.clientX+e.left,r.clientY+e.top)},gd=t=>Hw.includes(t.type)||t.pointerType==="touch",pd=t=>{t.preventDefault(),t.stopPropagation()},Zr=t=>{let e=0,r=0,n=0,i=0;for(let o=0,s=t.length;o<s;o++){const{x:a,y:l}=t[o];(a>n||!o)&&(n=a),(a<e||!o)&&(e=a),(l>i||!o)&&(i=l),(l<r||!o)&&(r=l)}return{left:e,top:r,width:n-e,height:i-r}},Vw=["translateX","translateY","scaleX","scaleY"],Uw=(t,e)=>nc(t,qe(e,t.calcOwnMatrix())),nc=(t,e)=>{const r=tc(e),{translateX:n,translateY:i,scaleX:o,scaleY:s}=r,a=ve(r,Vw),l=new M(n,i);t.flipX=!1,t.flipY=!1,Object.assign(t,a),t.set({scaleX:o,scaleY:s}),t.setPositionByOrigin(l,re,re)},Xw=t=>{t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},w1=t=>({scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}),mg=(t,e,r)=>{const n=t/2,i=e/2,o=[new M(-n,-i),new M(n,-i),new M(-n,i),new M(n,i)].map(a=>a.transform(r)),s=Zr(o);return new M(s.width,s.height)},zc=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ht;return qe(yr(arguments.length>1&&arguments[1]!==void 0?arguments[1]:ht),t)},Ji=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ht,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ht;return t.transform(zc(e,r))},Gw=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ht,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ht;return t.transform(zc(e,r),!0)},Yw=(t,e,r)=>{const n=zc(e,r);return nc(t,qe(n,t.calcOwnMatrix())),n},b1=(t,e)=>{var r;const{transform:{target:n}}=e;(r=n.canvas)===null||r===void 0||r.fire("object:".concat(t),k(k({},e),{},{target:n})),n.fire(t,e)},Kw={left:-.5,top:-.5,center:0,bottom:.5,right:.5},Pe=t=>typeof t=="string"?Kw[t]:t-.5,ic="not-allowed";function T1(t){return Pe(t.originX)===Pe(re)&&Pe(t.originY)===Pe(re)}function ym(t){return .5-Pe(t)}const Cr=(t,e)=>t[e],E1=(t,e,r,n)=>({e:t,transform:e,pointer:new M(r,n)});function O1(t,e){const r=t.getTotalAngle()+fi(Math.atan2(e.y,e.x))+360;return Math.round(r%360/45)}function vg(t,e,r,n,i){var o;let{target:s,corner:a}=t;const l=s.controls[a],c=((o=s.canvas)===null||o===void 0?void 0:o.getZoom())||1,u=s.padding/c,h=function(d,f,m,v){const S=d.getRelativeCenterPoint(),p=m!==void 0&&v!==void 0?d.translateToGivenOrigin(S,re,re,m,v):new M(d.left,d.top);return(d.angle?f.rotate(-Oe(d.angle),S):f).subtract(p)}(s,new M(n,i),e,r);return h.x>=u&&(h.x-=u),h.x<=-u&&(h.x+=u),h.y>=u&&(h.y-=u),h.y<=u&&(h.y+=u),h.x-=l.offsetX,h.y-=l.offsetY,h}const qw=(t,e,r,n)=>{const{target:i,offsetX:o,offsetY:s}=e,a=r-o,l=n-s,c=!Cr(i,"lockMovementX")&&i.left!==a,u=!Cr(i,"lockMovementY")&&i.top!==l;return c&&i.set(le,a),u&&i.set(wt,l),(c||u)&&b1(l1,E1(t,e,r,n)),c||u};class k1{getSvgStyles(e){const r=this.fillRule?this.fillRule:"nonzero",n=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):bt,o=this.strokeDashOffset?this.strokeDashOffset:"0",s=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",c=this.opacity!==void 0?this.opacity:"1",u=this.visible?"":" visibility: hidden;",h=e?"":this.getSvgFilter(),d=Ms(je,this.fill);return[Ms(Tt,this.stroke),"stroke-width: ",n,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",s,"; ","stroke-dashoffset: ",o,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",l,"; ",d,"fill-rule: ",r,"; ","opacity: ",c,";",h,u].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e?this.calcTransformMatrix():this.calcOwnMatrix(),i='transform="'.concat(rc(n));return"".concat(i).concat(r,'" ')}_toSVG(e){return[""]}toSVG(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})}toClipPathSVG(e){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})}_createBaseClipPathSVGMarkup(e){let{reviver:r,additionalTransform:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=[this.getSvgTransform(!0,n),this.getSvgCommons()].join(""),o=e.indexOf("COMMON_PARTS");return e[o]=i,r?r(e.join("")):e.join("")}_createBaseSVGMarkup(e){let{noStyle:r,reviver:n,withShadow:i,additionalTransform:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=r?"":'style="'.concat(this.getSvgStyles(),'" '),a=i?'style="'.concat(this.getSvgFilter(),'" '):"",l=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",u=l&&l.absolutePositioned,h=this.stroke,d=this.fill,f=this.shadow,m=[],v=e.indexOf("COMMON_PARTS");let S;l&&(l.clipPathId="CLIPPATH_".concat(In()),S='<clipPath id="'.concat(l.clipPathId,`" >
`).concat(l.toClipPathSVG(n),`</clipPath>
`)),u&&m.push("<g ",a,this.getSvgCommons(),` >
`),m.push("<g ",this.getSvgTransform(!1),u?"":a+this.getSvgCommons(),` >
`);const p=[s,c,r?"":this.addPaintOrder()," ",o?'transform="'.concat(o,'" '):""].join("");return e[v]=p,Vt(d)&&m.push(d.toSVG(this)),Vt(h)&&m.push(h.toSVG(this)),f&&m.push(f.toSVG(this)),l&&m.push(S),m.push(e.join("")),m.push(`</g>
`),u&&m.push(`</g>
`),n?n(m.join("")):m.join("")}addPaintOrder(){return this.paintFirst!==je?' paint-order="'.concat(this.paintFirst,'" '):""}}function $c(t){return new RegExp("^("+t.join("|")+")\\b","i")}var Sm;const gi=String.raw(Sm||(Sm=Hn(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"]))),Qw=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+gi+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+gi+"))?\\s+(.*)"),Zw={cx:le,x:le,r:"radius",cy:wt,y:wt,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},Hu="font-size",Wu="clip-path";$c(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]);$c(["symbol","image","marker","pattern","view","svg"]);const xm=$c(["symbol","g","a","svg","clipPath","defs"]),Jw=new M(1,0),M1=new M,P1=(t,e)=>t.rotate(e),md=(t,e)=>new M(e).subtract(t),vd=t=>t.distanceFrom(M1),yd=(t,e)=>Math.atan2(os(t,e),tb(t,e)),eb=t=>yd(Jw,t),yg=t=>t.eq(M1)?t:t.scalarDivide(vd(t)),D1=function(t){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return yg(new M(-t.y,t.x).scalarMultiply(e?1:-1))},os=(t,e)=>t.x*e.y-t.y*e.x,tb=(t,e)=>t.x*e.x+t.y*e.y,Cm=(t,e,r)=>{if(t.eq(e)||t.eq(r))return!0;const n=os(e,r),i=os(e,t),o=os(r,t);return n>=0?i>=0&&o<=0:!(i<=0&&o>=0)},_m="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",wm=new RegExp("(?:\\s|^)"+_m+_m+"("+gi+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class Ir{constructor(e){const r=typeof e=="string"?Ir.parseShadow(e):e;Object.assign(this,Ir.ownDefaults,r),this.id=In()}static parseShadow(e){const r=e.trim(),[,n=0,i=0,o=0]=(wm.exec(r)||[]).map(s=>parseFloat(s)||0);return{color:(r.replace(wm,"")||"rgb(0,0,0)").trim(),offsetX:n,offsetY:i,blur:o}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(e){const r=P1(new M(this.offsetX,this.offsetY),Oe(-e.angle)),n=new ae(this.color);let i=40,o=40;return e.width&&e.height&&(i=100*Ce((Math.abs(r.x)+this.blur)/e.width,ie.NUM_FRACTION_DIGITS)+20,o=100*Ce((Math.abs(r.y)+this.blur)/e.height,ie.NUM_FRACTION_DIGITS)+20),e.flipX&&(r.x*=-1),e.flipY&&(r.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(o,'%" height="').concat(100+2*o,'%" x="-').concat(i,'%" width="').concat(100+2*i,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(Ce(this.blur?this.blur/2:0,ie.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(Ce(r.x,ie.NUM_FRACTION_DIGITS),'" dy="').concat(Ce(r.y,ie.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(n.toRgb(),'" flood-opacity="').concat(n.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const e={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},r=Ir.ownDefaults;return this.includeDefaultValues?e:pg(e,(n,i)=>n!==r[i])}static async fromObject(e){return new this(e)}}w(Ir,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),w(Ir,"type","shadow"),V.setClass(Ir,"shadow");const lo=(t,e,r)=>Math.max(t,Math.min(e,r)),rb=[wt,le,Ot,Kt,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",So,xo],ln=[je,Tt,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],nb={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:le,originY:wt,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:je,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},ib=(t,e,r,n)=>-r*Math.cos(t/n*Us)+r+e,ob=()=>!1;class Sg{constructor(e){let{startValue:r,byValue:n,duration:i=500,delay:o=0,easing:s=ib,onStart:a=dl,onChange:l=dl,onComplete:c=dl,abort:u=ob,target:h}=e;w(this,"_state","pending"),w(this,"durationProgress",0),w(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=i,this.delay=o,this.easing=s,this._onStart=a,this._onChange=l,this._onComplete=c,this._abort=u,this.target=h,this.startValue=r,this.byValue=n,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const e=r=>{this._state==="pending"&&(this.startTime=r||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>gl(e),this.delay):gl(e)}tick(e){const r=(e||+new Date)-this.startTime,n=Math.min(r,this.duration);this.durationProgress=n/this.duration;const{value:i,valueProgress:o}=this.calculate(n);this.value=Object.freeze(i),this.valueProgress=o,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):r>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),gl(this.tick)))}register(){ec.push(this)}unregister(){ec.remove(this)}abort(){this._state="aborted",this.unregister()}}const sb=["startValue","endValue"];class ab extends Sg{constructor(e){let{startValue:r=0,endValue:n=100}=e;super(k(k({},ve(e,sb)),{},{startValue:r,byValue:n-r}))}calculate(e){const r=this.easing(e,this.startValue,this.byValue,this.duration);return{value:r,valueProgress:Math.abs((r-this.startValue)/this.byValue)}}}const lb=["startValue","endValue"];class cb extends Sg{constructor(e){let{startValue:r=[0],endValue:n=[100]}=e;super(k(k({},ve(e,lb)),{},{startValue:r,byValue:n.map((i,o)=>i-r[o])}))}calculate(e){const r=this.startValue.map((n,i)=>this.easing(e,n,this.byValue[i],this.duration,i));return{value:r,valueProgress:Math.abs((r[0]-this.startValue[0])/this.byValue[0])}}}const ub=["startValue","endValue","easing","onChange","onComplete","abort"],hb=(t,e,r,n)=>e+r*(1-Math.cos(t/n*Us)),Vu=t=>t&&((e,r,n)=>t(new ae(e).toRgba(),r,n));class db extends Sg{constructor(e){let{startValue:r,endValue:n,easing:i=hb,onChange:o,onComplete:s,abort:a}=e,l=ve(e,ub);const c=new ae(r).getSource(),u=new ae(n).getSource();super(k(k({},l),{},{startValue:c,byValue:u.map((h,d)=>h-c[d]),easing:i,onChange:Vu(o),onComplete:Vu(s),abort:Vu(a)}))}calculate(e){const[r,n,i,o]=this.startValue.map((a,l)=>this.easing(e,a,this.byValue[l],this.duration,l)),s=[...[r,n,i].map(Math.round),lo(0,o,1)];return{value:s,valueProgress:s.map((a,l)=>this.byValue[l]!==0?Math.abs((a-this.startValue[l])/this.byValue[l]):0).find(a=>a!==0)||0}}}function A1(t){const e=(r=>Array.isArray(r.startValue)||Array.isArray(r.endValue))(t)?new cb(t):new ab(t);return e.start(),e}function fb(t){const e=new db(t);return e.start(),e}class Se{constructor(e){this.status=e,this.points=[]}includes(e){return this.points.some(r=>r.eq(e))}append(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.points=this.points.concat(r.filter(i=>!this.includes(i))),this}static isPointContained(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(r.eq(n))return e.eq(r);if(r.x===n.x)return e.x===r.x&&(i||e.y>=Math.min(r.y,n.y)&&e.y<=Math.max(r.y,n.y));if(r.y===n.y)return e.y===r.y&&(i||e.x>=Math.min(r.x,n.x)&&e.x<=Math.max(r.x,n.x));{const o=md(r,n),s=md(r,e).divide(o);return i?Math.abs(s.x)===Math.abs(s.y):s.x===s.y&&s.x>=0&&s.x<=1}}static isPointInPolygon(e,r){const n=new M(e).setX(Math.min(e.x-1,...r.map(o=>o.x)));let i=0;for(let o=0;o<r.length;o++){const s=this.intersectSegmentSegment(r[o],r[(o+1)%r.length],e,n);if(s.includes(e))return!0;i+=+(s.status==="Intersection")}return i%2==1}static intersectLineLine(e,r,n,i){let o=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],s=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const a=r.x-e.x,l=r.y-e.y,c=i.x-n.x,u=i.y-n.y,h=e.x-n.x,d=e.y-n.y,f=c*d-u*h,m=a*d-l*h,v=u*a-c*l;if(v!==0){const S=f/v,p=m/v;return(o||0<=S&&S<=1)&&(s||0<=p&&p<=1)?new Se("Intersection").append(new M(e.x+S*a,e.y+S*l)):new Se}if(f===0||m===0){const S=o||s||Se.isPointContained(e,n,i)||Se.isPointContained(r,n,i)||Se.isPointContained(n,e,r)||Se.isPointContained(i,e,r);return new Se(S?"Coincident":void 0)}return new Se("Parallel")}static intersectSegmentLine(e,r,n,i){return Se.intersectLineLine(e,r,n,i,!1,!0)}static intersectSegmentSegment(e,r,n,i){return Se.intersectLineLine(e,r,n,i,!1,!1)}static intersectLinePolygon(e,r,n){let i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const o=new Se,s=n.length;for(let a,l,c,u=0;u<s;u++){if(a=n[u],l=n[(u+1)%s],c=Se.intersectLineLine(e,r,a,l,i,!1),c.status==="Coincident")return c;o.append(...c.points)}return o.points.length>0&&(o.status="Intersection"),o}static intersectSegmentPolygon(e,r,n){return Se.intersectLinePolygon(e,r,n,!1)}static intersectPolygonPolygon(e,r){const n=new Se,i=e.length,o=[];for(let s=0;s<i;s++){const a=e[s],l=e[(s+1)%i],c=Se.intersectSegmentPolygon(a,l,r);c.status==="Coincident"?(o.push(c),n.append(a,l)):n.append(...c.points)}return o.length>0&&o.length===e.length?new Se("Coincident"):(n.points.length>0&&(n.status="Intersection"),n)}static intersectPolygonRectangle(e,r,n){const i=r.min(n),o=r.max(n),s=new M(o.x,i.y),a=new M(i.x,o.y);return Se.intersectPolygonPolygon(e,[i,s,o,a])}}class gb extends d1{getX(){return this.getXY().x}setX(e){this.setXY(this.getXY().setX(e))}getY(){return this.getXY().y}setY(e){this.setXY(this.getXY().setY(e))}getRelativeX(){return this.left}setRelativeX(e){this.left=e}getRelativeY(){return this.top}setRelativeY(e){this.top=e}getXY(){const e=this.getRelativeXY();return this.group?vt(e,this.group.calcTransformMatrix()):e}setXY(e,r,n){this.group&&(e=vt(e,yr(this.group.calcTransformMatrix()))),this.setRelativeXY(e,r,n)}getRelativeXY(){return new M(this.left,this.top)}setRelativeXY(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(e,r,n)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:e,tr:r,br:n,bl:i}=this.aCoords||(this.aCoords=this.calcACoords()),o=[e,r,n,i];if(this.group){const s=this.group.calcTransformMatrix();return o.map(a=>vt(a,s))}return o}intersectsWithRect(e,r){return Se.intersectPolygonRectangle(this.getCoords(),e,r).status==="Intersection"}intersectsWithObject(e){const r=Se.intersectPolygonPolygon(this.getCoords(),e.getCoords());return r.status==="Intersection"||r.status==="Coincident"||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)}isContainedWithinObject(e){return this.getCoords().every(r=>e.containsPoint(r))}isContainedWithinRect(e,r){const{left:n,top:i,width:o,height:s}=this.getBoundingRect();return n>=e.x&&n+o<=r.x&&i>=e.y&&i+s<=r.y}isOverlapping(e){return this.intersectsWithObject(e)||this.isContainedWithinObject(e)||e.isContainedWithinObject(this)}containsPoint(e){return Se.isPointInPolygon(e,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:e,br:r}=this.canvas.vptCoords;return!!this.getCoords().some(n=>n.x<=r.x&&n.x>=e.x&&n.y<=r.y&&n.y>=e.y)||!!this.intersectsWithRect(e,r)||this.containsPoint(e.midPointFrom(r))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:e,br:r}=this.canvas.vptCoords;return this.intersectsWithRect(e,r)?!0:this.getCoords().every(n=>(n.x>=r.x||n.x<=e.x)&&(n.y>=r.y||n.y<=e.y))&&this.containsPoint(e.midPointFrom(r))}getBoundingRect(){return Zr(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(e){this._set(Ot,e),this._set(Kt,e),this.setCoords()}scaleToWidth(e){const r=this.getBoundingRect().width/this.getScaledWidth();return this.scale(e/this.width/r)}scaleToHeight(e){const r=this.getBoundingRect().height/this.getScaledHeight();return this.scale(e/this.height/r)}getCanvasRetinaScaling(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.getRetinaScaling())||1}getTotalAngle(){return this.group?fi(g1(this.calcTransformMatrix())):this.angle}getViewportTransform(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.viewportTransform)||ht.concat()}calcACoords(){const e=Gs({angle:this.angle}),{x:r,y:n}=this.getRelativeCenterPoint(),i=Xs(r,n),o=qe(i,e),s=this._getTransformedDimensions(),a=s.x/2,l=s.y/2;return{tl:vt({x:-a,y:-l},o),tr:vt({x:a,y:-l},o),bl:vt({x:-a,y:l},o),br:vt({x:a,y:l},o)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=[];return!e&&this.group&&(r=this.group.transformMatrixKey(e)),r.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,Pe(this.originX),Pe(this.originY)),r}calcTransformMatrix(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=this.calcOwnMatrix();if(e||!this.group)return r;const n=this.transformMatrixKey(e),i=this.matrixCache;return i&&i.key.every((o,s)=>o===n[s])?i.value:(this.group&&(r=qe(this.group.calcTransformMatrix(!1),r)),this.matrixCache={key:n,value:r},r)}calcOwnMatrix(){const e=this.transformMatrixKey(!0),r=this.ownMatrixCache;if(r&&r.key===e)return r.value;const n=this.getRelativeCenterPoint(),i={angle:this.angle,translateX:n.x,translateY:n.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},o=Bw(i);return this.ownMatrixCache={key:e,value:o},o}_getNonTransformedDimensions(){return new M(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(e){return this._getTransformedDimensions(e).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=k({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},e),n=r.strokeWidth;let i=n,o=0;this.strokeUniform&&(i=0,o=n);const s=r.width+i,a=r.height+i;let l;return l=r.skewX===0&&r.skewY===0?new M(s*r.scaleX,a*r.scaleY):mg(s,a,Nc(r)),l.scalarAdd(o)}translateToGivenOrigin(e,r,n,i,o){let s=e.x,a=e.y;const l=Pe(i)-Pe(r),c=Pe(o)-Pe(n);if(l||c){const u=this._getTransformedDimensions();s+=l*u.x,a+=c*u.y}return new M(s,a)}translateToCenterPoint(e,r,n){if(r===re&&n===re)return e;const i=this.translateToGivenOrigin(e,r,n,re,re);return this.angle?i.rotate(Oe(this.angle),e):i}translateToOriginPoint(e,r,n){const i=this.translateToGivenOrigin(e,re,re,r,n);return this.angle?i.rotate(Oe(this.angle),e):i}getCenterPoint(){const e=this.getRelativeCenterPoint();return this.group?vt(e,this.group.calcTransformMatrix()):e}getRelativeCenterPoint(){return this.translateToCenterPoint(new M(this.left,this.top),this.originX,this.originY)}getPointByOrigin(e,r){return this.translateToOriginPoint(this.getRelativeCenterPoint(),e,r)}setPositionByOrigin(e,r,n){const i=this.translateToCenterPoint(e,r,n),o=this.translateToOriginPoint(i,this.originX,this.originY);this.set({left:o.x,top:o.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),le,wt)}}const pb=["type"],mb=["extraParam"];let Hr=class ml extends gb{static getDefaults(){return ml.ownDefaults}get type(){const e=this.constructor.type;return e==="FabricObject"?"object":e.toLowerCase()}set type(e){Fn("warn","Setting type has no effect",e)}constructor(e){super(),w(this,"_cacheContext",null),Object.assign(this,ml.ownDefaults),this.setOptions(e)}_createCacheCanvas(){this._cacheCanvas=Be(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(e){const r=e.width,n=e.height,i=ie.maxCacheSideLimit,o=ie.minCacheSideLimit;if(r<=i&&n<=i&&r*n<=ie.perfLimitSizeTotal)return r<o&&(e.width=o),n<o&&(e.height=o),e;const s=r/n,[a,l]=is.limitDimsByArea(s),c=lo(o,a,i),u=lo(o,l,i);return r>c&&(e.zoomX/=r/c,e.width=c,e.capped=!0),n>u&&(e.zoomY/=n/u,e.height=u,e.capped=!0),e}_getCacheCanvasDimensions(){const e=this.getTotalObjectScaling(),r=this._getTransformedDimensions({skewX:0,skewY:0}),n=r.x*e.x/this.scaleX,i=r.y*e.y/this.scaleY;return{width:n+2,height:i+2,zoomX:e.x,zoomY:e.y,x:n,y:i}}_updateCacheCanvas(){const e=this._cacheCanvas,r=this._cacheContext,n=this._limitCacheSize(this._getCacheCanvasDimensions()),i=ie.minCacheSideLimit,o=n.width,s=n.height,a=n.zoomX,l=n.zoomY,c=o!==e.width||s!==e.height,u=this.zoomX!==a||this.zoomY!==l;if(!e||!r)return!1;let h,d,f=c||u,m=0,v=0,S=!1;if(c){const p=this._cacheCanvas.width,g=this._cacheCanvas.height,y=o>p||s>g;S=y||(o<.9*p||s<.9*g)&&p>i&&g>i,y&&!n.capped&&(o>i||s>i)&&(m=.1*o,v=.1*s)}return y1(this)&&this.path&&(f=!0,S=!0,m+=this.getHeightOfLine(0)*this.zoomX,v+=this.getHeightOfLine(0)*this.zoomY),!!f&&(S?(e.width=Math.ceil(o+m),e.height=Math.ceil(s+v)):(r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,e.width,e.height)),h=n.x/2,d=n.y/2,this.cacheTranslationX=Math.round(e.width/2-h)+h,this.cacheTranslationY=Math.round(e.height/2-d)+d,r.translate(this.cacheTranslationX,this.cacheTranslationY),r.scale(a,l),this.zoomX=a,this.zoomY=l,!0)}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(e)}transform(e){const r=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,n=this.calcTransformMatrix(!r);e.transform(n[0],n[1],n[2],n[3],n[4],n[5])}getObjectScaling(){if(!this.group)return new M(Math.abs(this.scaleX),Math.abs(this.scaleY));const e=tc(this.calcTransformMatrix());return new M(Math.abs(e.scaleX),Math.abs(e.scaleY))}getTotalObjectScaling(){const e=this.getObjectScaling();if(this.canvas){const r=this.canvas.getZoom(),n=this.getCanvasRetinaScaling();return e.scalarMultiply(r*n)}return e}getObjectOpacity(){let e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e}_constrainScale(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:e===0?1e-4:e}_set(e,r){e!==Ot&&e!==Kt||(r=this._constrainScale(r)),e===Ot&&r<0?(this.flipX=!this.flipX,r*=-1):e==="scaleY"&&r<0?(this.flipY=!this.flipY,r*=-1):e!=="shadow"||!r||r instanceof Ir||(r=new Ir(r));const n=this[e]!==r;return this[e]=r,n&&this.constructor.cacheProperties.includes(e)&&(this.dirty=!0),this.parent&&(this.dirty||n&&this.constructor.stateProperties.includes(e))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.drawObject(e),this.dirty=!1),e.restore())}drawSelectionBackground(e){}renderCache(e){e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext&&(this.drawObject(this._cacheContext,e.forClipping),this.dirty=!1)}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===Tt&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.parent||!this.parent.isOnACache()),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(e,r){if(e.save(),r.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",r.absolutePositioned){const n=yr(this.calcTransformMatrix());e.transform(n[0],n[1],n[2],n[3],n[4],n[5])}r.transform(e),e.scale(1/r.zoomX,1/r.zoomY),e.drawImage(r._cacheCanvas,-r.cacheTranslationX,-r.cacheTranslationY),e.restore()}drawObject(e,r){const n=this.fill,i=this.stroke;r?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath),this.fill=n,this.stroke=i}_drawClipPath(e,r){r&&(r._set("canvas",this.canvas),r.shouldCache(),r._transformDone=!0,r.renderCache({forClipping:!0}),this.drawClipPathOnCache(e,r))}drawCacheOnCanvas(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const r=this._cacheCanvas,n=this._cacheContext;return!(!r||!n||e||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(r&&n&&!e&&(n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,r.width,r.height),n.restore()),!0)}_renderBackground(e){if(!this.backgroundColor)return;const r=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),this._removeShadow(e)}_setOpacity(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity}_setStrokeStyles(e,r){const n=r.stroke;n&&(e.lineWidth=r.strokeWidth,e.lineCap=r.strokeLineCap,e.lineDashOffset=r.strokeDashOffset,e.lineJoin=r.strokeLineJoin,e.miterLimit=r.strokeMiterLimit,Vt(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?this._applyPatternForTransformedGradient(e,n):(e.strokeStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.strokeStyle=r.stroke)}_setFillStyles(e,r){let{fill:n}=r;n&&(Vt(n)?(e.fillStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.fillStyle=n)}_setClippingProperties(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"}_setLineDash(e,r){r&&r.length!==0&&(1&r.length&&r.push(...r),e.setLineDash(r))}_setShadow(e){if(!this.shadow)return;const r=this.shadow,n=this.canvas,i=this.getCanvasRetinaScaling(),[o,,,s]=(n==null?void 0:n.viewportTransform)||ht,a=o*i,l=s*i,c=r.nonScaling?new M(1,1):this.getObjectScaling();e.shadowColor=r.color,e.shadowBlur=r.blur*ie.browserShadowBlurConstant*(a+l)*(c.x+c.y)/4,e.shadowOffsetX=r.offsetX*a*c.x,e.shadowOffsetY=r.offsetY*l*c.y}_removeShadow(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)}_applyPatternGradientTransform(e,r){if(!Vt(r))return{offsetX:0,offsetY:0};const n=r.gradientTransform||r.patternTransform,i=-this.width/2+r.offsetX||0,o=-this.height/2+r.offsetY||0;return r.gradientUnits==="percentage"?e.transform(this.width,0,0,this.height,i,o):e.transform(1,0,0,1,i,o),n&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:i,offsetY:o}}_renderPaintInOrder(e){this.paintFirst===Tt?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))}_render(e){}_renderFill(e){this.fill&&(e.save(),this._setFillStyles(e,this),this.fillRule==="evenodd"?e.fill("evenodd"):e.fill(),e.restore())}_renderStroke(e){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform){const r=this.getObjectScaling();e.scale(1/r.x,1/r.y)}this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}}_applyPatternForTransformedGradient(e,r){var n;const i=this._limitCacheSize(this._getCacheCanvasDimensions()),o=Be(),s=this.getCanvasRetinaScaling(),a=i.x/this.scaleX/s,l=i.y/this.scaleY/s;o.width=Math.ceil(a),o.height=Math.ceil(l);const c=o.getContext("2d");c&&(c.beginPath(),c.moveTo(0,0),c.lineTo(a,0),c.lineTo(a,l),c.lineTo(0,l),c.closePath(),c.translate(a/2,l/2),c.scale(i.zoomX/this.scaleX/s,i.zoomY/this.scaleY/s),this._applyPatternGradientTransform(c,r),c.fillStyle=r.toLive(e),c.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(s*this.scaleX/i.zoomX,s*this.scaleY/i.zoomY),e.strokeStyle=(n=c.createPattern(o,"no-repeat"))!==null&&n!==void 0?n:"")}_findCenterFromElement(){return new M(this.left+this.width/2,this.top+this.height/2)}clone(e){const r=this.toObject(e);return this.constructor.fromObject(r)}cloneAsImage(e){const r=this.toCanvasElement(e);return new(V.getClass("image"))(r)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=w1(this),n=this.group,i=this.shadow,o=Math.abs,s=e.enableRetinaScaling?a1():1,a=(e.multiplier||1)*s,l=e.canvasProvider||(g=>new Ys(g,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,e.withoutTransform&&Xw(this),e.withoutShadow&&(this.shadow=null),e.viewportTransform&&Yw(this,this.getViewportTransform()),this.setCoords();const c=Be(),u=this.getBoundingRect(),h=this.shadow,d=new M;if(h){const g=h.blur,y=h.nonScaling?new M(1,1):this.getObjectScaling();d.x=2*Math.round(o(h.offsetX)+g)*o(y.x),d.y=2*Math.round(o(h.offsetY)+g)*o(y.y)}const f=u.width+d.x,m=u.height+d.y;c.width=Math.ceil(f),c.height=Math.ceil(m);const v=l(c);e.format==="jpeg"&&(v.backgroundColor="#fff"),this.setPositionByOrigin(new M(v.width/2,v.height/2),re,re);const S=this.canvas;v._objects=[this],this.set("canvas",v),this.setCoords();const p=v.toCanvasElement(a||1,e);return this.set("canvas",S),this.shadow=i,n&&(this.group=n),this.set(r),this.setCoords(),v._objects=[],v.destroy(),p}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return f1(this.toCanvasElement(e),e.format||"png",e.quality||1)}isType(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.includes(this.constructor.type)||r.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(e){const{centeredRotation:r,originX:n,originY:i}=this;if(r){const{x:o,y:s}=this.getRelativeCenterPoint();this.originX=re,this.originY=re,this.left=o,this.top=s}if(this.set("angle",e),r){const{x:o,y:s}=this.translateToOriginPoint(this.getRelativeCenterPoint(),n,i);this.left=o,this.top=s,this.originX=n,this.originY=i}}setOnGroup(){}_setupCompositeOperation(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}dispose(){ec.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&Nr().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(e,r){return Object.entries(e).reduce((n,i)=>{let[o,s]=i;return n[o]=this._animate(o,s,r),n},{})}_animate(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=e.split("."),o=this.constructor.colorProperties.includes(i[i.length-1]),{abort:s,startValue:a,onChange:l,onComplete:c}=n,u=k(k({},n),{},{target:this,startValue:a??i.reduce((h,d)=>h[d],this),endValue:r,abort:s==null?void 0:s.bind(this),onChange:(h,d,f)=>{i.reduce((m,v,S)=>(S===i.length-1&&(m[v]=h),m[v]),this),l&&l(h,d,f)},onComplete:(h,d,f)=>{this.setCoords(),c&&c(h,d,f)}});return o?fb(u):A1(u)}isDescendantOf(e){const{parent:r,group:n}=this;return r===e||n===e||!!r&&r.isDescendantOf(e)||!!n&&n!==r&&n.isDescendantOf(e)}getAncestors(){const e=[];let r=this;do r=r.parent,r&&e.push(r);while(r);return e}findCommonAncestors(e){if(this===e)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const r=this.getAncestors(),n=e.getAncestors();if(r.length===0&&n.length>0&&this===n[n.length-1])return{fork:[],otherFork:[e,...n.slice(0,n.length-1)],common:[this]};for(let i,o=0;o<r.length;o++){if(i=r[o],i===e)return{fork:[this,...r.slice(0,o)],otherFork:[],common:r.slice(o)};for(let s=0;s<n.length;s++){if(this===n[s])return{fork:[],otherFork:[e,...n.slice(0,s)],common:[this,...r]};if(i===n[s])return{fork:[this,...r.slice(0,o)],otherFork:[e,...n.slice(0,s)],common:r.slice(o)}}}return{fork:[this,...r],otherFork:[e,...n],common:[]}}hasCommonAncestors(e){const r=this.findCommonAncestors(e);return r&&!!r.common.length}isInFrontOf(e){if(this===e)return;const r=this.findCommonAncestors(e);if(r.fork.includes(e))return!0;if(r.otherFork.includes(this))return!1;const n=r.common[0]||this.canvas;if(!n)return;const i=r.fork.pop(),o=r.otherFork.pop(),s=n._objects.indexOf(i),a=n._objects.indexOf(o);return s>-1&&s>a}toObject(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(ml.customProperties,this.constructor.customProperties||[]);let r;const n=ie.NUM_FRACTION_DIGITS,{clipPath:i,fill:o,stroke:s,shadow:a,strokeDashArray:l,left:c,top:u,originX:h,originY:d,width:f,height:m,strokeWidth:v,strokeLineCap:S,strokeDashOffset:p,strokeLineJoin:g,strokeUniform:y,strokeMiterLimit:x,scaleX:_,scaleY:E,angle:T,flipX:O,flipY:j,opacity:R,visible:N,backgroundColor:z,fillRule:F,paintFirst:$,globalCompositeOperation:G,skewX:D,skewY:P}=this;i&&!i.excludeFromExport&&(r=i.toObject(e.concat("inverted","absolutePositioned")));const b=L=>Ce(L,n),A=k(k({},Co(this,e)),{},{type:this.constructor.type,version:hd,originX:h,originY:d,left:b(c),top:b(u),width:b(f),height:b(m),fill:pm(o)?o.toObject():o,stroke:pm(s)?s.toObject():s,strokeWidth:b(v),strokeDashArray:l&&l.concat(),strokeLineCap:S,strokeDashOffset:p,strokeLineJoin:g,strokeUniform:y,strokeMiterLimit:b(x),scaleX:b(_),scaleY:b(E),angle:b(T),flipX:O,flipY:j,opacity:b(R),shadow:a&&a.toObject(),visible:N,backgroundColor:z,fillRule:F,paintFirst:$,globalCompositeOperation:G,skewX:b(D),skewY:b(P)},r?{clipPath:r}:null);return this.includeDefaultValues?A:this._removeDefaultValues(A)}toDatalessObject(e){return this.toObject(e)}_removeDefaultValues(e){const r=this.constructor.getDefaults(),n=Object.keys(r).length>0?r:Object.getPrototypeOf(this);return pg(e,(i,o)=>{if(o===le||o===wt||o==="type")return!0;const s=n[o];return i!==s&&!(Array.isArray(i)&&Array.isArray(s)&&i.length===0&&s.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(e){let r=ve(e,pb),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:i}=n,o=ve(n,mb);return Bc(r,o).then(s=>i?(delete s[i],new this(r[i],s)):new this(s))}static fromObject(e,r){return this._fromObject(e,r)}};w(Hr,"stateProperties",rb),w(Hr,"cacheProperties",ln),w(Hr,"ownDefaults",nb),w(Hr,"type","FabricObject"),w(Hr,"colorProperties",[je,Tt,"backgroundColor"]),w(Hr,"customProperties",[]),V.setClass(Hr),V.setClass(Hr,"object");const _o=(t,e,r)=>(n,i,o,s)=>{const a=e(n,i,o,s);return a&&b1(t,k(k({},E1(n,i,o,s)),r)),a};function wo(t){return(e,r,n,i)=>{const{target:o,originX:s,originY:a}=r,l=o.getRelativeCenterPoint(),c=o.translateToOriginPoint(l,s,a),u=t(e,r,n,i);return o.setPositionByOrigin(c,r.originX,r.originY),u}}const bm=_o(Os,wo((t,e,r,n)=>{const i=vg(e,e.originX,e.originY,r,n);if(Pe(e.originX)===Pe(re)||Pe(e.originX)===Pe(Te)&&i.x<0||Pe(e.originX)===Pe(le)&&i.x>0){const{target:o}=e,s=o.strokeWidth/(o.strokeUniform?o.scaleX:1),a=T1(e)?2:1,l=o.width,c=Math.ceil(Math.abs(i.x*a/o.scaleX)-s);return o.set("width",Math.max(c,0)),l!==o.width}return!1}));function vb(t,e,r,n,i){n=n||{};const o=this.sizeX||n.cornerSize||i.cornerSize,s=this.sizeY||n.cornerSize||i.cornerSize,a=n.transparentCorners!==void 0?n.transparentCorners:i.transparentCorners,l=a?Tt:je,c=!a&&(n.cornerStrokeColor||i.cornerStrokeColor);let u,h=e,d=r;t.save(),t.fillStyle=n.cornerColor||i.cornerColor||"",t.strokeStyle=n.cornerStrokeColor||i.cornerStrokeColor||"",o>s?(u=o,t.scale(1,s/o),d=r*o/s):s>o?(u=s,t.scale(o/s,1),h=e*s/o):u=o,t.lineWidth=1,t.beginPath(),t.arc(h,d,u/2,0,Ql,!1),t[l](),c&&t.stroke(),t.restore()}function yb(t,e,r,n,i){n=n||{};const o=this.sizeX||n.cornerSize||i.cornerSize,s=this.sizeY||n.cornerSize||i.cornerSize,a=n.transparentCorners!==void 0?n.transparentCorners:i.transparentCorners,l=a?Tt:je,c=!a&&(n.cornerStrokeColor||i.cornerStrokeColor),u=o/2,h=s/2;t.save(),t.fillStyle=n.cornerColor||i.cornerColor||"",t.strokeStyle=n.cornerStrokeColor||i.cornerStrokeColor||"",t.lineWidth=1,t.translate(e,r);const d=i.getTotalAngle();t.rotate(Oe(d)),t["".concat(l,"Rect")](-u,-h,o,s),c&&t.strokeRect(-u,-h,o,s),t.restore()}class ur{constructor(e){w(this,"visible",!0),w(this,"actionName",Ic),w(this,"angle",0),w(this,"x",0),w(this,"y",0),w(this,"offsetX",0),w(this,"offsetY",0),w(this,"sizeX",0),w(this,"sizeY",0),w(this,"touchSizeX",0),w(this,"touchSizeY",0),w(this,"cursorStyle","crosshair"),w(this,"withConnection",!1),Object.assign(this,e)}shouldActivate(e,r,n,i){var o;let{tl:s,tr:a,br:l,bl:c}=i;return((o=r.canvas)===null||o===void 0?void 0:o.getActiveObject())===r&&r.isControlVisible(e)&&Se.isPointInPolygon(n,[s,a,l,c])}getActionHandler(e,r,n){return this.actionHandler}getMouseDownHandler(e,r,n){return this.mouseDownHandler}getMouseUpHandler(e,r,n){return this.mouseUpHandler}cursorStyleHandler(e,r,n){return r.cursorStyle}getActionName(e,r,n){return r.actionName}getVisibility(e,r){var n,i;return(n=(i=e._controlsVisibility)===null||i===void 0?void 0:i[r])!==null&&n!==void 0?n:this.visible}setVisibility(e,r,n){this.visible=e}positionHandler(e,r,n,i){return new M(this.x*e.x+this.offsetX,this.y*e.y+this.offsetY).transform(r)}calcCornerCoords(e,r,n,i,o,s){const a=fg([Xs(n,i),Gs({angle:e}),gg((o?this.touchSizeX:this.sizeX)||r,(o?this.touchSizeY:this.sizeY)||r)]);return{tl:new M(-.5,-.5).transform(a),tr:new M(.5,-.5).transform(a),br:new M(.5,.5).transform(a),bl:new M(-.5,.5).transform(a)}}render(e,r,n,i,o){((i=i||{}).cornerStyle||o.cornerStyle)==="circle"?vb.call(this,e,r,n,i,o):yb.call(this,e,r,n,i,o)}}const Sb=(t,e,r)=>r.lockRotation?ic:e.cursorStyle,xb=_o(c1,wo((t,e,r,n)=>{let{target:i,ex:o,ey:s,theta:a,originX:l,originY:c}=e;const u=i.translateToOriginPoint(i.getRelativeCenterPoint(),l,c);if(Cr(i,"lockRotation"))return!1;const h=Math.atan2(s-u.y,o-u.x),d=Math.atan2(n-u.y,r-u.x);let f=fi(d-h+a);if(i.snapAngle&&i.snapAngle>0){const v=i.snapAngle,S=i.snapThreshold||v,p=Math.ceil(f/v)*v,g=Math.floor(f/v)*v;Math.abs(f-g)<S?f=g:Math.abs(f-p)<S&&(f=p)}f<0&&(f=360+f),f%=360;const m=i.angle!==f;return i.angle=f,m}));function j1(t,e){const r=e.canvas,n=t[r.uniScaleKey];return r.uniformScaling&&!n||!r.uniformScaling&&n}function L1(t,e,r){const n=Cr(t,"lockScalingX"),i=Cr(t,"lockScalingY");if(n&&i||!e&&(n||i)&&r||n&&e==="x"||i&&e==="y")return!0;const{width:o,height:s,strokeWidth:a}=t;return o===0&&a===0&&e!=="y"||s===0&&a===0&&e!=="x"}const Cb=["e","se","s","sw","w","nw","n","ne","e"],Yo=(t,e,r)=>{const n=j1(t,r);if(L1(r,e.x!==0&&e.y===0?"x":e.x===0&&e.y!==0?"y":"",n))return ic;const i=O1(r,e);return"".concat(Cb[i],"-resize")};function xg(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const o=e.target,s=i.by,a=j1(t,o);let l,c,u,h,d,f;if(L1(o,s,a))return!1;if(e.gestureScale)c=e.scaleX*e.gestureScale,u=e.scaleY*e.gestureScale;else{if(l=vg(e,e.originX,e.originY,r,n),d=s!=="y"?Math.sign(l.x||e.signX||1):1,f=s!=="x"?Math.sign(l.y||e.signY||1):1,e.signX||(e.signX=d),e.signY||(e.signY=f),Cr(o,"lockScalingFlip")&&(e.signX!==d||e.signY!==f))return!1;if(h=o._getTransformedDimensions(),a&&!s){const S=Math.abs(l.x)+Math.abs(l.y),{original:p}=e,g=S/(Math.abs(h.x*p.scaleX/o.scaleX)+Math.abs(h.y*p.scaleY/o.scaleY));c=p.scaleX*g,u=p.scaleY*g}else c=Math.abs(l.x*o.scaleX/h.x),u=Math.abs(l.y*o.scaleY/h.y);T1(e)&&(c*=2,u*=2),e.signX!==d&&s!=="y"&&(e.originX=ym(e.originX),c*=-1,e.signX=d),e.signY!==f&&s!=="x"&&(e.originY=ym(e.originY),u*=-1,e.signY=f)}const m=o.scaleX,v=o.scaleY;return s?(s==="x"&&o.set(Ot,c),s==="y"&&o.set(Kt,u)):(!Cr(o,"lockScalingX")&&o.set(Ot,c),!Cr(o,"lockScalingY")&&o.set(Kt,u)),m!==o.scaleX||v!==o.scaleY}const xa=_o(Fc,wo((t,e,r,n)=>xg(t,e,r,n))),_b=_o(Fc,wo((t,e,r,n)=>xg(t,e,r,n,{by:"x"}))),wb=_o(Fc,wo((t,e,r,n)=>xg(t,e,r,n,{by:"y"}))),bb=["target","ex","ey","skewingSide"],Uu={x:{counterAxis:"y",scale:Ot,skew:So,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:Kt,skew:xo,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},Tb=["ns","nesw","ew","nwse"],Eb=(t,e,r)=>{if(e.x!==0&&Cr(r,"lockSkewingY")||e.y!==0&&Cr(r,"lockSkewingX"))return ic;const n=O1(r,e)%4;return"".concat(Tb[n],"-resize")};function R1(t,e,r,n,i){const{target:o}=r,{counterAxis:s,origin:a,lockSkewing:l,skew:c,flip:u}=Uu[t];if(Cr(o,l))return!1;const{origin:h,flip:d}=Uu[s],f=Pe(r[h])*(o[d]?-1:1),m=-Math.sign(f)*(o[u]?-1:1),v=.5*-((o[c]===0&&vg(r,re,re,n,i)[t]>0||o[c]>0?1:-1)*m)+.5;return _o(u1,wo((p,g,y,x)=>function(_,E,T){let{target:O,ex:j,ey:R,skewingSide:N}=E,z=ve(E,bb);const{skew:F}=Uu[_],$=T.subtract(new M(j,R)).divide(new M(O.scaleX,O.scaleY))[_],G=O[F],D=z[F],P=Math.tan(Oe(D)),b=_==="y"?O._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:O._getTransformedDimensions({scaleX:1,scaleY:1}).y,A=2*$*N/Math.max(b,1)+P,L=fi(Math.atan(A));O.set(F,L);const I=G!==O[F];if(I&&_==="y"){const{skewX:H,scaleX:ee}=O,Y=O._getTransformedDimensions({skewY:G}),K=O._getTransformedDimensions(),Q=H!==0?Y.x/K.x:1;Q!==1&&O.set(Ot,Q*ee)}return I}(t,g,new M(y,x))))(e,k(k({},r),{},{[a]:v,skewingSide:m}),n,i)}const Ob=(t,e,r,n)=>R1("x",t,e,r,n),kb=(t,e,r,n)=>R1("y",t,e,r,n);function Hc(t,e){return t[e.canvas.altActionKey]}const Ca=(t,e,r)=>{const n=Hc(t,r);return e.x===0?n?So:Kt:e.y===0?n?xo:Ot:""},$i=(t,e,r)=>Hc(t,r)?Eb(0,e,r):Yo(t,e,r),Tm=(t,e,r,n)=>Hc(t,e.target)?kb(t,e,r,n):_b(t,e,r,n),Em=(t,e,r,n)=>Hc(t,e.target)?Ob(t,e,r,n):wb(t,e,r,n),F1=()=>({ml:new ur({x:-.5,y:0,cursorStyleHandler:$i,actionHandler:Tm,getActionName:Ca}),mr:new ur({x:.5,y:0,cursorStyleHandler:$i,actionHandler:Tm,getActionName:Ca}),mb:new ur({x:0,y:.5,cursorStyleHandler:$i,actionHandler:Em,getActionName:Ca}),mt:new ur({x:0,y:-.5,cursorStyleHandler:$i,actionHandler:Em,getActionName:Ca}),tl:new ur({x:-.5,y:-.5,cursorStyleHandler:Yo,actionHandler:xa}),tr:new ur({x:.5,y:-.5,cursorStyleHandler:Yo,actionHandler:xa}),bl:new ur({x:-.5,y:.5,cursorStyleHandler:Yo,actionHandler:xa}),br:new ur({x:.5,y:.5,cursorStyleHandler:Yo,actionHandler:xa}),mtr:new ur({x:0,y:-.5,actionHandler:xb,cursorStyleHandler:Sb,offsetY:-40,withConnection:!0,actionName:hg})}),Mb=()=>({mr:new ur({x:.5,y:0,actionHandler:bm,cursorStyleHandler:$i,actionName:Os}),ml:new ur({x:-.5,y:0,actionHandler:bm,cursorStyleHandler:$i,actionName:Os})}),Pb=()=>k(k({},F1()),Mb());class pi extends Hr{static getDefaults(){return k(k({},super.getDefaults()),pi.ownDefaults)}constructor(e){super(),Object.assign(this,this.constructor.createControls(),pi.ownDefaults),this.setOptions(e)}static createControls(){return{controls:F1()}}_updateCacheCanvas(){const e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){const r=e._currentTransform,n=r.target,i=r.action;if(this===n&&i&&i.startsWith(Ic))return!1}return super._updateCacheCanvas()}getActiveControl(){const e=this.__corner;return e?{key:e,control:this.controls[e],coord:this.oCoords[e]}:void 0}findControl(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const n=Object.entries(this.oCoords);for(let i=n.length-1;i>=0;i--){const[o,s]=n[i],a=this.controls[o];if(a.shouldActivate(o,this,e,r?s.touchCorner:s.corner))return this.__corner=o,{key:o,control:a,coord:this.oCoords[o]}}}calcOCoords(){const e=this.getViewportTransform(),r=this.getCenterPoint(),n=Xs(r.x,r.y),i=Gs({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),o=qe(n,i),s=qe(e,o),a=qe(s,[1/e[0],0,0,1/e[3],0,0]),l=this.group?tc(this.calcTransformMatrix()):void 0;l&&(l.scaleX=Math.abs(l.scaleX),l.scaleY=Math.abs(l.scaleY));const c=this._calculateCurrentDimensions(l),u={};return this.forEachControl((h,d)=>{const f=h.positionHandler(c,a,this,h);u[d]=Object.assign(f,this._calcCornerCoords(h,f))}),u}_calcCornerCoords(e,r){const n=this.getTotalAngle();return{corner:e.calcCornerCoords(n,this.cornerSize,r.x,r.y,!1,this),touchCorner:e.calcCornerCoords(n,this.touchCornerSize,r.x,r.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(e){for(const r in this.controls)e(this.controls[r],r,this)}drawSelectionBackground(e){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;e.save();const r=this.getRelativeCenterPoint(),n=this._calculateCurrentDimensions(),i=this.getViewportTransform();e.translate(r.x,r.y),e.scale(1/i[0],1/i[3]),e.rotate(Oe(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-n.x/2,-n.y/2,n.x,n.y),e.restore()}strokeBorders(e,r){e.strokeRect(-r.x/2,-r.y/2,r.x,r.y)}_drawBorders(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=k({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},n);e.save(),e.strokeStyle=i.borderColor,this._setLineDash(e,i.borderDashArray),this.strokeBorders(e,r),i.hasControls&&this.drawControlsConnectingLines(e,r),e.restore()}_renderControls(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:n,hasControls:i}=this,o=k({hasBorders:n,hasControls:i},r),s=this.getViewportTransform(),a=o.hasBorders,l=o.hasControls,c=qe(s,this.calcTransformMatrix()),u=tc(c);e.save(),e.translate(u.translateX,u.translateY),e.lineWidth=1*this.borderScaleFactor,this.group===this.parent&&(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(u.angle-=180),e.rotate(Oe(this.group?u.angle:this.angle)),a&&this.drawBorders(e,u,r),l&&this.drawControls(e,r),e.restore()}drawBorders(e,r,n){let i;if(n&&n.forActiveSelection||this.group){const o=mg(this.width,this.height,Nc(r)),s=this.isStrokeAccountedForInDimensions()?dg:(this.strokeUniform?new M().scalarAdd(this.canvas?this.canvas.getZoom():1):new M(r.scaleX,r.scaleY)).scalarMultiply(this.strokeWidth);i=o.add(s).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else i=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(e,i,n)}drawControlsConnectingLines(e,r){let n=!1;e.beginPath(),this.forEachControl((i,o)=>{i.withConnection&&i.getVisibility(this,o)&&(n=!0,e.moveTo(i.x*r.x,i.y*r.y),e.lineTo(i.x*r.x+i.offsetX,i.y*r.y+i.offsetY))}),n&&e.stroke()}drawControls(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.save();const n=this.getCanvasRetinaScaling(),{cornerStrokeColor:i,cornerDashArray:o,cornerColor:s}=this,a=k({cornerStrokeColor:i,cornerDashArray:o,cornerColor:s},r);e.setTransform(n,0,0,n,0,0),e.strokeStyle=e.fillStyle=a.cornerColor,this.transparentCorners||(e.strokeStyle=a.cornerStrokeColor),this._setLineDash(e,a.cornerDashArray),this.forEachControl((l,c)=>{if(l.getVisibility(this,c)){const u=this.oCoords[c];l.render(e,u.x,u.y,a,this)}}),e.restore()}isControlVisible(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)}setControlVisible(e,r){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=r}setControlsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(e).forEach(r=>{let[n,i]=r;return this.setControlVisible(n,i)})}clearContextTop(e){if(!this.canvas)return;const r=this.canvas.contextTop;if(!r)return;const n=this.canvas.viewportTransform;r.save(),r.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(r);const i=this.width+4,o=this.height+4;return r.clearRect(-i/2,-o/2,i,o),e||r.restore(),r}onDeselect(e){return!1}onSelect(e){return!1}shouldStartDragging(e){return!1}onDragStart(e){return!1}canDrop(e){return!1}renderDragSourceEffect(e){}renderDropTargetEffect(e){}}function I1(t,e){return e.forEach(r=>{Object.getOwnPropertyNames(r.prototype).forEach(n=>{n!=="constructor"&&Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(r.prototype,n)||Object.create(null))})}),t}w(pi,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class nt extends pi{}I1(nt,[k1]),V.setClass(nt),V.setClass(nt,"object");const Db=(t,e,r,n)=>{const i=2*(n=Math.round(n))+1,{data:o}=t.getImageData(e-n,r-n,i,i);for(let s=3;s<o.length;s+=4)if(o[s]>0)return!1;return!0};class N1{constructor(e){this.options=e,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new M(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new M(1/this.options.scaleX,1/this.options.scaleY):new M(1,1)}createSideVector(e,r){const n=md(e,r);return this.options.strokeUniform?n.multiply(this.scale):n}projectOrthogonally(e,r,n){return this.applySkew(e.add(this.calcOrthogonalProjection(e,r,n)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(e){const r=new M(e);return r.y+=r.x*Math.tan(Oe(this.options.skewY)),r.x+=r.y*Math.tan(Oe(this.options.skewX)),r}scaleUnitVector(e,r){return e.multiply(this.strokeUniformScalar).scalarMultiply(r)}}const Ab=new M;class eo extends N1{static getOrthogonalRotationFactor(e,r){const n=r?yd(e,r):eb(e);return Math.abs(n)<Us?-1:1}constructor(e,r,n,i){super(i),w(this,"AB",void 0),w(this,"AC",void 0),w(this,"alpha",void 0),w(this,"bisector",void 0),this.A=new M(e),this.B=new M(r),this.C=new M(n),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=yd(this.AB,this.AC),this.bisector=yg(P1(this.AB.eq(Ab)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,r),o=D1(i),s=eo.getOrthogonalRotationFactor(o,this.bisector);return this.scaleUnitVector(o,n*s)}projectBevel(){const e=[];return(this.alpha%Ql==0?[this.B]:[this.B,this.C]).forEach(r=>{e.push(this.projectOrthogonally(this.A,r)),e.push(this.projectOrthogonally(this.A,r,-this.strokeProjectionMagnitude))}),e}projectMiter(){const e=[],r=Math.abs(this.alpha),n=1/Math.sin(r/2),i=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*n),o=this.options.strokeUniform?vd(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return vd(i)/this.strokeProjectionMagnitude<=o&&e.push(this.applySkew(this.A.add(i))),e.push(...this.projectBevel()),e}projectRoundNoSkew(e,r){const n=[],i=new M(eo.getOrthogonalRotationFactor(this.bisector),eo.getOrthogonalRotationFactor(new M(this.bisector.y,this.bisector.x)));return[new M(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i),new M(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i)].forEach(o=>{Cm(o,e,r)&&n.push(this.A.add(o))}),n}projectRoundWithSkew(e,r){const n=[],{skewX:i,skewY:o,scaleX:s,scaleY:a,strokeUniform:l}=this.options,c=new M(Math.tan(Oe(i)),Math.tan(Oe(o))),u=this.strokeProjectionMagnitude,h=l?u/a/Math.sqrt(1/a**2+1/s**2*c.y**2):u/Math.sqrt(1+c.y**2),d=new M(Math.sqrt(Math.max(u**2-h**2,0)),h),f=l?u/Math.sqrt(1+c.x**2*(1/a)**2/(1/s+1/s*c.x*c.y)**2):u/Math.sqrt(1+c.x**2/(1+c.x*c.y)**2),m=new M(f,Math.sqrt(Math.max(u**2-f**2,0)));return[m,m.scalarMultiply(-1),d,d.scalarMultiply(-1)].map(v=>this.applySkew(l?v.multiply(this.strokeUniformScalar):v)).forEach(v=>{Cm(v,e,r)&&n.push(this.applySkew(this.A).add(v))}),n}projectRound(){const e=[];e.push(...this.projectBevel());const r=this.alpha%Ql==0,n=this.applySkew(this.A),i=e[r?0:2].subtract(n),o=e[r?1:0].subtract(n),s=r?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),a=os(i,s)>0,l=a?i:o,c=a?o:i;return this.isSkewed()?e.push(...this.projectRoundWithSkew(l,c)):e.push(...this.projectRoundNoSkew(l,c)),e}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e,angle:this.alpha,bisector:this.bisector}))}}class Om extends N1{constructor(e,r,n){super(n),this.A=new M(e),this.T=new M(r)}calcOrthogonalProjection(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,r);return this.scaleUnitVector(D1(i),n)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const e=[];if(!this.isSkewed()&&this.A.eq(this.T)){const r=new M(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.applySkew(this.A.add(r)),this.applySkew(this.A.subtract(r)))}else e.push(...new eo(this.A,this.T,this.T,this.options).projectRound());return e}projectSquare(){const e=[];if(this.A.eq(this.T)){const r=new M(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.A.add(r),this.A.subtract(r))}else{const r=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),n=this.scaleUnitVector(yg(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),i=this.A.add(n);e.push(i.add(r),i.subtract(r))}return e.map(r=>this.applySkew(r))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e}))}}const jb=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const n=[];if(t.length===0)return n;const i=t.reduce((o,s)=>(o[o.length-1].eq(s)||o.push(new M(s)),o),[new M(t[0])]);if(i.length===1)r=!0;else if(!r){const o=i[0],s=((a,l)=>{for(let c=a.length-1;c>=0;c--)if(l(a[c],c,a))return c;return-1})(i,a=>!a.eq(o));i.splice(s+1)}return i.forEach((o,s,a)=>{let l,c;s===0?(c=a[1],l=r?o:a[a.length-1]):s===a.length-1?(l=a[s-1],c=r?o:a[0]):(l=a[s-1],c=a[s+1]),r&&a.length===1?n.push(...new Om(o,o,e).project()):!r||s!==0&&s!==a.length-1?n.push(...new eo(o,l,c,e).project()):n.push(...new Om(o,s===0?c:l,e).project())}),n},Cg=t=>{const e={};return Object.keys(t).forEach(r=>{e[r]={},Object.keys(t[r]).forEach(n=>{e[r][n]=k({},t[r][n])})}),e},Lb=t=>t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),_g=t=>{const e=[];for(let r,n=0;n<t.length;n++)(r=Rb(t,n))!==!1&&e.push(r);return e},Rb=(t,e)=>{const r=t.charCodeAt(e);if(isNaN(r))return"";if(r<55296||r>57343)return t.charAt(e);if(55296<=r&&r<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";const i=t.charCodeAt(e+1);if(56320>i||i>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";const n=t.charCodeAt(e-1);if(55296>n||n>56319)throw"Low surrogate without preceding high surrogate";return!1},wg=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.textBackgroundColor!==e.textBackgroundColor||t.deltaY!==e.deltaY||r&&(t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough)},Fb=(t,e)=>{const r=e.split(`
`),n=[];let i=-1,o={};t=Cg(t);for(let s=0;s<r.length;s++){const a=_g(r[s]);if(t[s])for(let l=0;l<a.length;l++){i++;const c=t[s][l];c&&Object.keys(c).length>0&&(wg(o,c,!0)?n.push({start:i,end:i+1,style:c}):n[n.length-1].end++),o=c||{}}else i+=a.length,o={}}return n},Ib=(t,e)=>{if(!Array.isArray(t))return Cg(t);const r=e.split(ug),n={};let i=-1,o=0;for(let s=0;s<r.length;s++){const a=_g(r[s]);for(let l=0;l<a.length;l++)i++,t[o]&&t[o].start<=i&&i<t[o].end&&(n[s]=n[s]||{},n[s][l]=k({},t[o].style),i===t[o].end-1&&o++)}return n},Wn=["display","transform",je,"fill-opacity","fill-rule","opacity",Tt,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function km(t,e){const r=t.nodeName,n=t.getAttribute("class"),i=t.getAttribute("id"),o="(?![a-zA-Z\\-]+)";let s;if(s=new RegExp("^"+r,"i"),e=e.replace(s,""),i&&e.length&&(s=new RegExp("#"+i+o,"i"),e=e.replace(s,"")),n&&e.length){const a=n.split(" ");for(let l=a.length;l--;)s=new RegExp("\\."+a[l]+o,"i"),e=e.replace(s,"")}return e.length===0}function Nb(t,e){let r=!0;const n=km(t,e.pop());return n&&e.length&&(r=function(i,o){let s,a=!0;for(;i.parentElement&&i.parentElement.nodeType===1&&o.length;)a&&(s=o.pop()),a=km(i=i.parentElement,s);return o.length===0}(t,e)),n&&r&&e.length===0}const Bb=t=>{var e;return(e=Zw[t])!==null&&e!==void 0?e:t},zb=new RegExp("(".concat(gi,")"),"gi"),$b=t=>t.replace(zb," $1 ").replace(/,/gi," ").replace(/\s+/gi," ");var Mm,Pm,Dm,Am,jm,Lm,Rm;const lt="(".concat(gi,")"),Hb=String.raw(Mm||(Mm=Hn(["(skewX)(",")"],["(skewX)\\(","\\)"])),lt),Wb=String.raw(Pm||(Pm=Hn(["(skewY)(",")"],["(skewY)\\(","\\)"])),lt),Vb=String.raw(Dm||(Dm=Hn(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),lt,lt,lt),Ub=String.raw(Am||(Am=Hn(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),lt,lt),Xb=String.raw(jm||(jm=Hn(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),lt,lt),Gb=String.raw(Lm||(Lm=Hn(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),lt,lt,lt,lt,lt,lt),bg="(?:".concat(Gb,"|").concat(Xb,"|").concat(Vb,"|").concat(Ub,"|").concat(Hb,"|").concat(Wb,")"),Yb="(?:".concat(bg,"*)"),Kb=String.raw(Rm||(Rm=Hn(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),Yb),qb=new RegExp(Kb),Qb=new RegExp(bg),Zb=new RegExp(bg,"g");function Sd(t){const e=[];if(!(t=$b(t).replace(/\s*([()])\s*/gi,"$1"))||t&&!qb.test(t))return[...ht];for(const r of t.matchAll(Zb)){const n=Qb.exec(r[0]);if(!n)continue;let i=ht;const o=n.filter(m=>!!m),[,s,...a]=o,[l,c,u,h,d,f]=a.map(m=>parseFloat(m));switch(s){case"translate":i=Xs(l,c);break;case hg:i=Gs({angle:l},{x:c,y:u});break;case Ic:i=gg(l,c);break;case So:i=m1(l);break;case xo:i=v1(l);break;case"matrix":i=[l,c,u,h,d,f]}e.push(i)}return fg(e)}function Jb(t,e,r,n){const i=Array.isArray(e);let o,s=e;if(t!==je&&t!==Tt||e!==bt){if(t==="strokeUniform")return e==="non-scaling-stroke";if(t==="strokeDashArray")s=e===bt?null:e.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(t==="transformMatrix")s=r&&r.transformMatrix?qe(r.transformMatrix,Sd(e)):Sd(e);else if(t==="visible")s=e!==bt&&e!=="hidden",r&&r.visible===!1&&(s=!1);else if(t==="opacity")s=parseFloat(e),r&&r.opacity!==void 0&&(s*=r.opacity);else if(t==="textAnchor")s=e==="start"?le:e==="end"?Te:re;else if(t==="charSpacing")o=Zi(e,n)/n*1e3;else if(t==="paintFirst"){const a=e.indexOf(je),l=e.indexOf(Tt);s=je,(a>-1&&l>-1&&l<a||a===-1&&l>-1)&&(s=Tt)}else{if(t==="href"||t==="xlink:href"||t==="font"||t==="id")return e;if(t==="imageSmoothing")return e==="optimizeQuality";o=i?e.map(Zi):Zi(e,n)}}else s="";return!i&&isNaN(o)?s:o}function e2(t,e){const r=t.match(Qw);if(!r)return;const n=r[1],i=r[3],o=r[4],s=r[5],a=r[6];n&&(e.fontStyle=n),i&&(e.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),o&&(e.fontSize=Zi(o)),a&&(e.fontFamily=a),s&&(e.lineHeight=s==="normal"?1:s)}function t2(t,e){t.replace(/;\s*$/,"").split(";").forEach(r=>{if(!r)return;const[n,i]=r.split(":");e[n.trim().toLowerCase()]=i.trim()})}function r2(t){const e={},r=t.getAttribute("style");return r&&(typeof r=="string"?t2(r,e):function(n,i){Object.entries(n).forEach(o=>{let[s,a]=o;a!==void 0&&(i[s.toLowerCase()]=a)})}(r,e)),e}const n2={stroke:"strokeOpacity",fill:"fillOpacity"};function cn(t,e,r){if(!t)return{};let n,i={},o=cg;t.parentNode&&xm.test(t.parentNode.nodeName)&&(i=cn(t.parentElement,e,r),i.fontSize&&(n=o=Zi(i.fontSize)));const s=k(k(k({},e.reduce((c,u)=>{const h=t.getAttribute(u);return h&&(c[u]=h),c},{})),function(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h={};for(const d in u)Nb(c,d.split(" "))&&(h=k(k({},h),u[d]));return h}(t,r)),r2(t));s[Wu]&&t.setAttribute(Wu,s[Wu]),s[Hu]&&(n=Zi(s[Hu],o),s[Hu]="".concat(n));const a={};for(const c in s){const u=Bb(c),h=Jb(u,s[c],i,n);a[u]=h}a&&a.font&&e2(a.font,a);const l=k(k({},i),a);return xm.test(t.nodeName)?l:function(c){const u=nt.getDefaults();return Object.entries(n2).forEach(h=>{let[d,f]=h;if(c[f]===void 0||c[d]==="")return;if(c[d]===void 0){if(!u[d])return;c[d]=u[d]}if(c[d].indexOf("url(")===0)return;const m=new ae(c[d]);c[d]=m.setAlpha(Ce(m.getAlpha()*c[f],2)).toRgba()}),c}(l)}const i2=["left","top","width","height","visible"],B1=["rx","ry"];class mr extends nt{static getDefaults(){return k(k({},super.getDefaults()),mr.ownDefaults)}constructor(e){super(),Object.assign(this,mr.ownDefaults),this.setOptions(e),this._initRxRy()}_initRxRy(){const{rx:e,ry:r}=this;e&&!r?this.ry=e:r&&!e&&(this.rx=r)}_render(e){const{width:r,height:n}=this,i=-r/2,o=-n/2,s=this.rx?Math.min(this.rx,r/2):0,a=this.ry?Math.min(this.ry,n/2):0,l=s!==0||a!==0;e.beginPath(),e.moveTo(i+s,o),e.lineTo(i+r-s,o),l&&e.bezierCurveTo(i+r-dn*s,o,i+r,o+dn*a,i+r,o+a),e.lineTo(i+r,o+n-a),l&&e.bezierCurveTo(i+r,o+n-dn*a,i+r-dn*s,o+n,i+r-s,o+n),e.lineTo(i+s,o+n),l&&e.bezierCurveTo(i+dn*s,o+n,i,o+n-dn*a,i,o+n-a),e.lineTo(i,o+a),l&&e.bezierCurveTo(i,o+dn*a,i+dn*s,o,i+s,o),e.closePath(),this._renderPaintInOrder(e)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...B1,...e])}_toSVG(){const{width:e,height:r,rx:n,ry:i}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-e/2,'" y="').concat(-r/2,'" rx="').concat(n,'" ry="').concat(i,'" width="').concat(e,'" height="').concat(r,`" />
`)]}static async fromElement(e,r,n){const i=cn(e,this.ATTRIBUTE_NAMES,n),{left:o=0,top:s=0,width:a=0,height:l=0,visible:c=!0}=i,u=ve(i,i2);return new this(k(k(k({},r),u),{},{left:o,top:s,width:a,height:l,visible:!!(c&&a&&l)}))}}w(mr,"type","Rect"),w(mr,"cacheProperties",[...ln,...B1]),w(mr,"ownDefaults",{rx:0,ry:0}),w(mr,"ATTRIBUTE_NAMES",[...Wn,"x","y","rx","ry","width","height"]),V.setClass(mr),V.setSVGClass(mr);const Kr="initialization",oc="added",Tg="removed",sc="imperative",z1=(t,e)=>{const{strokeUniform:r,strokeWidth:n,width:i,height:o,group:s}=e,a=s&&s!==t?zc(s.calcTransformMatrix(),t.calcTransformMatrix()):null,l=a?e.getRelativeCenterPoint().transform(a):e.getRelativeCenterPoint(),c=!e.isStrokeAccountedForInDimensions(),u=r&&c?Gw(new M(n,n),void 0,t.calcTransformMatrix()):dg,h=!r&&c?n:0,d=mg(i+h,o+h,fg([a,e.calcOwnMatrix()],!0)).add(u).scalarDivide(2);return[l.subtract(d),l.add(d)]};class Wc{calcLayoutResult(e,r){if(this.shouldPerformLayout(e))return this.calcBoundingBox(r,e)}shouldPerformLayout(e){let{type:r,prevStrategy:n,strategy:i}=e;return r===Kr||r===sc||!!n&&i!==n}shouldLayoutClipPath(e){let{type:r,target:{clipPath:n}}=e;return r!==Kr&&n&&!n.absolutePositioned}getInitialSize(e,r){return r.size}calcBoundingBox(e,r){const{type:n,target:i}=r;if(n===sc&&r.overrides)return r.overrides;if(e.length===0)return;const{left:o,top:s,width:a,height:l}=Zr(e.map(h=>z1(i,h)).reduce((h,d)=>h.concat(d),[])),c=new M(a,l),u=new M(o,s).add(c.scalarDivide(2));if(n===Kr){const h=this.getInitialSize(r,{size:c,center:u});return{center:u,relativeCorrection:new M(0,0),size:h}}return{center:u.transform(i.calcOwnMatrix()),size:c}}}w(Wc,"type","strategy");class xd extends Wc{shouldPerformLayout(e){return!0}}w(xd,"type","fit-content"),V.setClass(xd);const o2=["strategy"],s2=["target","strategy","bubbles","prevStrategy"],$1="layoutManager";class Ps{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new xd;w(this,"strategy",void 0),this.strategy=e,this._subscriptions=new Map}performLayout(e){const r=k(k({bubbles:!0,strategy:this.strategy},e),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(r);const n=this.getLayoutResult(r);n&&this.commitLayout(r,n),this.onAfterLayout(r,n),this._prevLayoutStrategy=r.strategy}attachHandlers(e,r){const{target:n}=r;return[Jl,l1,Os,c1,Fc,u1,Zl,Aw,jw].map(i=>e.on(i,o=>this.performLayout(i===Jl?{type:"object_modified",trigger:i,e:o,target:n}:{type:"object_modifying",trigger:i,e:o,target:n})))}subscribe(e,r){this.unsubscribe(e,r);const n=this.attachHandlers(e,r);this._subscriptions.set(e,n)}unsubscribe(e,r){(this._subscriptions.get(e)||[]).forEach(n=>n()),this._subscriptions.delete(e)}unsubscribeTargets(e){e.targets.forEach(r=>this.unsubscribe(r,e))}subscribeTargets(e){e.targets.forEach(r=>this.subscribe(r,e))}onBeforeLayout(e){const{target:r,type:n}=e,{canvas:i}=r;if(n===Kr||n===oc?this.subscribeTargets(e):n===Tg&&this.unsubscribeTargets(e),r.fire("layout:before",{context:e}),i&&i.fire("object:layout:before",{target:r,context:e}),n===sc&&e.deep){const o=ve(e,o2);r.forEachObject(s=>s.layoutManager&&s.layoutManager.performLayout(k(k({},o),{},{bubbles:!1,target:s})))}}getLayoutResult(e){const{target:r,strategy:n,type:i}=e,o=n.calcLayoutResult(e,r.getObjects());if(!o)return;const s=i===Kr?new M:r.getRelativeCenterPoint(),{center:a,correction:l=new M,relativeCorrection:c=new M}=o,u=s.subtract(a).add(l).transform(i===Kr?ht:yr(r.calcOwnMatrix()),!0).add(c);return{result:o,prevCenter:s,nextCenter:a,offset:u}}commitLayout(e,r){const{target:n}=e,{result:{size:i},nextCenter:o}=r;var s,a;n.set({width:i.x,height:i.y}),this.layoutObjects(e,r),e.type===Kr?n.set({left:(s=e.x)!==null&&s!==void 0?s:o.x+i.x*Pe(n.originX),top:(a=e.y)!==null&&a!==void 0?a:o.y+i.y*Pe(n.originY)}):(n.setPositionByOrigin(o,re,re),n.setCoords(),n.set("dirty",!0))}layoutObjects(e,r){const{target:n}=e;n.forEachObject(i=>{i.group===n&&this.layoutObject(e,r,i)}),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,r,n.clipPath)}layoutObject(e,r,n){let{offset:i}=r;n.set({left:n.left+i.x,top:n.top+i.y})}onAfterLayout(e,r){const{target:n,strategy:i,bubbles:o,prevStrategy:s}=e,a=ve(e,s2),{canvas:l}=n;n.fire("layout:after",{context:e,result:r}),l&&l.fire("object:layout:after",{context:e,result:r,target:n});const c=n.parent;o&&c!=null&&c.layoutManager&&((a.path||(a.path=[])).push(n),c.layoutManager.performLayout(k(k({},a),{},{target:c}))),n.set("dirty",!0)}dispose(){const{_subscriptions:e}=this;e.forEach(r=>r.forEach(n=>n())),e.clear()}toObject(){return{type:$1,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}V.setClass(Ps,$1);const a2=["type","objects","layoutManager"];class l2 extends Ps{performLayout(){}}class ii extends h1(nt){static getDefaults(){return k(k({},super.getDefaults()),ii.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),w(this,"_activeObjects",[]),w(this,"__objectSelectionTracker",void 0),w(this,"__objectSelectionDisposer",void 0),Object.assign(this,ii.ownDefaults),this.setOptions(r),this.groupInit(e,r)}groupInit(e,r){var n;this._objects=[...e],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(i=>{this.enterGroup(i,!1)}),this.layoutManager=(n=r.layoutManager)!==null&&n!==void 0?n:new Ps,this.layoutManager.performLayout({type:Kr,target:this,targets:[...e],x:r.left,y:r.top})}canEnterGroup(e){return e===this||this.isDescendantOf(e)?(Fn("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(e)===-1||(Fn("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(e){return e.filter((r,n,i)=>this.canEnterGroup(r)&&i.indexOf(r)===n)}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];const i=this._filterObjectsBeforeEnteringGroup(r),o=super.add(...i);return this._onAfterObjectsChange(oc,i),o}insertAt(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];const o=this._filterObjectsBeforeEnteringGroup(n),s=super.insertAt(e,...o);return this._onAfterObjectsChange(oc,o),s}remove(){const e=super.remove(...arguments);return this._onAfterObjectsChange(Tg,e),e}_onObjectAdded(e){this.enterGroup(e,!0),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e,r){this.exitGroup(e,r),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onAfterObjectsChange(e,r){this.layoutManager.performLayout({type:e,targets:r,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(e,r){const n=this[e];return super._set(e,r),e==="canvas"&&n!==r&&(this._objects||[]).forEach(i=>{i._set(e,r)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(e,r){let{target:n}=r;const i=this._activeObjects;if(e)i.push(n),this._set("dirty",!0);else if(i.length>0){const o=i.indexOf(n);o>-1&&(i.splice(o,1),this._set("dirty",!0))}}_watchObject(e,r){e&&this._watchObject(!1,r),e?(r.on("selected",this.__objectSelectionTracker),r.on("deselected",this.__objectSelectionDisposer)):(r.off("selected",this.__objectSelectionTracker),r.off("deselected",this.__objectSelectionDisposer))}enterGroup(e,r){e.group&&e.group.remove(e),e._set("parent",this),this._enterGroup(e,r)}_enterGroup(e,r){r&&nc(e,qe(yr(this.calcTransformMatrix()),e.calcTransformMatrix())),this._shouldSetNestedCoords()&&e.setCoords(),e._set("group",this),e._set("canvas",this.canvas),this._watchObject(!0,e);const n=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();n&&(n===e||e.isDescendantOf(n))&&this._activeObjects.push(e)}exitGroup(e,r){this._exitGroup(e,r),e._set("parent",void 0),e._set("canvas",void 0)}_exitGroup(e,r){e._set("group",void 0),r||(nc(e,qe(this.calcTransformMatrix(),e.calcTransformMatrix())),e.setCoords()),this._watchObject(!1,e);const n=this._activeObjects.length>0?this._activeObjects.indexOf(e):-1;n>-1&&this._activeObjects.splice(n,1)}shouldCache(){const e=nt.prototype.shouldCache.call(this);if(e){for(let r=0;r<this._objects.length;r++)if(this._objects[r].willDrawShadow())return this.ownCaching=!1,!1}return e}willDrawShadow(){if(super.willDrawShadow())return!0;for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(e){this._renderBackground(e);for(let n=0;n<this._objects.length;n++){var r;(r=this.canvas)!==null&&r!==void 0&&r.preserveObjectStacking&&this._objects[n].group!==this?(e.save(),e.transform(...yr(this.calcTransformMatrix())),this._objects[n].render(e),e.restore()):this._objects[n].group===this&&this._objects[n].render(e)}this._drawClipPath(e,this.clipPath)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(e=>e.setCoords())}triggerLayout(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(k({target:this,type:sc},e))}render(e){this._transformDone=!0,super.render(e),this._transformDone=!1}__serializeObjects(e,r){const n=this.includeDefaultValues;return this._objects.filter(function(i){return!i.excludeFromExport}).map(function(i){const o=i.includeDefaultValues;i.includeDefaultValues=n;const s=i[e||"toObject"](r);return i.includeDefaultValues=o,s})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=this.layoutManager.toObject();return k(k(k({},super.toObject(["subTargetCheck","interactive",...e])),r.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:r}:{}),{},{objects:this.__serializeObjects("toObject",e)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(e=>{this._watchObject(!1,e),e.dispose()}),super.dispose()}_createSVGBgRect(e){if(!this.backgroundColor)return"";const r=mr.prototype._toSVG.call(this),n=r.indexOf("COMMON_PARTS");r[n]='for="group" ';const i=r.join("");return e?e(i):i}_toSVG(e){const r=["<g ","COMMON_PARTS",` >
`],n=this._createSVGBgRect(e);n&&r.push("		",n);for(let i=0;i<this._objects.length;i++)r.push("		",this._objects[i].toSVG(e));return r.push(`</g>
`),r}getSvgStyles(){const e=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",r=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),r].join("")}toClipPathSVG(e){const r=[],n=this._createSVGBgRect(e);n&&r.push("	",n);for(let i=0;i<this._objects.length;i++)r.push("	",this._objects[i].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(r,{reviver:e})}static fromObject(e,r){let{type:n,objects:i=[],layoutManager:o}=e,s=ve(e,a2);return Promise.all([ks(i,r),Bc(s,r)]).then(a=>{let[l,c]=a;const u=new this(l,k(k(k({},s),c),{},{layoutManager:new l2}));if(o){const h=V.getClass(o.type),d=V.getClass(o.strategy);u.layoutManager=new h(new d)}else u.layoutManager=new Ps;return u.layoutManager.subscribeTargets({type:Kr,target:u,targets:u.getObjects()}),u.setCoords(),u})}}w(ii,"type","Group"),w(ii,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),V.setClass(ii);const c2=(t,e)=>Math.min(e.width/t.width,e.height/t.height),u2=(t,e)=>Math.max(e.width/t.width,e.height/t.height),Cd="\\s*,?\\s*",$o="".concat(Cd,"(").concat(gi,")"),h2="".concat($o).concat($o).concat($o).concat(Cd,"([01])").concat(Cd,"([01])").concat($o).concat($o),d2={m:"l",M:"L"},f2=(t,e,r,n,i,o,s,a,l,c,u)=>{const h=nn(t),d=on(t),f=nn(e),m=on(e),v=r*i*f-n*o*m+s,S=n*i*f+r*o*m+a;return["C",c+l*(-r*i*d-n*o*h),u+l*(-n*i*d+r*o*h),v+l*(r*i*m+n*o*f),S+l*(n*i*m-r*o*f),v,S]},Fm=(t,e,r,n)=>{const i=Math.atan2(e,t),o=Math.atan2(n,r);return o>=i?o-i:2*Math.PI-(i-o)};function Im(t,e,r,n,i,o,s,a){let l;if(ie.cachesBoundsOfCurve&&(l=[...arguments].join(),is.boundsOfCurveCache[l]))return is.boundsOfCurveCache[l];const c=Math.sqrt,u=Math.abs,h=[],d=[[0,0],[0,0]];let f=6*t-12*r+6*i,m=-3*t+9*r-9*i+3*s,v=3*r-3*t;for(let x=0;x<2;++x){if(x>0&&(f=6*e-12*n+6*o,m=-3*e+9*n-9*o+3*a,v=3*n-3*e),u(m)<1e-12){if(u(f)<1e-12)continue;const j=-v/f;0<j&&j<1&&h.push(j);continue}const _=f*f-4*v*m;if(_<0)continue;const E=c(_),T=(-f+E)/(2*m);0<T&&T<1&&h.push(T);const O=(-f-E)/(2*m);0<O&&O<1&&h.push(O)}let S=h.length;const p=S,g=H1(t,e,r,n,i,o,s,a);for(;S--;){const{x,y:_}=g(h[S]);d[0][S]=x,d[1][S]=_}d[0][p]=t,d[1][p]=e,d[0][p+1]=s,d[1][p+1]=a;const y=[new M(Math.min(...d[0]),Math.min(...d[1])),new M(Math.max(...d[0]),Math.max(...d[1]))];return ie.cachesBoundsOfCurve&&(is.boundsOfCurveCache[l]=y),y}const g2=(t,e,r)=>{let[n,i,o,s,a,l,c,u]=r;const h=((d,f,m,v,S,p,g)=>{if(m===0||v===0)return[];let y=0,x=0,_=0;const E=Math.PI,T=g*lg,O=on(T),j=nn(T),R=.5*(-j*d-O*f),N=.5*(-j*f+O*d),z=m**2,F=v**2,$=N**2,G=R**2,D=z*F-z*$-F*G;let P=Math.abs(m),b=Math.abs(v);if(D<0){const he=Math.sqrt(1-D/(z*F));P*=he,b*=he}else _=(S===p?-1:1)*Math.sqrt(D/(z*$+F*G));const A=_*P*N/b,L=-_*b*R/P,I=j*A-O*L+.5*d,H=O*A+j*L+.5*f;let ee=Fm(1,0,(R-A)/P,(N-L)/b),Y=Fm((R-A)/P,(N-L)/b,(-R-A)/P,(-N-L)/b);p===0&&Y>0?Y-=2*E:p===1&&Y<0&&(Y+=2*E);const K=Math.ceil(Math.abs(Y/E*2)),Q=[],te=Y/K,Re=8/3*Math.sin(te/4)*Math.sin(te/4)/Math.sin(te/2);let Me=ee+te;for(let he=0;he<K;he++)Q[he]=f2(ee,Me,j,O,P,b,I,H,Re,y,x),y=Q[he][5],x=Q[he][6],ee=Me,Me+=te;return Q})(c-t,u-e,i,o,a,l,s);for(let d=0,f=h.length;d<f;d++)h[d][1]+=t,h[d][2]+=e,h[d][3]+=t,h[d][4]+=e,h[d][5]+=t,h[d][6]+=e;return h},p2=t=>{let e=0,r=0,n=0,i=0;const o=[];let s,a=0,l=0;for(const c of t){const u=[...c];let h;switch(u[0]){case"l":u[1]+=e,u[2]+=r;case"L":e=u[1],r=u[2],h=["L",e,r];break;case"h":u[1]+=e;case"H":e=u[1],h=["L",e,r];break;case"v":u[1]+=r;case"V":r=u[1],h=["L",e,r];break;case"m":u[1]+=e,u[2]+=r;case"M":e=u[1],r=u[2],n=u[1],i=u[2],h=["M",e,r];break;case"c":u[1]+=e,u[2]+=r,u[3]+=e,u[4]+=r,u[5]+=e,u[6]+=r;case"C":a=u[3],l=u[4],e=u[5],r=u[6],h=["C",u[1],u[2],a,l,e,r];break;case"s":u[1]+=e,u[2]+=r,u[3]+=e,u[4]+=r;case"S":s==="C"?(a=2*e-a,l=2*r-l):(a=e,l=r),e=u[3],r=u[4],h=["C",a,l,u[1],u[2],e,r],a=h[3],l=h[4];break;case"q":u[1]+=e,u[2]+=r,u[3]+=e,u[4]+=r;case"Q":a=u[1],l=u[2],e=u[3],r=u[4],h=["Q",a,l,e,r];break;case"t":u[1]+=e,u[2]+=r;case"T":s==="Q"?(a=2*e-a,l=2*r-l):(a=e,l=r),e=u[1],r=u[2],h=["Q",a,l,e,r];break;case"a":u[6]+=e,u[7]+=r;case"A":g2(e,r,u).forEach(d=>o.push(d)),e=u[6],r=u[7];break;case"z":case"Z":e=n,r=i,h=["Z"]}h?(o.push(h),s=h[0]):s=""}return o},ac=(t,e,r,n)=>Math.sqrt((r-t)**2+(n-e)**2),H1=(t,e,r,n,i,o,s,a)=>l=>{const c=l**3,u=(f=>3*f**2*(1-f))(l),h=(f=>3*f*(1-f)**2)(l),d=(f=>(1-f)**3)(l);return new M(s*c+i*u+r*h+t*d,a*c+o*u+n*h+e*d)},W1=t=>t**2,V1=t=>2*t*(1-t),U1=t=>(1-t)**2,m2=(t,e,r,n,i,o,s,a)=>l=>{const c=W1(l),u=V1(l),h=U1(l),d=3*(h*(r-t)+u*(i-r)+c*(s-i)),f=3*(h*(n-e)+u*(o-n)+c*(a-o));return Math.atan2(f,d)},v2=(t,e,r,n,i,o)=>s=>{const a=W1(s),l=V1(s),c=U1(s);return new M(i*a+r*l+t*c,o*a+n*l+e*c)},y2=(t,e,r,n,i,o)=>s=>{const a=1-s,l=2*(a*(r-t)+s*(i-r)),c=2*(a*(n-e)+s*(o-n));return Math.atan2(c,l)},Nm=(t,e,r)=>{let n=new M(e,r),i=0;for(let o=1;o<=100;o+=1){const s=t(o/100);i+=ac(n.x,n.y,s.x,s.y),n=s}return i},S2=(t,e)=>{let r,n=0,i=0,o={x:t.x,y:t.y},s=k({},o),a=.01,l=0;const c=t.iterator,u=t.angleFinder;for(;i<e&&a>1e-4;)s=c(n),l=n,r=ac(o.x,o.y,s.x,s.y),r+i>e?(n-=a,a/=2):(o=s,n+=a,i+=r);return k(k({},s),{},{angle:u(l)})},X1=t=>{let e,r,n=0,i=0,o=0,s=0,a=0;const l=[];for(const c of t){const u={x:i,y:o,command:c[0],length:0};switch(c[0]){case"M":r=u,r.x=s=i=c[1],r.y=a=o=c[2];break;case"L":r=u,r.length=ac(i,o,c[1],c[2]),i=c[1],o=c[2];break;case"C":e=H1(i,o,c[1],c[2],c[3],c[4],c[5],c[6]),r=u,r.iterator=e,r.angleFinder=m2(i,o,c[1],c[2],c[3],c[4],c[5],c[6]),r.length=Nm(e,i,o),i=c[5],o=c[6];break;case"Q":e=v2(i,o,c[1],c[2],c[3],c[4]),r=u,r.iterator=e,r.angleFinder=y2(i,o,c[1],c[2],c[3],c[4]),r.length=Nm(e,i,o),i=c[3],o=c[4];break;case"Z":r=u,r.destX=s,r.destY=a,r.length=ac(i,o,s,a),i=s,o=a}n+=r.length,l.push(r)}return l.push({length:n,x:i,y:o}),l},x2=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:X1(t),n=0;for(;e-r[n].length>0&&n<r.length-2;)e-=r[n].length,n++;const i=r[n],o=e/i.length,s=t[n];switch(i.command){case"M":return{x:i.x,y:i.y,angle:0};case"Z":return k(k({},new M(i.x,i.y).lerp(new M(i.destX,i.destY),o)),{},{angle:Math.atan2(i.destY-i.y,i.destX-i.x)});case"L":return k(k({},new M(i.x,i.y).lerp(new M(s[1],s[2]),o)),{},{angle:Math.atan2(s[2]-i.y,s[1]-i.x)});case"C":case"Q":return S2(i,e)}},C2=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),Bm=new RegExp(h2,"g"),_2=new RegExp(gi,"gi"),w2={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},b2=t=>{var e;const r=[],n=(e=t.match(C2))!==null&&e!==void 0?e:[];for(const i of n){const o=i[0];if(o==="z"||o==="Z"){r.push([o]);continue}const s=w2[o.toLowerCase()];let a=[];if(o==="a"||o==="A"){Bm.lastIndex=0;for(let l=null;l=Bm.exec(i);)a.push(...l.slice(1))}else a=i.match(_2)||[];for(let l=0;l<a.length;l+=s){const c=new Array(s),u=d2[o];c[0]=l>0&&u?u:o;for(let h=0;h<s;h++)c[h+1]=parseFloat(a[l+h]);r.push(c)}}return r},T2=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=new M(t[0]),n=new M(t[1]),i=1,o=0;const s=[],a=t.length,l=a>2;let c;for(l&&(i=t[2].x<n.x?-1:t[2].x===n.x?0:1,o=t[2].y<n.y?-1:t[2].y===n.y?0:1),s.push(["M",r.x-i*e,r.y-o*e]),c=1;c<a;c++){if(!r.eq(n)){const u=r.midPointFrom(n);s.push(["Q",r.x,r.y,u.x,u.y])}r=t[c],c+1<t.length&&(n=t[c+1])}return l&&(i=r.x>t[c-2].x?1:r.x===t[c-2].x?0:-1,o=r.y>t[c-2].y?1:r.y===t[c-2].y?0:-1),s.push(["L",r.x+i*e,r.y+o*e]),s},G1=(t,e)=>t.map(r=>r.map((n,i)=>i===0||e===void 0?n:Ce(n,e)).join(" ")).join(" ");function _d(t,e){const r=t.style;r&&e&&(typeof e=="string"?r.cssText+=";"+e:Object.entries(e).forEach(n=>{let[i,o]=n;return r.setProperty(i,o)}))}class E2 extends _1{constructor(e){let{allowTouchScrolling:r=!1,containerClass:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e),w(this,"upper",void 0),w(this,"container",void 0);const{el:i}=this.lower,o=this.createUpperCanvas();this.upper={el:o,ctx:o.getContext("2d")},this.applyCanvasStyle(i,{allowTouchScrolling:r}),this.applyCanvasStyle(o,{allowTouchScrolling:r,styles:{position:"absolute",left:"0",top:"0"}});const s=this.createContainerElement();s.classList.add(n),i.parentNode&&i.parentNode.replaceChild(s,i),s.append(i,o),this.container=s}createUpperCanvas(){const{el:e}=this.lower,r=Be();return r.className=e.className,r.classList.remove("lower-canvas"),r.classList.add("upper-canvas"),r.setAttribute("data-fabric","top"),r.style.cssText=e.style.cssText,r.setAttribute("draggable","true"),r}createContainerElement(){const e=yo().createElement("div");return e.setAttribute("data-fabric","wrapper"),_d(e,{position:"relative"}),vm(e),e}applyCanvasStyle(e,r){const{styles:n,allowTouchScrolling:i}=r;_d(e,k(k({},n),{},{"touch-action":i?"manipulation":bt})),vm(e)}setDimensions(e,r){super.setDimensions(e,r);const{el:n,ctx:i}=this.upper;C1(n,i,e,r)}setCSSDimensions(e){super.setCSSDimensions(e),fd(this.upper.el,e),fd(this.container,e)}cleanupDOM(e){const r=this.container,{el:n}=this.lower,{el:i}=this.upper;super.cleanupDOM(e),r.removeChild(i),r.removeChild(n),r.parentNode&&r.parentNode.replaceChild(n,r)}dispose(){super.dispose(),Nr().dispose(this.upper.el),delete this.upper,delete this.container}}class Vc extends Ys{constructor(){super(...arguments),w(this,"targets",[]),w(this,"_hoveredTargets",[]),w(this,"_objectsToRender",void 0),w(this,"_currentTransform",null),w(this,"_groupSelector",null),w(this,"contextTopDirty",!1)}static getDefaults(){return k(k({},super.getDefaults()),Vc.ownDefaults)}get upperCanvasEl(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.el}get contextTop(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.ctx}get wrapperEl(){return this.elements.container}initElements(e){this.elements=new E2(e,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(e){this._objectsToRender=void 0,super._onObjectAdded(e)}_onObjectRemoved(e){this._objectsToRender=void 0,e===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[e]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[e]}),e.fire("deselected",{target:e})),e===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(e)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter(r=>!r.group&&r!==e).concat(e):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()}renderTop(){const e=this.contextTop;this.clearContext(e),this.renderTopLayer(e),this.fire("after:render",{ctx:e})}setTargetFindTolerance(e){e=Math.round(e),this.targetFindTolerance=e;const r=this.getRetinaScaling(),n=Math.ceil((2*e+1)*r);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=n,this.pixelFindContext.scale(r,r)}isTargetTransparent(e,r,n){const i=this.targetFindTolerance,o=this.pixelFindContext;this.clearContext(o),o.save(),o.translate(-r+i,-n+i),o.transform(...this.viewportTransform);const s=e.selectionBackgroundColor;e.selectionBackgroundColor="",e.render(o),e.selectionBackgroundColor=s,o.restore();const a=Math.round(i*this.getRetinaScaling());return Db(o,a,a,a)}_isSelectionKeyPressed(e){const r=this.selectionKey;return!!r&&(Array.isArray(r)?!!r.find(n=>!!n&&e[n]===!0):e[r])}_shouldClearSelection(e,r){const n=this.getActiveObjects(),i=this._activeObject;return!!(!r||r&&i&&n.length>1&&n.indexOf(r)===-1&&i!==r&&!this._isSelectionKeyPressed(e)||r&&!r.evented||r&&!r.selectable&&i&&i!==r)}_shouldCenterTransform(e,r,n){if(!e)return;let i;return r===Ic||r===Ot||r===Kt||r===Os?i=this.centeredScaling||e.centeredScaling:r===hg&&(i=this.centeredRotation||e.centeredRotation),i?!n:n}_getOriginFromCorner(e,r){const n={x:e.originX,y:e.originY};return r&&(["ml","tl","bl"].includes(r)?n.x=Te:["mr","tr","br"].includes(r)&&(n.x=le),["tl","mt","tr"].includes(r)?n.y=dd:["bl","mb","br"].includes(r)&&(n.y=wt)),n}_setupCurrentTransform(e,r,n){var i;const o=r.group?Ji(this.getScenePoint(e),void 0,r.group.calcTransformMatrix()):this.getScenePoint(e),{key:s="",control:a}=r.getActiveControl()||{},l=n&&a?(i=a.getActionHandler(e,r,a))===null||i===void 0?void 0:i.bind(a):qw,c=((f,m,v,S)=>{if(!m||!f)return"drag";const p=S.controls[m];return p.getActionName(v,p,S)})(n,s,e,r),u=e[this.centeredKey],h=this._shouldCenterTransform(r,c,u)?{x:re,y:re}:this._getOriginFromCorner(r,s),d={target:r,action:c,actionHandler:l,actionPerformed:!1,corner:s,scaleX:r.scaleX,scaleY:r.scaleY,skewX:r.skewX,skewY:r.skewY,offsetX:o.x-r.left,offsetY:o.y-r.top,originX:h.x,originY:h.y,ex:o.x,ey:o.y,lastX:o.x,lastY:o.y,theta:Oe(r.angle),width:r.width,height:r.height,shiftKey:e.shiftKey,altKey:u,original:k(k({},w1(r)),{},{originX:h.x,originY:h.y})};this._currentTransform=d,this.fire("before:transform",{e,transform:d})}setCursor(e){this.upperCanvasEl.style.cursor=e}_drawSelection(e){const{x:r,y:n,deltaX:i,deltaY:o}=this._groupSelector,s=new M(r,n).transform(this.viewportTransform),a=new M(r+i,n+o).transform(this.viewportTransform),l=this.selectionLineWidth/2;let c=Math.min(s.x,a.x),u=Math.min(s.y,a.y),h=Math.max(s.x,a.x),d=Math.max(s.y,a.y);this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(c,u,h-c,d-u)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,c+=l,u+=l,h-=l,d-=l,nt.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(c,u,h-c,d-u))}findTarget(e){if(this.skipTargetFind)return;const r=this.getViewportPoint(e),n=this._activeObject,i=this.getActiveObjects();if(this.targets=[],n&&i.length>=1){if(n.findControl(r,gd(e))||i.length>1&&this.searchPossibleTargets([n],r))return n;if(n===this.searchPossibleTargets([n],r)){if(this.preserveObjectStacking){const o=this.targets;this.targets=[];const s=this.searchPossibleTargets(this._objects,r);return e[this.altSelectionKey]&&s&&s!==n?(this.targets=o,n):s}return n}}return this.searchPossibleTargets(this._objects,r)}_pointIsInObjectSelectionArea(e,r){let n=e.getCoords();const i=this.getZoom(),o=e.padding/i;if(o){const[s,a,l,c]=n,u=Math.atan2(a.y-s.y,a.x-s.x),h=nn(u)*o,d=on(u)*o,f=h+d,m=h-d;n=[new M(s.x-m,s.y-f),new M(a.x+f,a.y-m),new M(l.x+m,l.y+f),new M(c.x-f,c.y+m)]}return Se.isPointInPolygon(r,n)}_checkTarget(e,r){return!!(e&&e.visible&&e.evented&&this._pointIsInObjectSelectionArea(e,Ji(r,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing||!this.isTargetTransparent(e,r.x,r.y)))}_searchPossibleTargets(e,r){let n=e.length;for(;n--;){const i=e[n];if(this._checkTarget(i,r)){if(fl(i)&&i.subTargetCheck){const o=this._searchPossibleTargets(i._objects,r);o&&this.targets.push(o)}return i}}}searchPossibleTargets(e,r){const n=this._searchPossibleTargets(e,r);if(n&&fl(n)&&n.interactive&&this.targets[0]){const i=this.targets;for(let o=i.length-1;o>0;o--){const s=i[o];if(!fl(s)||!s.interactive)return s}return i[0]}return n}getViewportPoint(e){return this._pointer?this._pointer:this.getPointer(e,!0)}getScenePoint(e){return this._absolutePointer?this._absolutePointer:this.getPointer(e)}getPointer(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const n=this.upperCanvasEl,i=n.getBoundingClientRect();let o=Ww(e),s=i.width||0,a=i.height||0;s&&a||(wt in i&&dd in i&&(a=Math.abs(i.top-i.bottom)),Te in i&&le in i&&(s=Math.abs(i.right-i.left))),this.calcOffset(),o.x=o.x-this._offset.left,o.y=o.y-this._offset.top,r||(o=Ji(o,void 0,this.viewportTransform));const l=this.getRetinaScaling();l!==1&&(o.x/=l,o.y/=l);const c=s===0||a===0?new M(1,1):new M(n.width/s,n.height/a);return o.multiply(c)}_setDimensionsImpl(e,r){this._resetTransformEventData(),super._setDimensionsImpl(e,r),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=Be(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const e=this._activeObject;return Xn(e)?e.getObjects():e?[e]:[]}_fireSelectionEvents(e,r){let n=!1,i=!1;const o=this.getActiveObjects(),s=[],a=[];e.forEach(l=>{o.includes(l)||(n=!0,l.fire("deselected",{e:r,target:l}),a.push(l))}),o.forEach(l=>{e.includes(l)||(n=!0,l.fire("selected",{e:r,target:l}),s.push(l))}),e.length>0&&o.length>0?(i=!0,n&&this.fire("selection:updated",{e:r,selected:s,deselected:a})):o.length>0?(i=!0,this.fire("selection:created",{e:r,selected:s})):e.length>0&&(i=!0,this.fire("selection:cleared",{e:r,deselected:a})),i&&(this._objectsToRender=void 0)}setActiveObject(e,r){const n=this.getActiveObjects(),i=this._setActiveObject(e,r);return this._fireSelectionEvents(n,r),i}_setActiveObject(e,r){const n=this._activeObject;return n!==e&&!(!this._discardActiveObject(r,e)&&this._activeObject)&&!e.onSelect({e:r})&&(this._activeObject=e,Xn(e)&&n!==e&&e.set("canvas",this),e.setCoords(),!0)}_discardActiveObject(e,r){const n=this._activeObject;return!!n&&!n.onDeselect({e,object:r})&&(this._currentTransform&&this._currentTransform.target===n&&this.endCurrentTransform(e),Xn(n)&&n===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(e){const r=this.getActiveObjects(),n=this.getActiveObject();r.length&&this.fire("before:selection:cleared",{e,deselected:[n]});const i=this._discardActiveObject(e);return this._fireSelectionEvents(r,e),i}endCurrentTransform(e){const r=this._currentTransform;this._finalizeCurrentTransform(e),r&&r.target&&(r.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(e){const r=this._currentTransform,n=r.target,i={e,target:n,transform:r,action:r.action};n._scaling&&(n._scaling=!1),n.setCoords(),r.actionPerformed&&(this.fire("object:modified",i),n.fire(Jl,i))}setViewportTransform(e){super.setViewportTransform(e);const r=this._activeObject;r&&r.setCoords()}destroy(){const e=this._activeObject;Xn(e)&&(e.removeAll(),e.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(e){const r=this._activeObject;r&&r._renderControls(e)}_toObject(e,r,n){const i=this._realizeGroupTransformOnObject(e),o=super._toObject(e,r,n);return e.set(i),o}_realizeGroupTransformOnObject(e){const{group:r}=e;if(r&&Xn(r)&&this._activeObject===r){const n=Co(e,["angle","flipX","flipY",le,Ot,Kt,So,xo,wt]);return Uw(e,r.calcOwnMatrix()),n}return{}}_setSVGObject(e,r,n){const i=this._realizeGroupTransformOnObject(r);super._setSVGObject(e,r,n),r.set(i)}}w(Vc,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class O2{constructor(e){w(this,"targets",[]),w(this,"__disposer",void 0);const r=()=>{const{hiddenTextarea:i}=e.getActiveObject()||{};i&&i.focus()},n=e.upperCanvasEl;n.addEventListener("click",r),this.__disposer=()=>n.removeEventListener("click",r)}exitTextEditing(){this.target=void 0,this.targets.forEach(e=>{e.isEditing&&e.exitEditing()})}add(e){this.targets.push(e)}remove(e){this.unregister(e),Oi(this.targets,e)}register(e){this.target=e}unregister(e){e===this.target&&(this.target=void 0)}onMouseMove(e){var r;!((r=this.target)===null||r===void 0)&&r.isEditing&&this.target.updateSelectionOnMouseMove(e)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const k2=["target","oldTarget","fireCanvas","e"],Mt={passive:!1},Ti=(t,e)=>{const r=t.getViewportPoint(e),n=t.getScenePoint(e);return{viewportPoint:r,scenePoint:n,pointer:r,absolutePointer:n}},fn=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.addEventListener(...r)},Bt=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.removeEventListener(...r)},M2={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class wd extends Vc{constructor(e){super(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),w(this,"_isClick",void 0),w(this,"textEditingManager",new O2(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(r=>{this[r]=this[r].bind(this)}),this.addOrRemove(fn,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(e,r){const n=this.upperCanvasEl,i=this._getEventPrefix();e(x1(n),"resize",this._onResize),e(n,i+"down",this._onMouseDown),e(n,"".concat(i,"move"),this._onMouseMove,Mt),e(n,"".concat(i,"out"),this._onMouseOut),e(n,"".concat(i,"enter"),this._onMouseEnter),e(n,"wheel",this._onMouseWheel),e(n,"contextmenu",this._onContextMenu),e(n,"dblclick",this._onDoubleClick),e(n,"dragstart",this._onDragStart),e(n,"dragend",this._onDragEnd),e(n,"dragover",this._onDragOver),e(n,"dragenter",this._onDragEnter),e(n,"dragleave",this._onDragLeave),e(n,"drop",this._onDrop),this.enablePointerEvents||e(n,"touchstart",this._onTouchStart,Mt)}removeListeners(){this.addOrRemove(Bt,"remove");const e=this._getEventPrefix(),r=vr(this.upperCanvasEl);Bt(r,"".concat(e,"up"),this._onMouseUp),Bt(r,"touchend",this._onTouchEnd,Mt),Bt(r,"".concat(e,"move"),this._onMouseMove,Mt),Bt(r,"touchmove",this._onMouseMove,Mt)}_onMouseWheel(e){this.__onMouseWheel(e)}_onMouseOut(e){const r=this._hoveredTarget,n=k({e},Ti(this,e));this.fire("mouse:out",k(k({},n),{},{target:r})),this._hoveredTarget=void 0,r&&r.fire("mouseout",k({},n)),this._hoveredTargets.forEach(i=>{this.fire("mouse:out",k(k({},n),{},{target:i})),i&&i.fire("mouseout",k({},n))}),this._hoveredTargets=[]}_onMouseEnter(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",k({e},Ti(this,e))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(e){this._isClick=!1;const r=this.getActiveObject();if(r&&r.onDragStart(e)){this._dragSource=r;const n={e,target:r};return this.fire("dragstart",n),r.fire("dragstart",n),void fn(this.upperCanvasEl,"drag",this._onDragProgress)}pd(e)}_renderDragEffects(e,r,n){let i=!1;const o=this._dropTarget;o&&o!==r&&o!==n&&(o.clearContextTop(),i=!0),r==null||r.clearContextTop(),n!==r&&(n==null||n.clearContextTop());const s=this.contextTop;s.save(),s.transform(...this.viewportTransform),r&&(s.save(),r.transform(s),r.renderDragSourceEffect(e),s.restore(),i=!0),n&&(s.save(),n.transform(s),n.renderDropTargetEffect(e),s.restore(),i=!0),s.restore(),i&&(this.contextTopDirty=!0)}_onDragEnd(e){const r=!!e.dataTransfer&&e.dataTransfer.dropEffect!==bt,n=r?this._activeObject:void 0,i={e,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:r,dropTarget:n};Bt(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",i),this._dragSource&&this._dragSource.fire("dragend",i),delete this._dragSource,this._onMouseUp(e)}_onDragProgress(e){const r={e,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",r),this._dragSource&&this._dragSource.fire("drag",r)}findDragTargets(e){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(e)),targets:[...this.targets]}}_onDragOver(e){const r="dragover",{target:n,targets:i}=this.findDragTargets(e),o=this._dragSource,s={e,target:n,subTargets:i,dragSource:o,canDrop:!1,dropTarget:void 0};let a;this.fire(r,s),this._fireEnterLeaveEvents(n,s),n&&(n.canDrop(e)&&(a=n),n.fire(r,s));for(let l=0;l<i.length;l++){const c=i[l];c.canDrop(e)&&(a=c),c.fire(r,s)}this._renderDragEffects(e,o,a),this._dropTarget=a}_onDragEnter(e){const{target:r,targets:n}=this.findDragTargets(e),i={e,target:r,subTargets:n,dragSource:this._dragSource};this.fire("dragenter",i),this._fireEnterLeaveEvents(r,i)}_onDragLeave(e){const r={e,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",r),this._fireEnterLeaveEvents(void 0,r),this._renderDragEffects(e,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(e){const{target:r,targets:n}=this.findDragTargets(e),i=this._basicEventHandler("drop:before",k({e,target:r,subTargets:n,dragSource:this._dragSource},Ti(this,e)));i.didDrop=!1,i.dropTarget=void 0,this._basicEventHandler("drop",i),this.fire("drop:after",i)}_onContextMenu(e){const r=this.findTarget(e),n=this.targets||[],i=this._basicEventHandler("contextmenu:before",{e,target:r,subTargets:n});return this.stopContextMenu&&pd(e),this._basicEventHandler("contextmenu",i),!1}_onDoubleClick(e){this._cacheTransformEventData(e),this._handleEvent(e,"dblclick"),this._resetTransformEventData()}getPointerId(e){const r=e.changedTouches;return r?r[0]&&r[0].identifier:this.enablePointerEvents?e.pointerId:-1}_isMainEvent(e){return e.isPrimary===!0||e.isPrimary!==!1&&(e.type==="touchend"&&e.touches.length===0||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(e){e.preventDefault(),this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),this._resetTransformEventData();const r=this.upperCanvasEl,n=this._getEventPrefix(),i=vr(r);fn(i,"touchend",this._onTouchEnd,Mt),fn(i,"touchmove",this._onMouseMove,Mt),Bt(r,"".concat(n,"down"),this._onMouseDown)}_onMouseDown(e){this.__onMouseDown(e),this._resetTransformEventData();const r=this.upperCanvasEl,n=this._getEventPrefix();Bt(r,"".concat(n,"move"),this._onMouseMove,Mt);const i=vr(r);fn(i,"".concat(n,"up"),this._onMouseUp),fn(i,"".concat(n,"move"),this._onMouseMove,Mt)}_onTouchEnd(e){if(e.touches.length>0)return;this.__onMouseUp(e),this._resetTransformEventData(),delete this.mainTouchId;const r=this._getEventPrefix(),n=vr(this.upperCanvasEl);Bt(n,"touchend",this._onTouchEnd,Mt),Bt(n,"touchmove",this._onMouseMove,Mt),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{fn(this.upperCanvasEl,"".concat(r,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(e){this.__onMouseUp(e),this._resetTransformEventData();const r=this.upperCanvasEl,n=this._getEventPrefix();if(this._isMainEvent(e)){const i=vr(this.upperCanvasEl);Bt(i,"".concat(n,"up"),this._onMouseUp),Bt(i,"".concat(n,"move"),this._onMouseMove,Mt),fn(r,"".concat(n,"move"),this._onMouseMove,Mt)}}_onMouseMove(e){const r=this.getActiveObject();!this.allowTouchScrolling&&(!r||!r.shouldStartDragging(e))&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(e){const r=this.getActiveObject();return!!r!=!!e||r&&e&&r!==e}__onMouseUp(e){var r;this._cacheTransformEventData(e),this._handleEvent(e,"up:before");const n=this._currentTransform,i=this._isClick,o=this._target,{button:s}=e;if(s)return(this.fireMiddleClick&&s===1||this.fireRightClick&&s===2)&&this._handleEvent(e,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(e);if(!this._isMainEvent(e))return;let a,l,c=!1;if(n&&(this._finalizeCurrentTransform(e),c=n.actionPerformed),!i){const u=o===this._activeObject;this.handleSelection(e),c||(c=this._shouldRender(o)||!u&&o===this._activeObject)}if(o){const u=o.findControl(this.getViewportPoint(e),gd(e)),{key:h,control:d}=u||{};if(l=h,o.selectable&&o!==this._activeObject&&o.activeOn==="up")this.setActiveObject(o,e),c=!0;else if(d){const f=d.getMouseUpHandler(e,o,d);f&&(a=this.getScenePoint(e),f.call(d,e,n,a.x,a.y))}o.isMoving=!1}if(n&&(n.target!==o||n.corner!==l)){const u=n.target&&n.target.controls[n.corner],h=u&&u.getMouseUpHandler(e,n.target,u);a=a||this.getScenePoint(e),h&&h.call(u,e,n,a.x,a.y)}this._setCursorFromEvent(e,o),this._handleEvent(e,"up"),this._groupSelector=null,this._currentTransform=null,o&&(o.__corner=void 0),c?this.requestRenderAll():i||(r=this._activeObject)!==null&&r!==void 0&&r.isEditing||this.renderTop()}_basicEventHandler(e,r){const{target:n,subTargets:i=[]}=r;this.fire(e,r),n&&n.fire(e,r);for(let o=0;o<i.length;o++)i[o]!==n&&i[o].fire(e,r);return r}_handleEvent(e,r){const n=this._target,i=this.targets||[],o=k(k({e,target:n,subTargets:i},Ti(this,e)),{},{transform:this._currentTransform},r==="up:before"||r==="up"?{isClick:this._isClick,currentTarget:this.findTarget(e),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(r),o),n&&n.fire("mouse".concat(r),o);for(let s=0;s<i.length;s++)i[s]!==n&&i[s].fire("mouse".concat(r),o)}_onMouseDownInDrawingMode(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(e),this.requestRenderAll());const r=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(r,{e,pointer:r}),this._handleEvent(e,"down")}_onMouseMoveInDrawingMode(e){if(this._isCurrentlyDrawing){const r=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(r,{e,pointer:r})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")}_onMouseUpInDrawingMode(e){const r=this.getScenePoint(e);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e,pointer:r}):this._isCurrentlyDrawing=!1,this._handleEvent(e,"up")}__onMouseDown(e){this._isClick=!0,this._cacheTransformEventData(e),this._handleEvent(e,"down:before");let r=this._target;const{button:n}=e;if(n)return(this.fireMiddleClick&&n===1||this.fireRightClick&&n===2)&&this._handleEvent(e,"down"),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(e);if(!this._isMainEvent(e)||this._currentTransform)return;let i=this._shouldRender(r),o=!1;if(this.handleMultiSelection(e,r)?(r=this._activeObject,o=!0,i=!0):this._shouldClearSelection(e,r)&&this.discardActiveObject(e),this.selection&&(!r||!r.selectable&&!r.isEditing&&r!==this._activeObject)){const s=this.getScenePoint(e);this._groupSelector={x:s.x,y:s.y,deltaY:0,deltaX:0}}if(r){const s=r===this._activeObject;r.selectable&&r.activeOn==="down"&&this.setActiveObject(r,e);const a=r.findControl(this.getViewportPoint(e),gd(e));if(r===this._activeObject&&(a||!o)){this._setupCurrentTransform(e,r,s);const l=a?a.control:void 0,c=this.getScenePoint(e),u=l&&l.getMouseDownHandler(e,r,l);u&&u.call(l,e,this._currentTransform,c.x,c.y)}}i&&(this._objectsToRender=void 0),this._handleEvent(e,"down"),i&&this.requestRenderAll()}_resetTransformEventData(){this._target=void 0,this._pointer=void 0,this._absolutePointer=void 0}_cacheTransformEventData(e){this._resetTransformEventData(),this._pointer=this.getViewportPoint(e),this._absolutePointer=Ji(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)}__onMouseMove(e){if(this._isClick=!1,this._cacheTransformEventData(e),this._handleEvent(e,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(e);if(!this._isMainEvent(e))return;const r=this._groupSelector;if(r){const n=this.getScenePoint(e);r.deltaX=n.x-r.x,r.deltaY=n.y-r.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{const n=this.findTarget(e);this._setCursorFromEvent(e,n),this._fireOverOutEvents(e,n)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move"),this._resetTransformEventData()}_fireOverOutEvents(e,r){const n=this._hoveredTarget,i=this._hoveredTargets,o=this.targets,s=Math.max(i.length,o.length);this.fireSyntheticInOutEvents("mouse",{e,target:r,oldTarget:n,fireCanvas:!0});for(let a=0;a<s;a++)this.fireSyntheticInOutEvents("mouse",{e,target:o[a],oldTarget:i[a]});this._hoveredTarget=r,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(e,r){const n=this._draggedoverTarget,i=this._hoveredTargets,o=this.targets,s=Math.max(i.length,o.length);this.fireSyntheticInOutEvents("drag",k(k({},r),{},{target:e,oldTarget:n,fireCanvas:!0}));for(let a=0;a<s;a++)this.fireSyntheticInOutEvents("drag",k(k({},r),{},{target:o[a],oldTarget:i[a]}));this._draggedoverTarget=e}fireSyntheticInOutEvents(e,r){let{target:n,oldTarget:i,fireCanvas:o,e:s}=r,a=ve(r,k2);const{targetIn:l,targetOut:c,canvasIn:u,canvasOut:h}=M2[e],d=i!==n;if(i&&d){const f=k(k({},a),{},{e:s,target:i,nextTarget:n},Ti(this,s));o&&this.fire(h,f),i.fire(c,f)}if(n&&d){const f=k(k({},a),{},{e:s,target:n,previousTarget:i},Ti(this,s));o&&this.fire(u,f),n.fire(l,f)}}__onMouseWheel(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()}_transformObject(e){const r=this.getScenePoint(e),n=this._currentTransform,i=n.target,o=i.group?Ji(r,void 0,i.group.calcTransformMatrix()):r;n.shiftKey=e.shiftKey,n.altKey=!!this.centeredKey&&e[this.centeredKey],this._performTransformAction(e,n,o),n.actionPerformed&&this.requestRenderAll()}_performTransformAction(e,r,n){const{action:i,actionHandler:o,target:s}=r,a=!!o&&o(e,r,n.x,n.y);a&&s.setCoords(),i==="drag"&&a&&(r.target.isMoving=!0,this.setCursor(r.target.moveCursor||this.moveCursor)),r.actionPerformed=r.actionPerformed||a}_setCursorFromEvent(e,r){if(!r)return void this.setCursor(this.defaultCursor);let n=r.hoverCursor||this.hoverCursor;const i=Xn(this._activeObject)?this._activeObject:null,o=(!i||r.group!==i)&&r.findControl(this.getViewportPoint(e));if(o){const s=o.control;this.setCursor(s.cursorStyleHandler(e,s,r))}else r.subTargetCheck&&this.targets.concat().reverse().map(s=>{n=s.hoverCursor||n}),this.setCursor(n)}handleMultiSelection(e,r){const n=this._activeObject,i=Xn(n);if(n&&this._isSelectionKeyPressed(e)&&this.selection&&r&&r.selectable&&(n!==r||i)&&(i||!r.isDescendantOf(n)&&!n.isDescendantOf(r))&&!r.onSelect({e})&&!n.getActiveControl()){if(i){const o=n.getObjects();if(r===n){const s=this.getViewportPoint(e);if(!(r=this.searchPossibleTargets(o,s)||this.searchPossibleTargets(this._objects,s))||!r.selectable)return!1}r.group===n?(n.remove(r),this._hoveredTarget=r,this._hoveredTargets=[...this.targets],n.size()===1&&this._setActiveObject(n.item(0),e)):(n.multiSelectAdd(r),this._hoveredTarget=n,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(o,e)}else{n.exitEditing&&n.exitEditing();const o=new(V.getClass("ActiveSelection"))([],{canvas:this});o.multiSelectAdd(n,r),this._hoveredTarget=o,this._setActiveObject(o,e),this._fireSelectionEvents([n],e)}return!0}return!1}handleSelection(e){if(!this.selection||!this._groupSelector)return!1;const{x:r,y:n,deltaX:i,deltaY:o}=this._groupSelector,s=new M(r,n),a=s.add(new M(i,o)),l=s.min(a),c=s.max(a).subtract(l),u=this.collectObjects({left:l.x,top:l.y,width:c.x,height:c.y},{includeIntersecting:!this.selectionFullyContained}),h=s.eq(a)?u[0]?[u[0]]:[]:u.length>1?u.filter(d=>!d.onSelect({e})).reverse():u;if(h.length===1)this.setActiveObject(h[0],e);else if(h.length>1){const d=V.getClass("ActiveSelection");this.setActiveObject(new d(h,{canvas:this}),e)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const Y1={x1:0,y1:0,x2:0,y2:0},P2=k(k({},Y1),{},{r1:0,r2:0}),Hi=(t,e)=>isNaN(t)&&typeof e=="number"?e:t,D2=/^(\d+\.\d+)%|(\d+)%$/;function K1(t){return t&&D2.test(t)}function q1(t,e){const r=typeof t=="number"?t:typeof t=="string"?parseFloat(t)/(K1(t)?100:1):NaN;return lo(0,Hi(r,e),1)}const A2=/\s*;\s*/,j2=/\s*:\s*/;function L2(t,e){let r,n;const i=t.getAttribute("style");if(i){const s=i.split(A2);s[s.length-1]===""&&s.pop();for(let a=s.length;a--;){const[l,c]=s[a].split(j2).map(u=>u.trim());l==="stop-color"?r=c:l==="stop-opacity"&&(n=c)}}const o=new ae(r||t.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:q1(t.getAttribute("offset"),0),color:o.toRgb(),opacity:Hi(parseFloat(n||t.getAttribute("stop-opacity")||""),1)*o.getAlpha()*e}}function R2(t,e){const r=[],n=t.getElementsByTagName("stop"),i=q1(e,1);for(let o=n.length;o--;)r.push(L2(n[o],i));return r}function Q1(t){return t.nodeName==="linearGradient"||t.nodeName==="LINEARGRADIENT"?"linear":"radial"}function Z1(t){return t.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function lr(t,e){return t.getAttribute(e)}function F2(t,e){return function(r,n){let i,{width:o,height:s,gradientUnits:a}=n;return Object.keys(r).reduce((l,c)=>{const u=r[c];return u==="Infinity"?i=1:u==="-Infinity"?i=0:(i=typeof u=="string"?parseFloat(u):u,typeof u=="string"&&K1(u)&&(i*=.01,a==="pixels"&&(c!=="x1"&&c!=="x2"&&c!=="r2"||(i*=o),c!=="y1"&&c!=="y2"||(i*=s)))),l[c]=i,l},{})}(Q1(t)==="linear"?function(r){return{x1:lr(r,"x1")||0,y1:lr(r,"y1")||0,x2:lr(r,"x2")||"100%",y2:lr(r,"y2")||0}}(t):function(r){return{x1:lr(r,"fx")||lr(r,"cx")||"50%",y1:lr(r,"fy")||lr(r,"cy")||"50%",r1:0,x2:lr(r,"cx")||"50%",y2:lr(r,"cy")||"50%",r2:lr(r,"r")||"50%"}}(t),k(k({},e),{},{gradientUnits:Z1(t)}))}class _a{constructor(e){const{type:r="linear",gradientUnits:n="pixels",coords:i={},colorStops:o=[],offsetX:s=0,offsetY:a=0,gradientTransform:l,id:c}=e||{};Object.assign(this,{type:r,gradientUnits:n,coords:k(k({},r==="radial"?P2:Y1),i),colorStops:o,offsetX:s,offsetY:a,gradientTransform:l,id:c?"".concat(c,"_").concat(In()):In()})}addColorStop(e){for(const r in e){const n=new ae(e[r]);this.colorStops.push({offset:parseFloat(r),color:n.toRgb(),opacity:n.getAlpha()})}return this}toObject(e){return k(k({},Co(this,e)),{},{type:this.type,coords:k({},this.coords),colorStops:this.colorStops.map(r=>k({},r)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(e){let{additionalTransform:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=[],i=this.gradientTransform?this.gradientTransform.concat():ht.concat(),o=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",s=this.colorStops.map(h=>k({},h)).sort((h,d)=>h.offset-d.offset);let a=-this.offsetX,l=-this.offsetY;var c;o==="objectBoundingBox"?(a/=e.width,l/=e.height):(a+=e.width/2,l+=e.height/2),(c=e)&&typeof c._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(a-=e.pathOffset.x,l-=e.pathOffset.y),i[4]-=a,i[5]-=l;const u=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(o,'"'),'gradientTransform="'.concat(r?r+" ":"").concat(rc(i),'"'),""].join(" ");if(this.type==="linear"){const{x1:h,y1:d,x2:f,y2:m}=this.coords;n.push("<linearGradient ",u,' x1="',h,'" y1="',d,'" x2="',f,'" y2="',m,`">
`)}else if(this.type==="radial"){const{x1:h,y1:d,x2:f,y2:m,r1:v,r2:S}=this.coords,p=v>S;n.push("<radialGradient ",u,' cx="',p?h:f,'" cy="',p?d:m,'" r="',p?v:S,'" fx="',p?f:h,'" fy="',p?m:d,`">
`),p&&(s.reverse(),s.forEach(y=>{y.offset=1-y.offset}));const g=Math.min(v,S);if(g>0){const y=g/Math.max(v,S);s.forEach(x=>{x.offset+=y*(1-x.offset)})}}return s.forEach(h=>{let{color:d,offset:f,opacity:m}=h;n.push("<stop ",'offset="',100*f+"%",'" style="stop-color:',d,m!==void 0?";stop-opacity: "+m:";",`"/>
`)}),n.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),n.join("")}toLive(e){const{x1:r,y1:n,x2:i,y2:o,r1:s,r2:a}=this.coords,l=this.type==="linear"?e.createLinearGradient(r,n,i,o):e.createRadialGradient(r,n,s,i,o,a);return this.colorStops.forEach(c=>{let{color:u,opacity:h,offset:d}=c;l.addColorStop(d,h!==void 0?new ae(u).setAlpha(h).toRgba():u)}),l}static async fromObject(e){const{colorStops:r,gradientTransform:n}=e;return new this(k(k({},e),{},{colorStops:r?r.map(i=>k({},i)):void 0,gradientTransform:n?[...n]:void 0}))}static fromElement(e,r,n){const i=Z1(e),o=r._findCenterFromElement();return new this(k({id:e.getAttribute("id")||void 0,type:Q1(e),coords:F2(e,{width:n.viewBoxWidth||n.width,height:n.viewBoxHeight||n.height}),colorStops:R2(e,n.opacity),gradientUnits:i,gradientTransform:Sd(e.getAttribute("gradientTransform")||"")},i==="pixels"?{offsetX:r.width/2-o.x,offsetY:r.height/2-o.y}:{offsetX:0,offsetY:0}))}}w(_a,"type","Gradient"),V.setClass(_a,"gradient"),V.setClass(_a,"linear"),V.setClass(_a,"radial");const I2=["type","source","patternTransform"];class Xu{get type(){return"pattern"}set type(e){Fn("warn","Setting type has no effect",e)}constructor(e){w(this,"repeat","repeat"),w(this,"offsetX",0),w(this,"offsetY",0),w(this,"crossOrigin",""),this.id=In(),Object.assign(this,e)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(e){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?e.createPattern(this.source,this.repeat):null}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:r,crossOrigin:n}=this;return k(k({},Co(this,e)),{},{type:"pattern",source:this.sourceToString(),repeat:r,crossOrigin:n,offsetX:Ce(this.offsetX,ie.NUM_FRACTION_DIGITS),offsetY:Ce(this.offsetY,ie.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(e){let{width:r,height:n}=e;const{source:i,repeat:o,id:s}=this,a=Hi(this.offsetX/r,0),l=Hi(this.offsetY/n,0),c=o==="repeat-y"||o==="no-repeat"?1+Math.abs(a||0):Hi(i.width/r,0),u=o==="repeat-x"||o==="no-repeat"?1+Math.abs(l||0):Hi(i.height/n,0);return['<pattern id="SVGID_'.concat(s,'" x="').concat(a,'" y="').concat(l,'" width="').concat(c,'" height="').concat(u,'">'),'<image x="0" y="0" width="'.concat(i.width,'" height="').concat(i.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(e,r){let{type:n,source:i,patternTransform:o}=e,s=ve(e,I2);const a=await pl(i,k(k({},r),{},{crossOrigin:s.crossOrigin}));return new this(k(k({},s),{},{patternTransform:o&&o.slice(0),source:a}))}}w(Xu,"type","Pattern"),V.setClass(Xu),V.setClass(Xu,"pattern");class N2{constructor(e){w(this,"color","rgb(0, 0, 0)"),w(this,"width",1),w(this,"shadow",null),w(this,"strokeLineCap","round"),w(this,"strokeLineJoin","round"),w(this,"strokeMiterLimit",10),w(this,"strokeDashArray",null),w(this,"limitedToCanvasSize",!1),this.canvas=e}_setBrushStyles(e){e.strokeStyle=this.color,e.lineWidth=this.width,e.lineCap=this.strokeLineCap,e.miterLimit=this.strokeMiterLimit,e.lineJoin=this.strokeLineJoin,e.setLineDash(this.strokeDashArray||[])}_saveAndTransform(e){const r=this.canvas.viewportTransform;e.save(),e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}needsFullRender(){return new ae(this.color).getAlpha()<1||!!this.shadow}_setShadow(){if(!this.shadow||!this.canvas)return;const e=this.canvas,r=this.shadow,n=e.contextTop,i=e.getZoom()*e.getRetinaScaling();n.shadowColor=r.color,n.shadowBlur=r.blur*i,n.shadowOffsetX=r.offsetX*i,n.shadowOffsetY=r.offsetY*i}_resetShadow(){const e=this.canvas.contextTop;e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0}_isOutSideCanvas(e){return e.x<0||e.x>this.canvas.getWidth()||e.y<0||e.y>this.canvas.getHeight()}}const B2=["path","left","top"],z2=["d"];class Sn extends nt{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:n,left:i,top:o}=r,s=ve(r,B2);super(),Object.assign(this,Sn.ownDefaults),this.setOptions(s),this._setPath(e||[],!0),typeof i=="number"&&this.set(le,i),typeof o=="number"&&this.set(wt,o)}_setPath(e,r){this.path=p2(Array.isArray(e)?e:b2(e)),this.setBoundingBox(r)}_findCenterFromElement(){const e=this._calcBoundsFromPath();return new M(e.left+e.width/2,e.top+e.height/2)}_renderPathCommands(e){const r=-this.pathOffset.x,n=-this.pathOffset.y;e.beginPath();for(const i of this.path)switch(i[0]){case"L":e.lineTo(i[1]+r,i[2]+n);break;case"M":e.moveTo(i[1]+r,i[2]+n);break;case"C":e.bezierCurveTo(i[1]+r,i[2]+n,i[3]+r,i[4]+n,i[5]+r,i[6]+n);break;case"Q":e.quadraticCurveTo(i[1]+r,i[2]+n,i[3]+r,i[4]+n);break;case"Z":e.closePath()}}_render(e){this._renderPathCommands(e),this._renderPaintInOrder(e)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return k(k({},super.toObject(e)),{},{path:this.path.map(r=>r.slice())})}toDatalessObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=this.toObject(e);return this.sourcePath&&(delete r.path,r.sourcePath=this.sourcePath),r}_toSVG(){const e=G1(this.path,ie.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(e,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const e=ie.NUM_FRACTION_DIGITS;return" translate(".concat(Ce(-this.pathOffset.x,e),", ").concat(Ce(-this.pathOffset.y,e),")")}toClipPathSVG(e){const r=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:r})}toSVG(e){const r=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:r})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{width:r,height:n,pathOffset:i}=this._calcDimensions();this.set({width:r,height:n,pathOffset:i}),e&&this.setPositionByOrigin(i,re,re)}_calcBoundsFromPath(){const e=[];let r=0,n=0,i=0,o=0;for(const s of this.path)switch(s[0]){case"L":i=s[1],o=s[2],e.push({x:r,y:n},{x:i,y:o});break;case"M":i=s[1],o=s[2],r=i,n=o;break;case"C":e.push(...Im(i,o,s[1],s[2],s[3],s[4],s[5],s[6])),i=s[5],o=s[6];break;case"Q":e.push(...Im(i,o,s[1],s[2],s[1],s[2],s[3],s[4])),i=s[3],o=s[4];break;case"Z":i=r,o=n}return Zr(e)}_calcDimensions(){const e=this._calcBoundsFromPath();return k(k({},e),{},{pathOffset:new M(e.left+e.width/2,e.top+e.height/2)})}static fromObject(e){return this._fromObject(e,{extraParam:"path"})}static async fromElement(e,r,n){const i=cn(e,this.ATTRIBUTE_NAMES,n),{d:o}=i;return new this(o,k(k(k({},ve(i,z2)),r),{},{left:void 0,top:void 0}))}}w(Sn,"type","Path"),w(Sn,"cacheProperties",[...ln,"path","fillRule"]),w(Sn,"ATTRIBUTE_NAMES",[...Wn,"d"]),V.setClass(Sn),V.setSVGClass(Sn);class lc extends N2{constructor(e){super(e),w(this,"decimate",.4),w(this,"drawStraightLine",!1),w(this,"straightLineKey","shiftKey"),this._points=[],this._hasStraightLine=!1}needsFullRender(){return super.needsFullRender()||this._hasStraightLine}static drawSegment(e,r,n){const i=r.midPointFrom(n);return e.quadraticCurveTo(r.x,r.y,i.x,i.y),i}onMouseDown(e,r){let{e:n}=r;this.canvas._isMainEvent(n)&&(this.drawStraightLine=!!this.straightLineKey&&n[this.straightLineKey],this._prepareForDrawing(e),this._addPoint(e),this._render())}onMouseMove(e,r){let{e:n}=r;if(this.canvas._isMainEvent(n)&&(this.drawStraightLine=!!this.straightLineKey&&n[this.straightLineKey],(this.limitedToCanvasSize!==!0||!this._isOutSideCanvas(e))&&this._addPoint(e)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{const i=this._points,o=i.length,s=this.canvas.contextTop;this._saveAndTransform(s),this.oldEnd&&(s.beginPath(),s.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=lc.drawSegment(s,i[o-2],i[o-1]),s.stroke(),s.restore()}}onMouseUp(e){let{e:r}=e;return!this.canvas._isMainEvent(r)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)}_prepareForDrawing(e){this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)}_addPoint(e){return!(this._points.length>1&&e.eq(this._points[this._points.length-1]))&&(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(e),!0)}_reset(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1}_render(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.canvas.contextTop,r=this._points[0],n=this._points[1];if(this._saveAndTransform(e),e.beginPath(),this._points.length===2&&r.x===n.x&&r.y===n.y){const i=this.width/1e3;r.x-=i,n.x+=i}e.moveTo(r.x,r.y);for(let i=1;i<this._points.length;i++)lc.drawSegment(e,r,n),r=this._points[i],n=this._points[i+1];e.lineTo(r.x,r.y),e.stroke(),e.restore()}convertPointsToSVGPath(e){const r=this.width/1e3;return T2(e,r)}createPath(e){const r=new Sn(e,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,r.shadow=new Ir(this.shadow)),r}decimatePoints(e,r){if(e.length<=2)return e;let n,i=e[0];const o=this.canvas.getZoom(),s=Math.pow(r/o,2),a=e.length-1,l=[i];for(let c=1;c<a-1;c++)n=Math.pow(i.x-e[c].x,2)+Math.pow(i.y-e[c].y,2),n>=s&&(i=e[c],l.push(i));return l.push(e[a]),l}_finalizeAndAddPath(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));const e=this.convertPointsToSVGPath(this._points);if(function(n){return G1(n)==="M 0 0 Q 0 0 0 0 L 0 0"}(e))return void this.canvas.requestRenderAll();const r=this.createPath(e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:r}),this.canvas.add(r),this.canvas.requestRenderAll(),r.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:r})}}const $2=["left","top","radius"],J1=["radius","startAngle","endAngle","counterClockwise"];class Ur extends nt{static getDefaults(){return k(k({},super.getDefaults()),Ur.ownDefaults)}constructor(e){super(),Object.assign(this,Ur.ownDefaults),this.setOptions(e)}_set(e,r){return super._set(e,r),e==="radius"&&this.setRadius(r),this}_render(e){e.beginPath(),e.arc(0,0,this.radius,Oe(this.startAngle),Oe(this.endAngle),this.counterClockwise),this._renderPaintInOrder(e)}getRadiusX(){return this.get("radius")*this.get(Ot)}getRadiusY(){return this.get("radius")*this.get(Kt)}setRadius(e){this.radius=e,this.set({width:2*e,height:2*e})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...J1,...e])}_toSVG(){const e=(this.endAngle-this.startAngle)%360;if(e===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:r}=this,n=Oe(this.startAngle),i=Oe(this.endAngle),o=nn(n)*r,s=on(n)*r,a=nn(i)*r,l=on(i)*r,c=e>180?1:0,u=this.counterClockwise?0:1;return['<path d="M '.concat(o," ").concat(s," A ").concat(r," ").concat(r," 0 ").concat(c," ").concat(u," ").concat(a," ").concat(l,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(e,r,n){const i=cn(e,this.ATTRIBUTE_NAMES,n),{left:o=0,top:s=0,radius:a=0}=i;return new this(k(k({},ve(i,$2)),{},{radius:a,left:o-a,top:s-a}))}static fromObject(e){return super._fromObject(e)}}w(Ur,"type","Circle"),w(Ur,"cacheProperties",[...ln,...J1]),w(Ur,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),w(Ur,"ATTRIBUTE_NAMES",["cx","cy","r",...Wn]),V.setClass(Ur),V.setSVGClass(Ur);const H2=["x1","y1","x2","y2"],W2=["x1","y1","x2","y2"],bd=["x1","x2","y1","y2"];class Gn extends nt{constructor(){let[e,r,n,i]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Gn.ownDefaults),this.setOptions(o),this.x1=e,this.x2=n,this.y1=r,this.y2=i,this._setWidthHeight();const{left:s,top:a}=o;typeof s=="number"&&this.set(le,s),typeof a=="number"&&this.set(wt,a)}_setWidthHeight(){const{x1:e,y1:r,x2:n,y2:i}=this;this.width=Math.abs(n-e),this.height=Math.abs(i-r);const{left:o,top:s,width:a,height:l}=Zr([{x:e,y:r},{x:n,y:i}]),c=new M(o+a/2,s+l/2);this.setPositionByOrigin(c,re,re)}_set(e,r){return super._set(e,r),bd.includes(e)&&this._setWidthHeight(),this}_render(e){e.beginPath();const r=this.calcLinePoints();e.moveTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineWidth=this.strokeWidth;const n=e.strokeStyle;var i;Vt(this.stroke)?e.strokeStyle=this.stroke.toLive(e):e.strokeStyle=(i=this.stroke)!==null&&i!==void 0?i:e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n}_findCenterFromElement(){return new M((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return k(k({},super.toObject(e)),this.calcLinePoints())}_getNonTransformedDimensions(){const e=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(e.y-=this.strokeWidth),this.height===0&&(e.x-=this.strokeWidth)),e}calcLinePoints(){const{x1:e,x2:r,y1:n,y2:i,width:o,height:s}=this,a=e<=r?-1:1,l=n<=i?-1:1;return{x1:a*o/2,x2:a*-o/2,y1:l*s/2,y2:l*-s/2}}_toSVG(){const{x1:e,x2:r,y1:n,y2:i}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(e,'" y1="').concat(n,'" x2="').concat(r,'" y2="').concat(i,`" />
`)]}static async fromElement(e,r,n){const i=cn(e,this.ATTRIBUTE_NAMES,n),{x1:o=0,y1:s=0,x2:a=0,y2:l=0}=i;return new this([o,s,a,l],ve(i,H2))}static fromObject(e){let{x1:r,y1:n,x2:i,y2:o}=e,s=ve(e,W2);return this._fromObject(k(k({},s),{},{points:[r,n,i,o]}),{extraParam:"points"})}}w(Gn,"type","Line"),w(Gn,"cacheProperties",[...ln,...bd]),w(Gn,"ATTRIBUTE_NAMES",Wn.concat(bd)),V.setClass(Gn),V.setSVGClass(Gn);class Zn extends nt{static getDefaults(){return k(k({},super.getDefaults()),Zn.ownDefaults)}constructor(e){super(),Object.assign(this,Zn.ownDefaults),this.setOptions(e)}_render(e){const r=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-r,n),e.lineTo(0,-n),e.lineTo(r,n),e.closePath(),this._renderPaintInOrder(e)}_toSVG(){const e=this.width/2,r=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-e," ").concat(r,",0 ").concat(-r,",").concat(e," ").concat(r),'" />']}}w(Zn,"type","Triangle"),w(Zn,"ownDefaults",{width:100,height:100}),V.setClass(Zn),V.setSVGClass(Zn);const eS=["rx","ry"];class Xr extends nt{static getDefaults(){return k(k({},super.getDefaults()),Xr.ownDefaults)}constructor(e){super(),Object.assign(this,Xr.ownDefaults),this.setOptions(e)}_set(e,r){switch(super._set(e,r),e){case"rx":this.rx=r,this.set("width",2*r);break;case"ry":this.ry=r,this.set("height",2*r)}return this}getRx(){return this.get("rx")*this.get(Ot)}getRy(){return this.get("ry")*this.get(Kt)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...eS,...e])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,Ql,!1),e.restore(),this._renderPaintInOrder(e)}static async fromElement(e,r,n){const i=cn(e,this.ATTRIBUTE_NAMES,n);return i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,new this(i)}}function V2(t){if(!t)return[];const e=t.replace(/,/g," ").trim().split(/\s+/),r=[];for(let n=0;n<e.length;n+=2)r.push({x:parseFloat(e[n]),y:parseFloat(e[n+1])});return r}w(Xr,"type","Ellipse"),w(Xr,"cacheProperties",[...ln,...eS]),w(Xr,"ownDefaults",{rx:0,ry:0}),w(Xr,"ATTRIBUTE_NAMES",[...Wn,"cx","cy","rx","ry"]),V.setClass(Xr),V.setSVGClass(Xr);const U2=["left","top"],tS={exactBoundingBox:!1};class fr extends nt{static getDefaults(){return k(k({},super.getDefaults()),fr.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),w(this,"strokeDiff",void 0),Object.assign(this,fr.ownDefaults),this.setOptions(r),this.points=e;const{left:n,top:i}=r;this.initialized=!0,this.setBoundingBox(!0),typeof n=="number"&&this.set(le,n),typeof i=="number"&&this.set(wt,i)}isOpen(){return!0}_projectStrokeOnPoints(e){return jb(this.points,e,this.isOpen())}_calcDimensions(e){e=k({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},e||{});const r=this.exactBoundingBox?this._projectStrokeOnPoints(e).map(c=>c.projectedPoint):this.points;if(r.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new M,strokeOffset:new M,strokeDiff:new M};const n=Zr(r),i=Nc(k(k({},e),{},{scaleX:1,scaleY:1})),o=Zr(this.points.map(c=>vt(c,i,!0))),s=new M(this.scaleX,this.scaleY);let a=n.left+n.width/2,l=n.top+n.height/2;return this.exactBoundingBox&&(a-=l*Math.tan(Oe(this.skewX)),l-=a*Math.tan(Oe(this.skewY))),k(k({},n),{},{pathOffset:new M(a,l),strokeOffset:new M(o.left,o.top).subtract(new M(n.left,n.top)).multiply(s),strokeDiff:new M(n.width,n.height).subtract(new M(o.width,o.height)).multiply(s)})}_findCenterFromElement(){const e=Zr(this.points);return new M(e.left+e.width/2,e.top+e.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{left:r,top:n,width:i,height:o,pathOffset:s,strokeOffset:a,strokeDiff:l}=this._calcDimensions();this.set({width:i,height:o,pathOffset:s,strokeOffset:a,strokeDiff:l}),e&&this.setPositionByOrigin(new M(r+i/2,n+o/2),re,re)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new M(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let s;if(Object.keys(e).some(a=>this.strokeUniform||this.constructor.layoutProperties.includes(a))){var r,n;const{width:a,height:l}=this._calcDimensions(e);s=new M((r=e.width)!==null&&r!==void 0?r:a,(n=e.height)!==null&&n!==void 0?n:l)}else{var i,o;s=new M((i=e.width)!==null&&i!==void 0?i:this.width,(o=e.height)!==null&&o!==void 0?o:this.height)}return s.multiply(new M(e.scaleX||this.scaleX,e.scaleY||this.scaleY))}return super._getTransformedDimensions(e)}_set(e,r){const n=this.initialized&&this[e]!==r,i=super._set(e,r);return this.exactBoundingBox&&n&&((e===Ot||e===Kt)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(e))&&this.setDimensions(),i}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return k(k({},super.toObject(e)),{},{points:this.points.map(r=>{let{x:n,y:i}=r;return{x:n,y:i}})})}_toSVG(){const e=[],r=this.pathOffset.x,n=this.pathOffset.y,i=ie.NUM_FRACTION_DIGITS;for(let o=0,s=this.points.length;o<s;o++)e.push(Ce(this.points[o].x-r,i),",",Ce(this.points[o].y-n,i)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(e.join(""),`" />
`)]}_render(e){const r=this.points.length,n=this.pathOffset.x,i=this.pathOffset.y;if(r&&!isNaN(this.points[r-1].y)){e.beginPath(),e.moveTo(this.points[0].x-n,this.points[0].y-i);for(let o=0;o<r;o++){const s=this.points[o];e.lineTo(s.x-n,s.y-i)}!this.isOpen()&&e.closePath(),this._renderPaintInOrder(e)}}complexity(){return this.points.length}static async fromElement(e,r,n){return new this(V2(e.getAttribute("points")),k(k({},ve(cn(e,this.ATTRIBUTE_NAMES,n),U2)),r))}static fromObject(e){return this._fromObject(e,{extraParam:"points"})}}w(fr,"ownDefaults",tS),w(fr,"type","Polyline"),w(fr,"layoutProperties",[So,xo,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),w(fr,"cacheProperties",[...ln,"points"]),w(fr,"ATTRIBUTE_NAMES",[...Wn]),V.setClass(fr),V.setSVGClass(fr);class wa extends fr{isOpen(){return!1}}w(wa,"ownDefaults",tS),w(wa,"type","Polygon"),V.setClass(wa),V.setSVGClass(wa);const rS=["fontSize","fontWeight","fontFamily","fontStyle"],nS=["underline","overline","linethrough"],iS=[...rS,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],oS=[...iS,...nS,"textBackgroundColor","direction"],X2=[...rS,...nS,Tt,"strokeWidth",je,"deltaY","textBackgroundColor"],G2={_reNewline:ug,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:le,fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:le,pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},jr="justify",cc="justify-left",ss="justify-right",as="justify-center";class sS extends nt{isEmptyStyles(e){if(!this.styles||e!==void 0&&!this.styles[e])return!0;const r=e===void 0?this.styles:{line:this.styles[e]};for(const n in r)for(const i in r[n])for(const o in r[n][i])return!1;return!0}styleHas(e,r){if(!this.styles||r!==void 0&&!this.styles[r])return!1;const n=r===void 0?this.styles:{0:this.styles[r]};for(const i in n)for(const o in n[i])if(n[i][o][e]!==void 0)return!0;return!1}cleanStyle(e){if(!this.styles)return!1;const r=this.styles;let n,i,o=0,s=!0,a=0;for(const l in r){n=0;for(const c in r[l]){const u=r[l][c]||{};o++,u[e]!==void 0?(i?u[e]!==i&&(s=!1):i=u[e],u[e]===this[e]&&delete u[e]):s=!1,Object.keys(u).length!==0?n++:delete r[l][c]}n===0&&delete r[l]}for(let l=0;l<this._textLines.length;l++)a+=this._textLines[l].length;s&&o===a&&(this[e]=i,this.removeStyle(e))}removeStyle(e){if(!this.styles)return;const r=this.styles;let n,i,o;for(i in r){for(o in n=r[i],n)delete n[o][e],Object.keys(n[o]).length===0&&delete n[o];Object.keys(n).length===0&&delete r[i]}}_extendStyles(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e);this._getLineStyle(n)||this._setLineStyle(n);const o=pg(k(k({},this._getStyleDeclaration(n,i)),r),s=>s!==void 0);this._setStyleDeclaration(n,i,o)}getSelectionStyles(e,r,n){const i=[];for(let o=e;o<(r||e);o++)i.push(this.getStyleAtPosition(o,n));return i}getStyleAtPosition(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e);return r?this.getCompleteStyleDeclaration(n,i):this._getStyleDeclaration(n,i)}setSelectionStyles(e,r,n){for(let i=r;i<(n||r);i++)this._extendStyles(i,e);this._forceClearCache=!0}_getStyleDeclaration(e,r){var n;const i=this.styles&&this.styles[e];return i&&(n=i[r])!==null&&n!==void 0?n:{}}getCompleteStyleDeclaration(e,r){return k(k({},Co(this,this.constructor._styleProperties)),this._getStyleDeclaration(e,r))}_setStyleDeclaration(e,r,n){this.styles[e][r]=n}_deleteStyleDeclaration(e,r){delete this.styles[e][r]}_getLineStyle(e){return!!this.styles[e]}_setLineStyle(e){this.styles[e]={}}_deleteLineStyle(e){delete this.styles[e]}}w(sS,"_styleProperties",X2);const Y2=/  +/g,K2=/"/g;function Gu(t,e,r,n,i){return"		".concat(function(o,s){let{left:a,top:l,width:c,height:u}=s,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ie.NUM_FRACTION_DIGITS;const d=Ms(je,o,!1),[f,m,v,S]=[a,l,c,u].map(p=>Ce(p,h));return"<rect ".concat(d,' x="').concat(f,'" y="').concat(m,'" width="').concat(v,'" height="').concat(S,'"></rect>')}(t,{left:e,top:r,width:n,height:i}),`
`)}const q2=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let Yu;class at extends sS{static getDefaults(){return k(k({},super.getDefaults()),at.ownDefaults)}constructor(e,r){super(),w(this,"__charBounds",[]),Object.assign(this,at.ownDefaults),this.setOptions(r),this.styles||(this.styles={}),this.text=e,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const e=this.path;e&&(e.segmentsInfo=X1(e.path))}_splitText(){const e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(jr)&&this.enlargeSpaces()}enlargeSpaces(){let e,r,n,i,o,s,a;for(let l=0,c=this._textLines.length;l<c;l++)if((this.textAlign===jr||l!==c-1&&!this.isEndOfWrapping(l))&&(i=0,o=this._textLines[l],r=this.getLineWidth(l),r<this.width&&(a=this.textLines[l].match(this._reSpacesAndTabs)))){n=a.length,e=(this.width-r)/n;for(let u=0;u<=o.length;u++)s=this.__charBounds[l][u],this._reSpaceAndTab.test(o[u])?(s.width+=e,s.kernedWidth+=e,s.left+=i,i+=e):s.left+=i}}isEndOfWrapping(e){return e===this._textLines.length-1}missingNewlineOffset(e){return 1}get2DCursorLocation(e,r){const n=r?this._unwrappedTextLines:this._textLines;let i;for(i=0;i<n.length;i++){if(e<=n[i].length)return{lineIndex:i,charIndex:e};e-=n[i].length+this.missingNewlineOffset(i,r)}return{lineIndex:i-1,charIndex:n[i-1].length<e?n[i-1].length:e}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const e=super._getCacheCanvasDimensions(),r=this.fontSize;return e.width+=r*e.zoomX,e.height+=r*e.zoomY,e}_render(e){const r=this.path;r&&!r.isNotVisible()&&r._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")}_renderText(e){this.paintFirst===Tt?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))}_setTextStyles(e,r,n){if(e.textBaseline="alphabetic",this.path)switch(this.pathAlign){case re:e.textBaseline="middle";break;case"ascender":e.textBaseline=wt;break;case"descender":e.textBaseline=dd}e.font=this._getFontDeclaration(r,n)}calcTextWidth(){let e=this.getLineWidth(0);for(let r=1,n=this._textLines.length;r<n;r++){const i=this.getLineWidth(r);i>e&&(e=i)}return e}_renderTextLine(e,r,n,i,o,s){this._renderChars(e,r,n,i,o,s)}_renderTextLinesBackground(e){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const r=e.fillStyle,n=this._getLeftOffset();let i=this._getTopOffset();for(let o=0,s=this._textLines.length;o<s;o++){const a=this.getHeightOfLine(o);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",o)){i+=a;continue}const l=this._textLines[o].length,c=this._getLineLeftOffset(o);let u,h,d=0,f=0,m=this.getValueOfPropertyAt(o,0,"textBackgroundColor");for(let v=0;v<l;v++){const S=this.__charBounds[o][v];h=this.getValueOfPropertyAt(o,v,"textBackgroundColor"),this.path?(e.save(),e.translate(S.renderLeft,S.renderTop),e.rotate(S.angle),e.fillStyle=h,h&&e.fillRect(-S.width/2,-a/this.lineHeight*(1-this._fontSizeFraction),S.width,a/this.lineHeight),e.restore()):h!==m?(u=n+c+f,this.direction==="rtl"&&(u=this.width-u-d),e.fillStyle=m,m&&e.fillRect(u,i,d,a/this.lineHeight),f=S.left,d=S.width,m=h):d+=S.kernedWidth}h&&!this.path&&(u=n+c+f,this.direction==="rtl"&&(u=this.width-u-d),e.fillStyle=h,e.fillRect(u,i,d,a/this.lineHeight)),i+=a}e.fillStyle=r,this._removeShadow(e)}_measureChar(e,r,n,i){const o=is.getFontCache(r),s=this._getFontDeclaration(r),a=n+e,l=n&&s===this._getFontDeclaration(i),c=r.fontSize/this.CACHE_FONT_SIZE;let u,h,d,f;if(n&&o[n]!==void 0&&(d=o[n]),o[e]!==void 0&&(f=u=o[e]),l&&o[a]!==void 0&&(h=o[a],f=h-d),u===void 0||d===void 0||h===void 0){const m=function(){if(!Yu){const v=Be();v.width=v.height=0,Yu=v.getContext("2d")}return Yu}();this._setTextStyles(m,r,!0),u===void 0&&(f=u=m.measureText(e).width,o[e]=u),d===void 0&&l&&n&&(d=m.measureText(n).width,o[n]=d),l&&h===void 0&&(h=m.measureText(a).width,o[a]=h,f=h-d)}return{width:u*c,kernedWidth:f*c}}getHeightOfChar(e,r){return this.getValueOfPropertyAt(e,r,"fontSize")}measureLine(e){const r=this._measureLine(e);return this.charSpacing!==0&&(r.width-=this._getWidthOfCharSpacing()),r.width<0&&(r.width=0),r}_measureLine(e){let r,n,i=0;const o=this.pathSide===Te,s=this.path,a=this._textLines[e],l=a.length,c=new Array(l);this.__charBounds[e]=c;for(let u=0;u<l;u++){const h=a[u];n=this._getGraphemeBox(h,e,u,r),c[u]=n,i+=n.kernedWidth,r=h}if(c[l]={left:n?n.left+n.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},s&&s.segmentsInfo){let u=0;const h=s.segmentsInfo[s.segmentsInfo.length-1].length;switch(this.textAlign){case le:u=o?h-i:0;break;case re:u=(h-i)/2;break;case Te:u=o?0:h-i}u+=this.pathStartOffset*(o?-1:1);for(let d=o?l-1:0;o?d>=0:d<l;o?d--:d++)n=c[d],u>h?u%=h:u<0&&(u+=h),this._setGraphemeOnPath(u,n),u+=n.kernedWidth}return{width:i,numOfSpaces:0}}_setGraphemeOnPath(e,r){const n=e+r.kernedWidth/2,i=this.path,o=x2(i.path,n,i.segmentsInfo);r.renderLeft=o.x-i.pathOffset.x,r.renderTop=o.y-i.pathOffset.y,r.angle=o.angle+(this.pathSide===Te?Math.PI:0)}_getGraphemeBox(e,r,n,i,o){const s=this.getCompleteStyleDeclaration(r,n),a=i?this.getCompleteStyleDeclaration(r,n-1):{},l=this._measureChar(e,s,i,a);let c,u=l.kernedWidth,h=l.width;this.charSpacing!==0&&(c=this._getWidthOfCharSpacing(),h+=c,u+=c);const d={width:h,left:0,height:s.fontSize,kernedWidth:u,deltaY:s.deltaY};if(n>0&&!o){const f=this.__charBounds[r][n-1];d.left=f.left+f.width+l.kernedWidth-l.width}return d}getHeightOfLine(e){if(this.__lineHeights[e])return this.__lineHeights[e];let r=this.getHeightOfChar(e,0);for(let n=1,i=this._textLines[e].length;n<i;n++)r=Math.max(this.getHeightOfChar(e,n),r);return this.__lineHeights[e]=r*this.lineHeight*this._fontSizeMult}calcTextHeight(){let e,r=0;for(let n=0,i=this._textLines.length;n<i;n++)e=this.getHeightOfLine(n),r+=n===i-1?e/this.lineHeight:e;return r}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(e,r){e.save();let n=0;const i=this._getLeftOffset(),o=this._getTopOffset();for(let s=0,a=this._textLines.length;s<a;s++){const l=this.getHeightOfLine(s),c=l/this.lineHeight,u=this._getLineLeftOffset(s);this._renderTextLine(r,e,this._textLines[s],i+u,o+n+c,s),n+=l}e.restore()}_renderTextFill(e){(this.fill||this.styleHas(je))&&this._renderTextCommon(e,"fillText")}_renderTextStroke(e){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())}_renderChars(e,r,n,i,o,s){const a=this.getHeightOfLine(s),l=this.textAlign.includes(jr),c=this.path,u=!l&&this.charSpacing===0&&this.isEmptyStyles(s)&&!c,h=this.direction==="ltr",d=this.direction==="ltr"?1:-1,f=r.direction;let m,v,S,p,g,y="",x=0;if(r.save(),f!==this.direction&&(r.canvas.setAttribute("dir",h?"ltr":"rtl"),r.direction=h?"ltr":"rtl",r.textAlign=h?le:Te),o-=a*this._fontSizeFraction/this.lineHeight,u)return this._renderChar(e,r,s,0,n.join(""),i,o),void r.restore();for(let _=0,E=n.length-1;_<=E;_++)p=_===E||this.charSpacing||c,y+=n[_],S=this.__charBounds[s][_],x===0?(i+=d*(S.kernedWidth-S.width),x+=S.width):x+=S.kernedWidth,l&&!p&&this._reSpaceAndTab.test(n[_])&&(p=!0),p||(m=m||this.getCompleteStyleDeclaration(s,_),v=this.getCompleteStyleDeclaration(s,_+1),p=wg(m,v,!1)),p&&(c?(r.save(),r.translate(S.renderLeft,S.renderTop),r.rotate(S.angle),this._renderChar(e,r,s,_,y,-x/2,0),r.restore()):(g=i,this._renderChar(e,r,s,_,y,g,o)),y="",m=v,i+=d*x,x=0);r.restore()}_applyPatternGradientTransformText(e){const r=Be(),n=this.width+this.strokeWidth,i=this.height+this.strokeWidth,o=r.getContext("2d");return r.width=n,r.height=i,o.beginPath(),o.moveTo(0,0),o.lineTo(n,0),o.lineTo(n,i),o.lineTo(0,i),o.closePath(),o.translate(n/2,i/2),o.fillStyle=e.toLive(o),this._applyPatternGradientTransform(o,e),o.fill(),o.createPattern(r,"no-repeat")}handleFiller(e,r,n){let i,o;return Vt(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?(i=-this.width/2,o=-this.height/2,e.translate(i,o),e[r]=this._applyPatternGradientTransformText(n),{offsetX:i,offsetY:o}):(e[r]=n.toLive(e),this._applyPatternGradientTransform(e,n)):(e[r]=n,{offsetX:0,offsetY:0})}_setStrokeStyles(e,r){let{stroke:n,strokeWidth:i}=r;return e.lineWidth=i,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",n)}_setFillStyles(e,r){let{fill:n}=r;return this.handleFiller(e,"fillStyle",n)}_renderChar(e,r,n,i,o,s,a){const l=this._getStyleDeclaration(n,i),c=this.getCompleteStyleDeclaration(n,i),u=e==="fillText"&&c.fill,h=e==="strokeText"&&c.stroke&&c.strokeWidth;if(h||u){if(r.save(),r.font=this._getFontDeclaration(c),l.textBackgroundColor&&this._removeShadow(r),l.deltaY&&(a+=l.deltaY),u){const d=this._setFillStyles(r,c);r.fillText(o,s-d.offsetX,a-d.offsetY)}if(h){const d=this._setStrokeStyles(r,c);r.strokeText(o,s-d.offsetX,a-d.offsetY)}r.restore()}}setSuperscript(e,r){this._setScript(e,r,this.superscript)}setSubscript(e,r){this._setScript(e,r,this.subscript)}_setScript(e,r,n){const i=this.get2DCursorLocation(e,!0),o=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"fontSize"),s=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"deltaY"),a={fontSize:o*n.size,deltaY:s+o*n.baseline};this.setSelectionStyles(a,e,r)}_getLineLeftOffset(e){const r=this.getLineWidth(e),n=this.width-r,i=this.textAlign,o=this.direction,s=this.isEndOfWrapping(e);let a=0;return i===jr||i===as&&!s||i===ss&&!s||i===cc&&!s?0:(i===re&&(a=n/2),i===Te&&(a=n),i===as&&(a=n/2),i===ss&&(a=n),o==="rtl"&&(i===Te||i===jr||i===ss?a=0:i===le||i===cc?a=-n:i!==re&&i!==as||(a=-n/2)),a)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(e){if(this.__lineWidths[e]!==void 0)return this.__lineWidths[e];const{width:r}=this.measureLine(e);return this.__lineWidths[e]=r,r}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(e,r,n){var i;return(i=this._getStyleDeclaration(e,r)[n])!==null&&i!==void 0?i:this[n]}_renderTextDecoration(e,r){if(!this[r]&&!this.styleHas(r))return;let n=this._getTopOffset();const i=this._getLeftOffset(),o=this.path,s=this._getWidthOfCharSpacing(),a=this.offsets[r];for(let l=0,c=this._textLines.length;l<c;l++){const u=this.getHeightOfLine(l);if(!this[r]&&!this.styleHas(r,l)){n+=u;continue}const h=this._textLines[l],d=u/this.lineHeight,f=this._getLineLeftOffset(l);let m,v,S=0,p=0,g=this.getValueOfPropertyAt(l,0,r),y=this.getValueOfPropertyAt(l,0,je);const x=n+d*(1-this._fontSizeFraction);let _=this.getHeightOfChar(l,0),E=this.getValueOfPropertyAt(l,0,"deltaY");for(let O=0,j=h.length;O<j;O++){const R=this.__charBounds[l][O];m=this.getValueOfPropertyAt(l,O,r),v=this.getValueOfPropertyAt(l,O,je);const N=this.getHeightOfChar(l,O),z=this.getValueOfPropertyAt(l,O,"deltaY");if(o&&m&&v)e.save(),e.fillStyle=y,e.translate(R.renderLeft,R.renderTop),e.rotate(R.angle),e.fillRect(-R.kernedWidth/2,a*N+z,R.kernedWidth,this.fontSize/15),e.restore();else if((m!==g||v!==y||N!==_||z!==E)&&p>0){let F=i+f+S;this.direction==="rtl"&&(F=this.width-F-p),g&&y&&(e.fillStyle=y,e.fillRect(F,x+a*_+E,p,this.fontSize/15)),S=R.left,p=R.width,g=m,y=v,_=N,E=z}else p+=R.kernedWidth}let T=i+f+S;this.direction==="rtl"&&(T=this.width-T-p),e.fillStyle=v,m&&v&&e.fillRect(T,x+a*_+E,p-s,this.fontSize/15),n+=u}this._removeShadow(e)}_getFontDeclaration(){let{fontFamily:e=this.fontFamily,fontStyle:r=this.fontStyle,fontWeight:n=this.fontWeight,fontSize:i=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;const s=e.includes("'")||e.includes('"')||e.includes(",")||at.genericFonts.includes(e.toLowerCase())?e:'"'.concat(e,'"');return[r,n,"".concat(o?this.CACHE_FONT_SIZE:i,"px"),s].join(" ")}render(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(e)))}graphemeSplit(e){return _g(e)}_splitTextIntoLines(e){const r=e.split(this._reNewline),n=new Array(r.length),i=[`
`];let o=[];for(let s=0;s<r.length;s++)n[s]=this.graphemeSplit(r[s]),o=o.concat(n[s],i);return o.pop(),{_unwrappedLines:n,lines:r,graphemeText:o,graphemeLines:n}}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return k(k({},super.toObject([...oS,...e])),{},{styles:Fb(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(e,r){const{textLayoutProperties:n}=this.constructor;super.set(e,r);let i=!1,o=!1;if(typeof e=="object")for(const s in e)s==="path"&&this.setPathInfo(),i=i||n.includes(s),o=o||s==="path";else i=n.includes(e),o=e==="path";return o&&this.setPathInfo(),i&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(e,r,n){const i=cn(e,at.ATTRIBUTE_NAMES,n),o=k(k({},r),i),{textAnchor:s=le,textDecoration:a="",dx:l=0,dy:c=0,top:u=0,left:h=0,fontSize:d=cg,strokeWidth:f=1}=o,m=ve(o,q2),v=new this((e.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),k({left:h+l,top:u+c,underline:a.includes("underline"),overline:a.includes("overline"),linethrough:a.includes("line-through"),strokeWidth:0,fontSize:d},m)),S=v.getScaledHeight()/v.height,p=((v.height+v.strokeWidth)*v.lineHeight-v.height)*S,g=v.getScaledHeight()+p;let y=0;return s===re&&(y=v.getScaledWidth()/2),s===Te&&(y=v.getScaledWidth()),v.set({left:v.left-y,top:v.top-(g-v.fontSize*(.07+v._fontSizeFraction))/v.lineHeight,strokeWidth:f}),v}static fromObject(e){return this._fromObject(k(k({},e),{},{styles:Ib(e.styles||{},e.text)}),{extraParam:"text"})}}w(at,"textLayoutProperties",iS),w(at,"cacheProperties",[...ln,...oS]),w(at,"ownDefaults",G2),w(at,"type","Text"),w(at,"genericFonts",["sans-serif","serif","cursive","fantasy","monospace"]),w(at,"ATTRIBUTE_NAMES",Wn.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),I1(at,[class extends k1{_toSVG(){const t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)}toSVG(t){return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0})}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(t){let{textBgRects:e,textSpans:r}=t;const n=this.getSvgTextDecoration(this);return[e.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(K2,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",n?'text-decoration="'.concat(n,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",r.join(""),`</text>
`]}_getSVGTextAndBg(t,e){const r=[],n=[];let i,o=t;this.backgroundColor&&n.push(...Gu(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let s=0,a=this._textLines.length;s<a;s++)i=this._getLineLeftOffset(s),this.direction==="rtl"&&(i+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",s))&&this._setSVGTextLineBg(n,s,e+i,o),this._setSVGTextLineText(r,s,e+i,o),o+=this.getHeightOfLine(s);return{textSpans:r,textBgRects:n}}_createTextCharSpan(t,e,r,n){const i=this.getSvgSpanStyles(e,t!==t.trim()||!!t.match(Y2)),o=i?'style="'.concat(i,'"'):"",s=e.deltaY,a=s?' dy="'.concat(Ce(s,ie.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(Ce(r,ie.NUM_FRACTION_DIGITS),'" y="').concat(Ce(n,ie.NUM_FRACTION_DIGITS),'" ').concat(a).concat(o,">").concat(Lb(t),"</tspan>")}_setSVGTextLineText(t,e,r,n){const i=this.getHeightOfLine(e),o=this.textAlign.includes(jr),s=this._textLines[e];let a,l,c,u,h,d="",f=0;n+=i*(1-this._fontSizeFraction)/this.lineHeight;for(let m=0,v=s.length-1;m<=v;m++)h=m===v||this.charSpacing,d+=s[m],c=this.__charBounds[e][m],f===0?(r+=c.kernedWidth-c.width,f+=c.width):f+=c.kernedWidth,o&&!h&&this._reSpaceAndTab.test(s[m])&&(h=!0),h||(a=a||this.getCompleteStyleDeclaration(e,m),l=this.getCompleteStyleDeclaration(e,m+1),h=wg(a,l,!0)),h&&(u=this._getStyleDeclaration(e,m),t.push(this._createTextCharSpan(d,u,r,n)),d="",a=l,this.direction==="rtl"?r-=f:r+=f,f=0)}_setSVGTextLineBg(t,e,r,n){const i=this._textLines[e],o=this.getHeightOfLine(e)/this.lineHeight;let s,a=0,l=0,c=this.getValueOfPropertyAt(e,0,"textBackgroundColor");for(let u=0;u<i.length;u++){const{left:h,width:d,kernedWidth:f}=this.__charBounds[e][u];s=this.getValueOfPropertyAt(e,u,"textBackgroundColor"),s!==c?(c&&t.push(...Gu(c,r+l,n,a,o)),l=h,a=d,c=s):a+=f}s&&t.push(...Gu(c,r+l,n,a,o))}_getSVGLineTopOffset(t){let e,r=0;for(e=0;e<t;e++)r+=this.getHeightOfLine(e);const n=this.getHeightOfLine(e);return{lineTop:r,offset:(this._fontSizeMult-this._fontSizeFraction)*n/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(t){return"".concat(super.getSvgStyles(t)," white-space: pre;")}getSvgSpanStyles(t,e){const{fontFamily:r,strokeWidth:n,stroke:i,fill:o,fontSize:s,fontStyle:a,fontWeight:l,deltaY:c}=t,u=this.getSvgTextDecoration(t);return[i?Ms(Tt,i):"",n?"stroke-width: ".concat(n,"; "):"",r?"font-family: ".concat(r.includes("'")||r.includes('"')?r:"'".concat(r,"'"),"; "):"",s?"font-size: ".concat(s,"px; "):"",a?"font-style: ".concat(a,"; "):"",l?"font-weight: ".concat(l,"; "):"",u&&"text-decoration: ".concat(u,"; "),o?Ms(je,o):"",c?"baseline-shift: ".concat(-c,"; "):"",e?"white-space: pre; ":""].join("")}getSvgTextDecoration(t){return["overline","underline","line-through"].filter(e=>t[e.replace("-","")]).join(" ")}}]),V.setClass(at),V.setSVGClass(at);class Q2{constructor(e){w(this,"target",void 0),w(this,"__mouseDownInPlace",!1),w(this,"__dragStartFired",!1),w(this,"__isDraggingOver",!1),w(this,"__dragStartSelection",void 0),w(this,"__dragImageDisposer",void 0),w(this,"_dispose",void 0),this.target=e;const r=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{r.forEach(n=>n()),this._dispose=void 0}}isPointerOverSelection(e){const r=this.target,n=r.getSelectionStartFromPointer(e);return r.isEditing&&n>=r.selectionStart&&n<=r.selectionEnd&&r.selectionStart<r.selectionEnd}start(e){return this.__mouseDownInPlace=this.isPointerOverSelection(e)}isActive(){return this.__mouseDownInPlace}end(e){const r=this.isActive();return r&&!this.__dragStartFired&&(this.target.setCursorByClick(e),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,r}getDragStartSelection(){return this.__dragStartSelection}setDragImage(e,r){var n;let{selectionStart:i,selectionEnd:o}=r;const s=this.target,a=s.canvas,l=new M(s.flipX?-1:1,s.flipY?-1:1),c=s._getCursorBoundaries(i),u=new M(c.left+c.leftOffset,c.top+c.topOffset).multiply(l).transform(s.calcTransformMatrix()),h=a.getScenePoint(e).subtract(u),d=s.getCanvasRetinaScaling(),f=s.getBoundingRect(),m=u.subtract(new M(f.left,f.top)),v=a.viewportTransform,S=m.add(h).transform(v,!0),p=s.backgroundColor,g=Cg(s.styles);s.backgroundColor="";const y={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};s.setSelectionStyles(y,0,i),s.setSelectionStyles(y,o,s.text.length),s.dirty=!0;const x=s.toCanvasElement({enableRetinaScaling:a.enableRetinaScaling,viewportTransform:!0});s.backgroundColor=p,s.styles=g,s.dirty=!0,_d(x,{position:"fixed",left:"".concat(-x.width,"px"),border:bt,width:"".concat(x.width/d,"px"),height:"".concat(x.height/d,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{x.remove()},vr(e.target||this.target.hiddenTextarea).body.appendChild(x),(n=e.dataTransfer)===null||n===void 0||n.setDragImage(x,S.x,S.y)}onDragStart(e){this.__dragStartFired=!0;const r=this.target,n=this.isActive();if(n&&e.dataTransfer){const i=this.__dragStartSelection={selectionStart:r.selectionStart,selectionEnd:r.selectionEnd},o=r._text.slice(i.selectionStart,i.selectionEnd).join(""),s=k({text:r.text,value:o},i);e.dataTransfer.setData("text/plain",o),e.dataTransfer.setData("application/fabric",JSON.stringify({value:o,styles:r.getSelectionStyles(i.selectionStart,i.selectionEnd,!0)})),e.dataTransfer.effectAllowed="copyMove",this.setDragImage(e,s)}return r.abortCursorAnimation(),n}canDrop(e){if(this.target.editable&&!this.target.getActiveControl()&&!e.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const r=this.target.getSelectionStartFromPointer(e),n=this.__dragStartSelection;return r<n.selectionStart||r>n.selectionEnd}return!0}return!1}targetCanDrop(e){return this.target.canDrop(e)}dragEnterHandler(e){let{e:r}=e;const n=this.targetCanDrop(r);!this.__isDraggingOver&&n&&(this.__isDraggingOver=!0)}dragOverHandler(e){const{e:r}=e,n=this.targetCanDrop(r);!this.__isDraggingOver&&n?this.__isDraggingOver=!0:this.__isDraggingOver&&!n&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(r.preventDefault(),e.canDrop=!0,e.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(e){var r;const{e:n}=e,i=n.defaultPrevented;this.__isDraggingOver=!1,n.preventDefault();let o=(r=n.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain");if(o&&!i){const s=this.target,a=s.canvas;let l=s.getSelectionStartFromPointer(n);const{styles:c}=n.dataTransfer.types.includes("application/fabric")?JSON.parse(n.dataTransfer.getData("application/fabric")):{},u=o[Math.max(0,o.length-1)],h=0;if(this.__dragStartSelection){const d=this.__dragStartSelection.selectionStart,f=this.__dragStartSelection.selectionEnd;l>d&&l<=f?l=d:l>f&&(l-=f-d),s.removeChars(d,f),delete this.__dragStartSelection}s._reNewline.test(u)&&(s._reNewline.test(s._text[l])||l===s._text.length)&&(o=o.trimEnd()),e.didDrop=!0,e.dropTarget=s,s.insertChars(o,c,l),a.setActiveObject(s),s.enterEditing(n),s.selectionStart=Math.min(l+h,s._text.length),s.selectionEnd=Math.min(s.selectionStart+o.length,s._text.length),s.hiddenTextarea.value=s.text,s._updateTextarea(),s.hiddenTextarea.focus(),s.fire(Zl,{index:l+h,action:"drop"}),a.fire("text:changed",{target:s}),a.contextTopDirty=!0,a.requestRenderAll()}}dragEndHandler(e){let{e:r}=e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var n;const i=this.target,o=this.target.canvas,{selectionStart:s,selectionEnd:a}=this.__dragStartSelection,l=((n=r.dataTransfer)===null||n===void 0?void 0:n.dropEffect)||bt;l===bt?(i.selectionStart=s,i.selectionEnd=a,i._updateTextarea(),i.hiddenTextarea.focus()):(i.clearContextTop(),l==="move"&&(i.removeChars(s,a),i.selectionStart=i.selectionEnd=s,i.hiddenTextarea&&(i.hiddenTextarea.value=i.text),i._updateTextarea(),i.fire(Zl,{index:s,action:"dragend"}),o.fire("text:changed",{target:i}),o.requestRenderAll()),i.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const zm=/[ \n\.,;!\?\-]/;class Z2 extends at{constructor(){super(...arguments),w(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(e){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(e)}_animateCursor(e){let{toValue:r,duration:n,delay:i,onComplete:o}=e;return A1({startValue:this._currentCursorOpacity,endValue:r,duration:n,delay:i,onComplete:o,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:s=>{this._currentCursorOpacity=s,this.renderCursorOrSelection()}})}_tick(e){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(e||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var e;(e=this._currentTickCompleteState)===null||e===void 0||e.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(e){this.abortCursorAnimation(),this._tick(e?0:this.cursorDelay)}abortCursorAnimation(){let e=!1;[this._currentTickState,this._currentTickCompleteState].forEach(r=>{r&&!r.isDone()&&(e=!0,r.abort())}),this._currentCursorOpacity=1,e&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(e=>!e||e.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(e){let r=0,n=e-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)r++,n--;for(;/\S/.test(this._text[n])&&n>-1;)r++,n--;return e-r}findWordBoundaryRight(e){let r=0,n=e;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)r++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)r++,n++;return e+r}findLineBoundaryLeft(e){let r=0,n=e-1;for(;!/\n/.test(this._text[n])&&n>-1;)r++,n--;return e-r}findLineBoundaryRight(e){let r=0,n=e;for(;!/\n/.test(this._text[n])&&n<this._text.length;)r++,n++;return e+r}searchWordBoundary(e,r){const n=this._text;let i=e>0&&this._reSpace.test(n[e])&&(r===-1||!ug.test(n[e-1]))?e-1:e,o=n[i];for(;i>0&&i<n.length&&!zm.test(o);)i+=r,o=n[i];return r===-1&&zm.test(o)&&i++,i}selectWord(e){e=e||this.selectionStart;const r=this.searchWordBoundary(e,-1),n=Math.max(r,this.searchWordBoundary(e,1));this.selectionStart=r,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(e){e=e||this.selectionStart;const r=this.findLineBoundaryLeft(e),n=this.findLineBoundaryRight(e);return this.selectionStart=r,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this}enterEditing(e){!this.isEditing&&this.editable&&(this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered",e?{e}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e}),this.canvas.requestRenderAll()))}updateSelectionOnMouseMove(e){if(this.getActiveControl())return;const r=this.hiddenTextarea;vr(r).activeElement!==r&&r.focus();const n=this.getSelectionStartFromPointer(e),i=this.selectionStart,o=this.selectionEnd;(n===this.__selectionStartOnMouseDown&&i!==o||i!==n&&o!==n)&&(n>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=n):(this.selectionStart=n,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===i&&this.selectionEnd===o||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(e,r,n){const i=n.slice(0,e),o=this.graphemeSplit(i).length;if(e===r)return{selectionStart:o,selectionEnd:o};const s=n.slice(e,r);return{selectionStart:o,selectionEnd:o+this.graphemeSplit(s).length}}fromGraphemeToStringSelection(e,r,n){const i=n.slice(0,e).join("").length;return e===r?{selectionStart:i,selectionEnd:i}:{selectionStart:i,selectionEnd:i+n.slice(e,r).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const e=this.hiddenTextarea;this.text=e.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const r=this.fromStringToGraphemeSelection(e.selectionStart,e.selectionEnd,e.value);this.selectionEnd=this.selectionStart=r.selectionEnd,this.inCompositionMode||(this.selectionStart=r.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const e=this.inCompositionMode?this.compositionStart:this.selectionStart,r=this._getCursorBoundaries(e),n=this.get2DCursorLocation(e),i=n.lineIndex,o=n.charIndex,s=this.getValueOfPropertyAt(i,o,"fontSize")*this.lineHeight,a=r.leftOffset,l=this.getCanvasRetinaScaling(),c=this.canvas.upperCanvasEl,u=c.width/l,h=c.height/l,d=u-s,f=h-s,m=new M(r.left+a,r.top+r.topOffset+s).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new M(c.clientWidth/u,c.clientHeight/h));return m.x<0&&(m.x=0),m.x>d&&(m.x=d),m.y<0&&(m.y=0),m.y>f&&(m.y=f),m.x+=this.canvas._offset.left,m.y+=this.canvas._offset.top,{left:"".concat(m.x,"px"),top:"".concat(m.y,"px"),fontSize:"".concat(s,"px"),charHeight:s}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const e=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditing(){const e=this._textBeforeEdit!==this.text;return this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),e&&this.fire(Jl),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const e in this.styles)this._textLines[e]||delete this.styles[e]}removeStyleFromTo(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e,!0),{lineIndex:o,charIndex:s}=this.get2DCursorLocation(r,!0);if(n!==o){if(this.styles[n])for(let a=i;a<this._unwrappedTextLines[n].length;a++)delete this.styles[n][a];if(this.styles[o])for(let a=s;a<this._unwrappedTextLines[o].length;a++){const l=this.styles[o][a];l&&(this.styles[n]||(this.styles[n]={}),this.styles[n][i+a-s]=l)}for(let a=n+1;a<=o;a++)delete this.styles[a];this.shiftLineStyles(o,n-o)}else if(this.styles[n]){const a=this.styles[n],l=s-i;for(let c=i;c<s;c++)delete a[c];for(const c in this.styles[n]){const u=parseInt(c,10);u>=s&&(a[u-l]=a[c],delete a[c])}}}shiftLineStyles(e,r){const n=Object.assign({},this.styles);for(const i in this.styles){const o=parseInt(i,10);o>e&&(this.styles[o+r]=n[o],n[o-r]||delete this.styles[o])}}insertNewlineStyleObject(e,r,n,i){const o={},s=this._unwrappedTextLines[e].length,a=s===r;let l=!1;n||(n=1),this.shiftLineStyles(e,n);const c=this.styles[e]?this.styles[e][r===0?r:r-1]:void 0;for(const h in this.styles[e]){const d=parseInt(h,10);d>=r&&(l=!0,o[d-r]=this.styles[e][h],a&&r===0||delete this.styles[e][h])}let u=!1;for(l&&!a&&(this.styles[e+n]=o,u=!0),(u||s>r)&&n--;n>0;)i&&i[n-1]?this.styles[e+n]={0:k({},i[n-1])}:c?this.styles[e+n]={0:k({},c)}:delete this.styles[e+n],n--;this._forceClearCache=!0}insertCharStyleObject(e,r,n,i){this.styles||(this.styles={});const o=this.styles[e],s=o?k({},o):{};n||(n=1);for(const l in s){const c=parseInt(l,10);c>=r&&(o[c+n]=s[c],s[c-n]||delete o[c])}if(this._forceClearCache=!0,i){for(;n--;)Object.keys(i[n]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][r+n]=k({},i[n]));return}if(!o)return;const a=o[r?r-1:1];for(;a&&n--;)this.styles[e][r+n]=k({},a)}insertNewStyleBlock(e,r,n){const i=this.get2DCursorLocation(r,!0),o=[0];let s,a=0;for(let l=0;l<e.length;l++)e[l]===`
`?(a++,o[a]=0):o[a]++;for(o[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,o[0],n),n=n&&n.slice(o[0]+1)),a&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+o[0],a),s=1;s<a;s++)o[s]>0?this.insertCharStyleObject(i.lineIndex+s,0,o[s],n):n&&this.styles[i.lineIndex+s]&&n[0]&&(this.styles[i.lineIndex+s][0]=n[0]),n=n&&n.slice(o[s]+1);o[s]>0&&this.insertCharStyleObject(i.lineIndex+s,0,o[s],n)}removeChars(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e+1;this.removeStyleFromTo(e,r),this._text.splice(e,r-e),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;i>n&&this.removeStyleFromTo(n,i);const o=this.graphemeSplit(e);this.insertNewStyleBlock(o,n,r),this._text=[...this._text.slice(0,n),...o,...this._text.slice(i)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(e,r,n){n<=e?(r===e?this._selectionDirection=le:this._selectionDirection===Te&&(this._selectionDirection=le,this.selectionEnd=e),this.selectionStart=n):n>e&&n<r?this._selectionDirection===Te?this.selectionEnd=n:this.selectionStart=n:(r===e?this._selectionDirection=Te:this._selectionDirection===le&&(this._selectionDirection=Te,this.selectionStart=r),this.selectionEnd=n)}}class J2 extends Z2{initHiddenTextarea(){const e=this.canvas&&vr(this.canvas.getElement())||yo(),r=e.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(s=>{let[a,l]=s;return r.setAttribute(a,l)});const{top:n,left:i,fontSize:o}=this._calcTextareaPosition();r.style.cssText="position: absolute; top: ".concat(n,"; left: ").concat(i,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(o,";"),(this.hiddenTextareaContainer||e.body).appendChild(r),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(s=>{let[a,l]=s;return r.addEventListener(a,this[l].bind(this))}),this.hiddenTextarea=r}blur(){this.abortCursorAnimation()}onKeyDown(e){if(!this.isEditing)return;const r=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(e.keyCode in r)this[r[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(e){const r=this.fromPaste;if(this.fromPaste=!1,e&&e.stopPropagation(),!this.isEditing)return;const n=()=>{this.updateFromTextArea(),this.fire(Zl),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void n();const i=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,o=this._text.length,s=i.length,a=this.selectionStart,l=this.selectionEnd,c=a!==l;let u,h,d,f,m=s-o;const v=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),S=a>v.selectionStart;c?(h=this._text.slice(a,l),m+=l-a):s<o&&(h=S?this._text.slice(l+m,l):this._text.slice(a,a-m));const p=i.slice(v.selectionEnd-m,v.selectionEnd);if(h&&h.length&&(p.length&&(u=this.getSelectionStyles(a,a+1,!1),u=p.map(()=>u[0])),c?(d=a,f=l):S?(d=l-h.length,f=l):(d=l,f=l+h.length),this.removeStyleFromTo(d,f)),p.length){const{copyPasteData:g}=Nr();r&&p.join("")===g.copiedText&&!ie.disableStyleCopyPaste&&(u=g.copiedTextStyle),this.insertNewStyleBlock(p,a,u)}n()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(e){let{target:r}=e;const{selectionStart:n,selectionEnd:i}=r;this.compositionStart=n,this.compositionEnd=i,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:e}=Nr();e.copiedText=this.getSelectedText(),ie.disableStyleCopyPaste?e.copiedTextStyle=void 0:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(e,r){let n,i=this._getLineLeftOffset(e);return r>0&&(n=this.__charBounds[e][r-1],i+=n.left+n.width),i}getDownCursorOffset(e,r){const n=this._getSelectionForOffset(e,r),i=this.get2DCursorLocation(n),o=i.lineIndex;if(o===this._textLines.length-1||e.metaKey||e.keyCode===34)return this._text.length-n;const s=i.charIndex,a=this._getWidthBeforeCursor(o,s),l=this._getIndexOnLine(o+1,a);return this._textLines[o].slice(s).length+l+1+this.missingNewlineOffset(o)}_getSelectionForOffset(e,r){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&r?this.selectionEnd:this.selectionStart}getUpCursorOffset(e,r){const n=this._getSelectionForOffset(e,r),i=this.get2DCursorLocation(n),o=i.lineIndex;if(o===0||e.metaKey||e.keyCode===33)return-n;const s=i.charIndex,a=this._getWidthBeforeCursor(o,s),l=this._getIndexOnLine(o-1,a),c=this._textLines[o].slice(0,s),u=this.missingNewlineOffset(o-1);return-this._textLines[o-1].length+l-c.length+(1-u)}_getIndexOnLine(e,r){const n=this._textLines[e];let i,o,s=this._getLineLeftOffset(e),a=0;for(let l=0,c=n.length;l<c;l++)if(i=this.__charBounds[e][l].width,s+=i,s>r){o=!0;const u=s-i,h=s,d=Math.abs(u-r);a=Math.abs(h-r)<d?l:l-1;break}return o||(a=n.length-1),a}moveCursorDown(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)}moveCursorUp(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",e)}_moveCursorUpOrDown(e,r){const n=this["get".concat(e,"CursorOffset")](r,this._selectionDirection===Te);if(r.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),n!==0){const i=this.text.length;this.selectionStart=lo(0,this.selectionStart,i),this.selectionEnd=lo(0,this.selectionEnd,i),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(e){const r=this._selectionDirection===le?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,r),e!==0}moveCursorWithoutShift(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),e!==0}moveCursorLeft(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",e)}_move(e,r,n){let i;if(e.altKey)i=this["findWordBoundary".concat(n)](this[r]);else{if(!e.metaKey&&e.keyCode!==35&&e.keyCode!==36)return this[r]+=n==="Left"?-1:1,!0;i=this["findLineBoundary".concat(n)](this[r])}return i!==void 0&&this[r]!==i&&(this[r]=i,!0)}_moveLeft(e,r){return this._move(e,r,"Left")}_moveRight(e,r){return this._move(e,r,"Right")}moveCursorLeftWithoutShift(e){let r=!0;return this._selectionDirection=le,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(r=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,r}moveCursorLeftWithShift(e){return this._selectionDirection===Te&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=le,this._moveLeft(e,"selectionStart")):void 0}moveCursorRight(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)}_moveCursorLeftOrRight(e,r){const n="moveCursor".concat(e).concat(r.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[n](r)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(e){return this._selectionDirection===le&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=Te,this._moveRight(e,"selectionEnd")):void 0}moveCursorRightWithoutShift(e){let r=!0;return this._selectionDirection=Te,this.selectionStart===this.selectionEnd?(r=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,r}}const Ku=t=>!!t.button;class eT extends J2{constructor(){super(...arguments),w(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new Q2(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(e){return this.draggableTextDelegate.onDragStart(e)}canDrop(e){return this.draggableTextDelegate.canDrop(e)}onMouseDown(e){if(!this.canvas)return;this.__newClickTime=+new Date;const r=e.pointer;this.isTripleClick(r)&&(this.fire("tripleclick",e),pd(e.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=r,this.__lastSelected=this.selected&&!this.getActiveControl()}isTripleClick(e){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===e.x&&this.__lastPointer.y===e.y}doubleClickHandler(e){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(e.e))}tripleClickHandler(e){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(e.e))}_mouseDownHandler(e){let{e:r}=e;this.canvas&&this.editable&&!Ku(r)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(r)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(r)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())))}_mouseDownHandlerBefore(e){let{e:r}=e;this.canvas&&this.editable&&!Ku(r)&&(this.selected=this===this.canvas._activeObject)}mouseUpHandler(e){let{e:r,transform:n}=e;const i=this.draggableTextDelegate.end(r);if(this.canvas){this.canvas.textEditingManager.unregister(this);const o=this.canvas._activeObject;if(o&&o!==this)return}!this.editable||this.group&&!this.group.interactive||n&&n.actionPerformed||Ku(r)||i||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(r),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}setCursorByClick(e){const r=this.getSelectionStartFromPointer(e),n=this.selectionStart,i=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(n,i,r):(this.selectionStart=r,this.selectionEnd=r),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(e){const r=this.canvas.getScenePoint(e).transform(yr(this.calcTransformMatrix())).add(new M(-this._getLeftOffset(),-this._getTopOffset()));let n=0,i=0,o=0;for(let c=0;c<this._textLines.length&&n<=r.y;c++)n+=this.getHeightOfLine(c),o=c,c>0&&(i+=this._textLines[c-1].length+this.missingNewlineOffset(c-1));let s=Math.abs(this._getLineLeftOffset(o));const a=this._textLines[o].length,l=this.__charBounds[o];for(let c=0;c<a;c++){const u=s+l[c].kernedWidth;if(r.x<=u){Math.abs(r.x-u)<=Math.abs(r.x-s)&&i++;break}s=u,i++}return Math.min(this.flipX?a-i:i,this._text.length)}}const ba="moveCursorUp",Ta="moveCursorDown",Ea="moveCursorLeft",Oa="moveCursorRight",ka="exitEditing",tT=k({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:ka,27:ka,33:ba,34:Ta,35:Oa,36:Ea,37:Ea,38:ba,39:Oa,40:Ta},keysMapRtl:{9:ka,27:ka,33:ba,34:Ta,35:Ea,36:Oa,37:Oa,38:ba,39:Ea,40:Ta},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class qr extends eT{static getDefaults(){return k(k({},super.getDefaults()),qr.ownDefaults)}get type(){const e=super.type;return e==="itext"?"i-text":e}constructor(e,r){super(e,k(k({},qr.ownDefaults),r)),this.initBehavior()}_set(e,r){return this.isEditing&&this._savedProps&&e in this._savedProps?(this._savedProps[e]=r,this):(e==="canvas"&&(this.canvas instanceof wd&&this.canvas.textEditingManager.remove(this),r instanceof wd&&r.textEditingManager.add(this)),super._set(e,r))}setSelectionStart(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)}setSelectionEnd(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)}_updateAndFire(e,r){this[e]!==r&&(this._fireSelectionChanged(),this[e]=r),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,n=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(e,r,n)}setSelectionStyles(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(e,r,n)}get2DCursorLocation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(e,r)}render(e){super.render(e),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(e){const r=this.isEditing;this.isEditing=!1;const n=super.toCanvasElement(e);return this.isEditing=r,n}renderCursorOrSelection(){if(!this.isEditing)return;const e=this.clearContextTop(!0);if(!e)return;const r=this._getCursorBoundaries();this.selectionStart===this.selectionEnd?this.renderCursor(e,r):this.renderSelection(e,r),this.canvas.contextTopDirty=!0,e.restore()}_getCursorBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1?arguments[1]:void 0;const n=this._getLeftOffset(),i=this._getTopOffset(),o=this._getCursorBoundariesOffsets(e,r);return{left:n,top:i,leftOffset:o.left,topOffset:o.top}}_getCursorBoundariesOffsets(e,r){return r?this.__getCursorBoundariesOffsets(e):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(e)}__getCursorBoundariesOffsets(e){let r=0,n=0;const{charIndex:i,lineIndex:o}=this.get2DCursorLocation(e);for(let c=0;c<o;c++)r+=this.getHeightOfLine(c);const s=this._getLineLeftOffset(o),a=this.__charBounds[o][i];a&&(n=a.left),this.charSpacing!==0&&i===this._textLines[o].length&&(n-=this._getWidthOfCharSpacing());const l={top:r,left:s+(n>0?n:0)};return this.direction==="rtl"&&(this.textAlign===Te||this.textAlign===jr||this.textAlign===ss?l.left*=-1:this.textAlign===le||this.textAlign===cc?l.left=s-(n>0?n:0):this.textAlign!==re&&this.textAlign!==as||(l.left=s-(n>0?n:0))),l}renderCursorAt(e){const r=this._getCursorBoundaries(e,!0);this._renderCursor(this.canvas.contextTop,r,e)}renderCursor(e,r){this._renderCursor(e,r,this.selectionStart)}_renderCursor(e,r,n){const i=this.get2DCursorLocation(n),o=i.lineIndex,s=i.charIndex>0?i.charIndex-1:0,a=this.getValueOfPropertyAt(o,s,"fontSize"),l=this.getObjectScaling().x*this.canvas.getZoom(),c=this.cursorWidth/l,u=this.getValueOfPropertyAt(o,s,"deltaY"),h=r.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(o)/this.lineHeight-a*(1-this._fontSizeFraction);this.inCompositionMode&&this.renderSelection(e,r),e.fillStyle=this.cursorColor||this.getValueOfPropertyAt(o,s,je),e.globalAlpha=this._currentCursorOpacity,e.fillRect(r.left+r.leftOffset-c/2,h+r.top+u,c,a)}renderSelection(e,r){const n={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(e,n,r)}renderDragSourceEffect(){const e=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,e,this._getCursorBoundaries(e.selectionStart,!0))}renderDropTargetEffect(e){const r=this.getSelectionStartFromPointer(e);this.renderCursorAt(r)}_renderSelection(e,r,n){const i=r.selectionStart,o=r.selectionEnd,s=this.textAlign.includes(jr),a=this.get2DCursorLocation(i),l=this.get2DCursorLocation(o),c=a.lineIndex,u=l.lineIndex,h=a.charIndex<0?0:a.charIndex,d=l.charIndex<0?0:l.charIndex;for(let f=c;f<=u;f++){const m=this._getLineLeftOffset(f)||0;let v=this.getHeightOfLine(f),S=0,p=0,g=0;if(f===c&&(p=this.__charBounds[c][h].left),f>=c&&f<u)g=s&&!this.isEndOfWrapping(f)?this.width:this.getLineWidth(f)||5;else if(f===u)if(d===0)g=this.__charBounds[u][d].left;else{const T=this._getWidthOfCharSpacing();g=this.__charBounds[u][d-1].left+this.__charBounds[u][d-1].width-T}S=v,(this.lineHeight<1||f===u&&this.lineHeight>1)&&(v/=this.lineHeight);let y=n.left+m+p,x=v,_=0;const E=g-p;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",x=1,_=v):e.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===Te||this.textAlign===jr||this.textAlign===ss?y=this.width-y-E:this.textAlign===le||this.textAlign===cc?y=n.left+m-g:this.textAlign!==re&&this.textAlign!==as||(y=n.left+m-g)),e.fillRect(y,n.top+n.topOffset+_,E,x),n.topOffset+=S}}getCurrentCharFontSize(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")}getCurrentCharColor(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,je)}_getCurrentCharIndex(){const e=this.get2DCursorLocation(this.selectionStart,!0),r=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:r}}dispose(){this._exitEditing(),this.draggableTextDelegate.dispose(),super.dispose()}}w(qr,"ownDefaults",tT),w(qr,"type","IText"),V.setClass(qr),V.setClass(qr,"i-text");class _n extends qr{static getDefaults(){return k(k({},super.getDefaults()),_n.ownDefaults)}constructor(e,r){super(e,k(k({},_n.ownDefaults),r))}static createControls(){return{controls:Pb()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(jr)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(e){let r=0,n=0,i=0;const o={};for(let s=0;s<e.graphemeLines.length;s++)e.graphemeText[i]===`
`&&s>0?(n=0,i++,r++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[i])&&s>0&&(n++,i++),o[s]={line:r,offset:n},i+=e.graphemeLines[s].length,n+=e.graphemeLines[s].length;return o}styleHas(e,r){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[r];n&&(r=n.line)}return super.styleHas(e,r)}isEmptyStyles(e){if(!this.styles)return!0;let r,n=0,i=e+1,o=!1;const s=this._styleMap[e],a=this._styleMap[e+1];s&&(e=s.line,n=s.offset),a&&(i=a.line,o=i===e,r=a.offset);const l=e===void 0?this.styles:{line:this.styles[e]};for(const c in l)for(const u in l[c]){const h=parseInt(u,10);if(h>=n&&(!o||h<r))for(const d in l[c][u])return!1}return!0}_getStyleDeclaration(e,r){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[e];if(!n)return{};e=n.line,r=n.offset+r}return super._getStyleDeclaration(e,r)}_setStyleDeclaration(e,r,n){const i=this._styleMap[e];super._setStyleDeclaration(i.line,i.offset+r,n)}_deleteStyleDeclaration(e,r){const n=this._styleMap[e];super._deleteStyleDeclaration(n.line,n.offset+r)}_getLineStyle(e){const r=this._styleMap[e];return!!this.styles[r.line]}_setLineStyle(e){const r=this._styleMap[e];super._setLineStyle(r.line)}_wrapText(e,r){this.isWrapping=!0;const n=this.getGraphemeDataForRender(e),i=[];for(let o=0;o<n.wordsData.length;o++)i.push(...this._wrapLine(o,r,n));return this.isWrapping=!1,i}getGraphemeDataForRender(e){const r=this.splitByGrapheme,n=r?"":" ";let i=0;return{wordsData:e.map((o,s)=>{let a=0;const l=r?this.graphemeSplit(o):this.wordSplit(o);return l.length===0?[{word:[],width:0}]:l.map(c=>{const u=r?[c]:this.graphemeSplit(c),h=this._measureWord(u,s,a);return i=Math.max(h,i),a+=u.length+n.length,{word:u,width:h}})}),largestWordWidth:i}}_measureWord(e,r){let n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=0;for(let s=0,a=e.length;s<a;s++)o+=this._getGraphemeBox(e[s],r,s+i,n,!0).kernedWidth,n=e[s];return o}wordSplit(e){return e.split(this._wordJoiners)}_wrapLine(e,r,n){let{largestWordWidth:i,wordsData:o}=n,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const a=this._getWidthOfCharSpacing(),l=this.splitByGrapheme,c=[],u=l?"":" ";let h=0,d=[],f=0,m=0,v=!0;r-=s;const S=Math.max(r,i,this.dynamicMinWidth),p=o[e];let g;for(f=0,g=0;g<p.length;g++){const{word:y,width:x}=p[g];f+=y.length,h+=m+x-a,h>S&&!v?(c.push(d),d=[],h=x,v=!0):h+=a,v||l||d.push(u),d=d.concat(y),m=l?0:this._measureWord([u],e,f),f++,v=!1}return g&&c.push(d),i+s>this.dynamicMinWidth&&(this.dynamicMinWidth=i-a+s),c}isEndOfWrapping(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line}missingNewlineOffset(e,r){return this.splitByGrapheme&&!r?this.isEndOfWrapping(e)?1:0:1}_splitTextIntoLines(e){const r=super._splitTextIntoLines(e),n=this._wrapText(r.lines,this.width),i=new Array(n.length);for(let o=0;o<n.length;o++)i[o]=n[o].join("");return r.lines=i,r.graphemeLines=n,r}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const e=new Map;for(const r in this._styleMap){const n=parseInt(r,10);if(this._textLines[n]){const i=this._styleMap[r].line;e.set("".concat(i),!0)}}for(const r in this.styles)e.has(r)||delete this.styles[r]}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...e])}}w(_n,"type","Textbox"),w(_n,"textLayoutProperties",[...qr.textLayoutProperties,"width"]),w(_n,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),V.setClass(_n);class $m extends Wc{shouldPerformLayout(e){return!!e.target.clipPath&&super.shouldPerformLayout(e)}shouldLayoutClipPath(){return!1}calcLayoutResult(e,r){const{target:n}=e,{clipPath:i,group:o}=n;if(!i||!this.shouldPerformLayout(e))return;const{width:s,height:a}=Zr(z1(n,i)),l=new M(s,a);if(i.absolutePositioned)return{center:Ji(i.getRelativeCenterPoint(),void 0,o?o.calcTransformMatrix():void 0),size:l};{const c=i.getRelativeCenterPoint().transform(n.calcOwnMatrix(),!0);if(this.shouldPerformLayout(e)){const{center:u=new M,correction:h=new M}=this.calcBoundingBox(r,e)||{};return{center:u.add(c),correction:h.subtract(c),size:l}}return{center:n.getRelativeCenterPoint().add(c),size:l}}}}w($m,"type","clip-path"),V.setClass($m);class Hm extends Wc{getInitialSize(e,r){let{target:n}=e,{size:i}=r;return new M(n.width||i.x,n.height||i.y)}}w(Hm,"type","fixed"),V.setClass(Hm);class rT extends Ps{subscribeTargets(e){const r=e.target;e.targets.reduce((n,i)=>(i.parent&&n.add(i.parent),n),new Set).forEach(n=>{n.layoutManager.subscribeTargets({target:n,targets:[r]})})}unsubscribeTargets(e){const r=e.target,n=r.getObjects();e.targets.reduce((i,o)=>(o.parent&&i.add(o.parent),i),new Set).forEach(i=>{!n.some(o=>o.parent===i)&&i.layoutManager.unsubscribeTargets({target:i,targets:[r]})})}}class Jn extends ii{static getDefaults(){return k(k({},super.getDefaults()),Jn.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Jn.ownDefaults),this.setOptions(r);const{left:n,top:i,layoutManager:o}=r;this.groupInit(e,{left:n,top:i,layoutManager:o??new rT})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this.multiSelectionStacking==="selection-order"?this.add(...r):r.forEach(i=>{const o=this._objects.findIndex(a=>a.isInFrontOf(i)),s=o===-1?this.size():o;this.insertAt(s,i)})}canEnterGroup(e){return this.getObjects().some(r=>r.isDescendantOf(e)||e.isDescendantOf(r))?(Fn("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(e)}enterGroup(e,r){e.parent&&e.parent===e.group?e.parent._exitGroup(e):e.group&&e.parent!==e.group&&e.group.remove(e),this._enterGroup(e,r)}exitGroup(e,r){this._exitGroup(e,r),e.parent&&e.parent._enterGroup(e,!0)}_onAfterObjectsChange(e,r){super._onAfterObjectsChange(e,r);const n=new Set;r.forEach(i=>{const{parent:o}=i;o&&n.add(o)}),e===Tg?n.forEach(i=>{i._onAfterObjectsChange(oc,r)}):n.forEach(i=>{i._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(e,r,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const i=k(k({hasControls:!1},n),{},{forActiveSelection:!0});for(let o=0;o<this._objects.length;o++)this._objects[o]._renderControls(e,i);super._renderControls(e,r),e.restore()}}w(Jn,"type","ActiveSelection"),w(Jn,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),V.setClass(Jn),V.setClass(Jn,"activeSelection");class nT{constructor(){w(this,"resources",{})}applyFilters(e,r,n,i,o){const s=o.getContext("2d");if(!s)return;s.drawImage(r,0,0,n,i);const a={sourceWidth:n,sourceHeight:i,imageData:s.getImageData(0,0,n,i),originalEl:r,originalImageData:s.getImageData(0,0,n,i),canvasEl:o,ctx:s,filterBackend:this};e.forEach(c=>{c.applyTo(a)});const{imageData:l}=a;return l.width===n&&l.height===i||(o.width=l.width,o.height=l.height),s.putImageData(l,0,0),a}}class aS{constructor(){let{tileSize:e=ie.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};w(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),w(this,"resources",{}),this.tileSize=e,this.setupGLContext(e,e),this.captureGPUInfo()}setupGLContext(e,r){this.dispose(),this.createWebGLCanvas(e,r)}createWebGLCanvas(e,r){const n=Be();n.width=e,n.height=r;const i=n.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});i&&(i.clearColor(0,0,0,0),this.canvas=n,this.gl=i)}applyFilters(e,r,n,i,o,s){const a=this.gl,l=o.getContext("2d");if(!a||!l)return;let c;s&&(c=this.getCachedTexture(s,r));const u={originalWidth:r.width||r.originalWidth||0,originalHeight:r.height||r.originalHeight||0,sourceWidth:n,sourceHeight:i,destinationWidth:n,destinationHeight:i,context:a,sourceTexture:this.createTexture(a,n,i,c?void 0:r),targetTexture:this.createTexture(a,n,i),originalTexture:c||this.createTexture(a,n,i,c?void 0:r),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:o},h=a.createFramebuffer();return a.bindFramebuffer(a.FRAMEBUFFER,h),e.forEach(d=>{d&&d.applyTo(u)}),function(d){const f=d.targetCanvas,m=f.width,v=f.height,S=d.destinationWidth,p=d.destinationHeight;m===S&&v===p||(f.width=S,f.height=p)}(u),this.copyGLTo2D(a,u),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(u.sourceTexture),a.deleteTexture(u.targetTexture),a.deleteFramebuffer(h),l.setTransform(1,0,0,1,0,0),u}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(e,r,n,i,o){const{NEAREST:s,TEXTURE_2D:a,RGBA:l,UNSIGNED_BYTE:c,CLAMP_TO_EDGE:u,TEXTURE_MAG_FILTER:h,TEXTURE_MIN_FILTER:d,TEXTURE_WRAP_S:f,TEXTURE_WRAP_T:m}=e,v=e.createTexture();return e.bindTexture(a,v),e.texParameteri(a,h,o||s),e.texParameteri(a,d,o||s),e.texParameteri(a,f,u),e.texParameteri(a,m,u),i?e.texImage2D(a,0,l,l,c,i):e.texImage2D(a,0,l,r,n,0,l,c,null),v}getCachedTexture(e,r,n){const{textureCache:i}=this;if(i[e])return i[e];{const o=this.createTexture(this.gl,r.width,r.height,r,n);return o&&(i[e]=o),o}}evictCachesForKey(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])}copyGLTo2D(e,r){const n=e.canvas,i=r.targetCanvas,o=i.getContext("2d");if(!o)return;o.translate(0,i.height),o.scale(1,-1);const s=n.height-i.height;o.drawImage(n,0,s,i.width,i.height,0,0,i.width,i.height)}copyGLTo2DPutImageData(e,r){const n=r.targetCanvas.getContext("2d"),i=r.destinationWidth,o=r.destinationHeight,s=i*o*4;if(!n)return;const a=new Uint8Array(this.imageBuffer,0,s),l=new Uint8ClampedArray(this.imageBuffer,0,s);e.readPixels(0,0,i,o,e.RGBA,e.UNSIGNED_BYTE,a);const c=new ImageData(l,i,o);n.putImageData(c,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const e=this.gl,r={renderer:"",vendor:""};if(!e)return r;const n=e.getExtension("WEBGL_debug_renderer_info");if(n){const i=e.getParameter(n.UNMASKED_RENDERER_WEBGL),o=e.getParameter(n.UNMASKED_VENDOR_WEBGL);i&&(r.renderer=i.toLowerCase()),o&&(r.vendor=o.toLowerCase())}return this.gpuInfo=r,r}}let qu;function iT(){const{WebGLProbe:t}=Nr();return t.queryWebGL(Be()),ie.enableGLFiltering&&t.isSupported(ie.textureSize)?new aS({tileSize:ie.textureSize}):new nT}function Qu(){return!qu&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(qu=iT()),qu}const oT=["filters","resizeFilter","src","crossOrigin","type"],lS=["cropX","cropY"];class jt extends nt{static getDefaults(){return k(k({},super.getDefaults()),jt.ownDefaults)}constructor(e,r){super(),w(this,"_lastScaleX",1),w(this,"_lastScaleY",1),w(this,"_filterScalingX",1),w(this,"_filterScalingY",1),this.filters=[],Object.assign(this,jt.ownDefaults),this.setOptions(r),this.cacheKey="texture".concat(In()),this.setElement(typeof e=="string"?(this.canvas&&vr(this.canvas.getElement())||yo()).getElementById(e):e,r)}getElement(){return this._element}setElement(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=e,this._originalElement=e,this._setWidthHeight(r),e.classList.add(jt.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(e){const r=Qu(!1);r instanceof aS&&r.evictCachesForKey(e)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(e=>{const r=this[e];r&&Nr().dispose(r),this[e]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const e=this.getElement();return e?{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}:{width:0,height:0}}_stroke(e){if(!this.stroke||this.strokeWidth===0)return;const r=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-r,-n),e.lineTo(r,-n),e.lineTo(r,n),e.lineTo(-r,n),e.lineTo(-r,-n),e.closePath()}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=[];return this.filters.forEach(n=>{n&&r.push(n.toObject())}),k(k({},super.toObject([...lS,...e])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:r},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const e=[],r=this._element,n=-this.width/2,i=-this.height/2;let o=[],s=[],a="",l="";if(!r)return[];if(this.hasCrop()){const c=In();o.push('<clipPath id="imageCrop_'+c+`">
`,'	<rect x="'+n+'" y="'+i+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),a=' clip-path="url(#imageCrop_'+c+')" '}if(this.imageSmoothing||(l=' image-rendering="optimizeSpeed"'),e.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(n-this.cropX,'" y="').concat(i-this.cropY,'" width="').concat(r.width||r.naturalWidth,'" height="').concat(r.height||r.naturalHeight,'"').concat(l).concat(a,`></image>
`)),this.stroke||this.strokeDashArray){const c=this.fill;this.fill=null,s=['	<rect x="'.concat(n,'" y="').concat(i,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=c}return o=this.paintFirst!==je?o.concat(s,e):o.concat(e,s),o}getSrc(e){const r=e?this._element:this._originalElement;return r?r.toDataURL?r.toDataURL():this.srcFromAttribute?r.getAttribute("src")||"":r.src:this.src||""}getSvgSrc(e){return this.getSrc(e)}setSrc(e){let{crossOrigin:r,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return pl(e,{crossOrigin:r,signal:n}).then(i=>{r!==void 0&&this.set({crossOrigin:r}),this.setElement(i)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const e=this.resizeFilter,r=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),i=n.x,o=n.y,s=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||i>r&&o>r)return this._element=s,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=i,void(this._lastScaleY=o);const a=Be(),l=s.width,c=s.height;a.width=l,a.height=c,this._element=a,this._lastScaleX=e.scaleX=i,this._lastScaleY=e.scaleY=o,Qu().applyFilters([e],s,l,c,this._element),this._filterScalingX=a.width/this._originalElement.width,this._filterScalingY=a.height/this._originalElement.height}applyFilters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(e=e.filter(o=>o&&!o.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),e.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const r=this._originalElement,n=r.naturalWidth||r.width,i=r.naturalHeight||r.height;if(this._element===this._originalElement){const o=Be();o.width=n,o.height=i,this._element=o,this._filteredEl=o}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,i),this._lastScaleX=1,this._lastScaleY=1);Qu().applyFilters(e,this._originalElement,n,i,this._element),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(e){e.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)}drawCacheOnCanvas(e){e.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(e)}shouldCache(){return this.needsItsOwnCache()}_renderFill(e){const r=this._element;if(!r)return;const n=this._filterScalingX,i=this._filterScalingY,o=this.width,s=this.height,a=Math.max(this.cropX,0),l=Math.max(this.cropY,0),c=r.naturalWidth||r.width,u=r.naturalHeight||r.height,h=a*n,d=l*i,f=Math.min(o*n,c-h),m=Math.min(s*i,u-d),v=-o/2,S=-s/2,p=Math.min(o,c/n-a),g=Math.min(s,u/i-l);r&&e.drawImage(r,h,d,f,m,v,S,p,g)}_needsResize(){const e=this.getTotalObjectScaling();return e.x!==this._lastScaleX||e.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:e,height:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this.getOriginalSize();this.width=e||n.width,this.height=r||n.height}parsePreserveAspectRatioAttribute(){const e=zw(this.preserveAspectRatio||""),r=this.width,n=this.height,i={width:r,height:n};let o,s=this._element.width,a=this._element.height,l=1,c=1,u=0,h=0,d=0,f=0;return!e||e.alignX===bt&&e.alignY===bt?(l=r/s,c=n/a):(e.meetOrSlice==="meet"&&(l=c=c2(this._element,i),o=(r-s*l)/2,e.alignX==="Min"&&(u=-o),e.alignX==="Max"&&(u=o),o=(n-a*c)/2,e.alignY==="Min"&&(h=-o),e.alignY==="Max"&&(h=o)),e.meetOrSlice==="slice"&&(l=c=u2(this._element,i),o=s-r/l,e.alignX==="Mid"&&(d=o/2),e.alignX==="Max"&&(d=o),o=a-n/c,e.alignY==="Mid"&&(f=o/2),e.alignY==="Max"&&(f=o),s=r/l,a=n/c)),{width:s,height:a,scaleX:l,scaleY:c,offsetLeft:u,offsetTop:h,cropX:d,cropY:f}}static fromObject(e,r){let{filters:n,resizeFilter:i,src:o,crossOrigin:s,type:a}=e,l=ve(e,oT);return Promise.all([pl(o,k(k({},r),{},{crossOrigin:s})),n&&ks(n,r),i&&ks([i],r),Bc(l,r)]).then(c=>{let[u,h=[],[d]=[],f={}]=c;return new this(u,k(k({},l),{},{src:o,filters:h,resizeFilter:d},f))})}static fromURL(e){let{crossOrigin:r=null,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return pl(e,{crossOrigin:r,signal:n}).then(o=>new this(o,i))}static async fromElement(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i=cn(e,this.ATTRIBUTE_NAMES,n);return this.fromURL(i["xlink:href"],r,i).catch(o=>(Fn("log","Unable to parse Image",o),null))}}w(jt,"type","Image"),w(jt,"cacheProperties",[...ln,...lS]),w(jt,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),w(jt,"CSS_CANVAS","canvas-img"),w(jt,"ATTRIBUTE_NAMES",[...Wn,"x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"]),V.setClass(jt),V.setSVGClass(jt);$c(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const Uc=t=>t.webgl!==void 0,Eg="precision highp float",sT=`
    `.concat(Eg,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),aT=["type"],lT=["type"],cT=new RegExp(Eg,"g");class ze{get type(){return this.constructor.type}constructor(){let e=ve(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},aT);Object.assign(this,this.constructor.defaults,e)}getFragmentSource(){return sT}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:i="highp"}}=Nr();i!=="highp"&&(r=r.replace(cT,Eg.replace("highp",i)));const o=e.createShader(e.VERTEX_SHADER),s=e.createShader(e.FRAGMENT_SHADER),a=e.createProgram();if(!o||!s||!a)throw new Lr("Vertex, fragment shader or program creation error");if(e.shaderSource(o,n),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new Lr("Vertex shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(o)));if(e.shaderSource(s,r),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS))throw new Lr("Fragment shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(s)));if(e.attachShader(a,o),e.attachShader(a,s),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw new Lr('Shader link error for "'.concat(this.type,'" ').concat(e.getProgramInfoLog(a)));const l=this.getUniformLocations(e,a)||{};return l.uStepW=e.getUniformLocation(a,"uStepW"),l.uStepH=e.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:this.getAttributeLocations(e,a),uniformLocations:l}}getAttributeLocations(e,r){return{aPosition:e.getAttribLocation(r,"aPosition")}}getUniformLocations(e,r){const n=this.constructor.uniformLocations,i={};for(let o=0;o<n.length;o++)i[n[o]]=e.getUniformLocation(r,n[o]);return i}sendAttributeData(e,r,n){const i=r.aPosition,o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)}_setupFrameBuffer(e){const r=e.context;if(e.passes>1){const n=e.destinationWidth,i=e.destinationHeight;e.sourceWidth===n&&e.sourceHeight===i||(r.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(r,n,i)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e.targetTexture,0)}else r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish()}_swapTextures(e){e.passes--,e.pass++;const r=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=r}isNeutralState(e){return!1}applyTo(e){Uc(e)?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){}getCacheKey(){return this.type}retrieveShader(e){const r=this.getCacheKey();return e.programCache[r]||(e.programCache[r]=this.createProgram(e.context)),e.programCache[r]}applyToWebGL(e){const r=e.context,n=this.retrieveShader(e);e.pass===0&&e.originalTexture?r.bindTexture(r.TEXTURE_2D,e.originalTexture):r.bindTexture(r.TEXTURE_2D,e.sourceTexture),r.useProgram(n.program),this.sendAttributeData(r,n.attributeLocations,e.aPosition),r.uniform1f(n.uniformLocations.uStepW,1/e.sourceWidth),r.uniform1f(n.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(r,n.uniformLocations),r.viewport(0,0,e.destinationWidth,e.destinationHeight),r.drawArrays(r.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(e,r,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,r),e.activeTexture(e.TEXTURE0)}unbindAdditionalTexture(e,r){e.activeTexture(r),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)}sendUniformData(e,r){}createHelpLayer(e){if(!e.helpLayer){const r=Be();r.width=e.sourceWidth,r.height=e.sourceHeight,e.helpLayer=r}}toObject(){const e=Object.keys(this.constructor.defaults||{});return k({type:this.type},e.reduce((r,n)=>(r[n]=this[n],r),{}))}toJSON(){return this.toObject()}static async fromObject(e,r){return new this(ve(e,lT))}}w(ze,"type","BaseFilter"),w(ze,"uniformLocations",[]);const uT={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class Ma extends ze{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(uT[this.mode],`
        }
      }
      `)}applyTo2d(e){let{imageData:{data:r}}=e;const n=new ae(this.color).getSource(),i=n[0]*this.alpha,o=n[1]*this.alpha,s=n[2]*this.alpha,a=1-this.alpha;for(let l=0;l<r.length;l+=4){const c=r[l],u=r[l+1],h=r[l+2];switch(this.mode){case"multiply":r[l]=c*i/255,r[l+1]=u*o/255,r[l+2]=h*s/255;break;case"screen":r[l]=255-(255-c)*(255-i)/255,r[l+1]=255-(255-u)*(255-o)/255,r[l+2]=255-(255-h)*(255-s)/255;break;case"add":r[l]=c+i,r[l+1]=u+o,r[l+2]=h+s;break;case"difference":r[l]=Math.abs(c-i),r[l+1]=Math.abs(u-o),r[l+2]=Math.abs(h-s);break;case"subtract":r[l]=c-i,r[l+1]=u-o,r[l+2]=h-s;break;case"darken":r[l]=Math.min(c,i),r[l+1]=Math.min(u,o),r[l+2]=Math.min(h,s);break;case"lighten":r[l]=Math.max(c,i),r[l+1]=Math.max(u,o),r[l+2]=Math.max(h,s);break;case"overlay":r[l]=i<128?2*c*i/255:255-2*(255-c)*(255-i)/255,r[l+1]=o<128?2*u*o/255:255-2*(255-u)*(255-o)/255,r[l+2]=s<128?2*h*s/255:255-2*(255-h)*(255-s)/255;break;case"exclusion":r[l]=i+c-2*i*c/255,r[l+1]=o+u-2*o*u/255,r[l+2]=s+h-2*s*h/255;break;case"tint":r[l]=i+c*a,r[l+1]=o+u*a,r[l+2]=s+h*a}}}sendUniformData(e,r){const n=new ae(this.color).getSource();n[0]=this.alpha*n[0]/255,n[1]=this.alpha*n[1]/255,n[2]=this.alpha*n[2]/255,n[3]=this.alpha,e.uniform4fv(r.uColor,n)}}w(Ma,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),w(Ma,"type","BlendColor"),w(Ma,"uniformLocations",["uColor"]),V.setClass(Ma);const hT={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},dT=["type","image"];class Pa extends ze{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return hT[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(e){const r=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(r,n,r.TEXTURE1),super.applyToWebGL(e),this.unbindAdditionalTexture(r,r.TEXTURE1)}createTexture(e,r){return e.getCachedTexture(r.cacheKey,r.getElement())}calculateMatrix(){const e=this.image,{width:r,height:n}=e.getElement();return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/r,-e.top/n,1]}applyTo2d(e){let{imageData:{data:r,width:n,height:i},filterBackend:{resources:o}}=e;const s=this.image;o.blendImage||(o.blendImage=Be());const a=o.blendImage,l=a.getContext("2d");a.width!==n||a.height!==i?(a.width=n,a.height=i):l.clearRect(0,0,n,i),l.setTransform(s.scaleX,0,0,s.scaleY,s.left,s.top),l.drawImage(s.getElement(),0,0,n,i);const c=l.getImageData(0,0,n,i).data;for(let u=0;u<r.length;u+=4){const h=r[u],d=r[u+1],f=r[u+2],m=r[u+3],v=c[u],S=c[u+1],p=c[u+2],g=c[u+3];switch(this.mode){case"multiply":r[u]=h*v/255,r[u+1]=d*S/255,r[u+2]=f*p/255,r[u+3]=m*g/255;break;case"mask":r[u+3]=g}}}sendUniformData(e,r){const n=this.calculateMatrix();e.uniform1i(r.uImage,1),e.uniformMatrix3fv(r.uTransformMatrix,!1,n)}toObject(){return k(k({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(e,r){let{type:n,image:i}=e,o=ve(e,dT);return jt.fromObject(i,r).then(s=>new this(k(k({},o),{},{image:s})))}}w(Pa,"type","BlendImage"),w(Pa,"defaults",{mode:"multiply",alpha:1}),w(Pa,"uniformLocations",["uTransformMatrix","uImage"]),V.setClass(Pa);class Da extends ze{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(e){Uc(e)?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){e.imageData=this.simpleBlur(e)}simpleBlur(e){let{ctx:r,imageData:n,filterBackend:{resources:i}}=e;const{width:o,height:s}=n;i.blurLayer1||(i.blurLayer1=Be(),i.blurLayer2=Be());const a=i.blurLayer1,l=i.blurLayer2;a.width===o&&a.height===s||(l.width=a.width=o,l.height=a.height=s);const c=a.getContext("2d"),u=l.getContext("2d"),h=15,d=.06*this.blur*.5;let f,m,v,S;for(c.putImageData(n,0,0),u.clearRect(0,0,o,s),S=-15;S<=h;S++)f=(Math.random()-.5)/4,m=S/h,v=d*m*o+f,u.globalAlpha=1-Math.abs(m),u.drawImage(a,v,f),c.drawImage(l,0,0),u.globalAlpha=1,u.clearRect(0,0,l.width,l.height);for(S=-15;S<=h;S++)f=(Math.random()-.5)/4,m=S/h,v=d*m*s+f,u.globalAlpha=1-Math.abs(m),u.drawImage(a,f,v),c.drawImage(l,0,0),u.globalAlpha=1,u.clearRect(0,0,l.width,l.height);r.drawImage(a,0,0);const p=r.getImageData(0,0,a.width,a.height);return c.globalAlpha=1,c.clearRect(0,0,a.width,a.height),p}sendUniformData(e,r){const n=this.chooseRightDelta();e.uniform2fv(r.uDelta,n)}isNeutralState(){return this.blur===0}chooseRightDelta(){let e=1;const r=[0,0];this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio);const n=e*this.blur*.12;return this.horizontal?r[0]=n:r[1]=n,r}}w(Da,"type","Blur"),w(Da,"defaults",{blur:0}),w(Da,"uniformLocations",["uDelta"]),V.setClass(Da);class Aa extends ze{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=Math.round(255*this.brightness);for(let i=0;i<r.length;i+=4)r[i]=r[i]+n,r[i+1]=r[i+1]+n,r[i+2]=r[i+2]+n}isNeutralState(){return this.brightness===0}sendUniformData(e,r){e.uniform1f(r.uBrightness,this.brightness)}}w(Aa,"type","Brightness"),w(Aa,"defaults",{brightness:0}),w(Aa,"uniformLocations",["uBrightness"]),V.setClass(Aa);class Wi extends ze{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(e){const r=e.imageData.data,n=this.matrix,i=this.colorsOnly;for(let o=0;o<r.length;o+=4){const s=r[o],a=r[o+1],l=r[o+2];if(i)r[o]=s*n[0]+a*n[1]+l*n[2]+255*n[4],r[o+1]=s*n[5]+a*n[6]+l*n[7]+255*n[9],r[o+2]=s*n[10]+a*n[11]+l*n[12]+255*n[14];else{const c=r[o+3];r[o]=s*n[0]+a*n[1]+l*n[2]+c*n[3]+255*n[4],r[o+1]=s*n[5]+a*n[6]+l*n[7]+c*n[8]+255*n[9],r[o+2]=s*n[10]+a*n[11]+l*n[12]+c*n[13]+255*n[14],r[o+3]=s*n[15]+a*n[16]+l*n[17]+c*n[18]+255*n[19]}}}sendUniformData(e,r){const n=this.matrix,i=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],o=[n[4],n[9],n[14],n[19]];e.uniformMatrix4fv(r.uColorMatrix,!1,i),e.uniform4fv(r.uConstants,o)}toObject(){return k(k({},super.toObject()),{},{matrix:[...this.matrix]})}}function Si(t,e){var r;const n=(w(r=class extends Wi{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",t),w(r,"defaults",{colorsOnly:!1,matrix:e}),r);return V.setClass(n,t),n}w(Wi,"type","ColorMatrix"),w(Wi,"defaults",{matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0}),w(Wi,"uniformLocations",["uColorMatrix","uConstants"]),V.setClass(Wi);Si("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]);Si("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]);Si("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]);Si("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]);Si("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]);Si("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]);Si("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class Wm extends ze{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.subFilters=e.subFilters||[]}applyTo(e){Uc(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach(r=>{r.applyTo(e)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(e=>e.toObject())}}isNeutralState(){return!this.subFilters.some(e=>!e.isNeutralState())}static fromObject(e,r){return Promise.all((e.subFilters||[]).map(n=>V.getClass(n.type).fromObject(n,r))).then(n=>new this({subFilters:n}))}}w(Wm,"type","Composed"),V.setClass(Wm);class ja extends ze{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(e){let{imageData:{data:r}}=e;const n=Math.floor(255*this.contrast),i=259*(n+255)/(255*(259-n));for(let o=0;o<r.length;o+=4)r[o]=i*(r[o]-128)+128,r[o+1]=i*(r[o+1]-128)+128,r[o+2]=i*(r[o+2]-128)+128}sendUniformData(e,r){e.uniform1f(r.uContrast,this.contrast)}}w(ja,"type","Contrast"),w(ja,"defaults",{contrast:0}),w(ja,"uniformLocations",["uContrast"]),V.setClass(ja);const fT={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class La extends ze{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return fT[this.getCacheKey()]}applyTo2d(e){const r=e.imageData,n=r.data,i=this.matrix,o=Math.round(Math.sqrt(i.length)),s=Math.floor(o/2),a=r.width,l=r.height,c=e.ctx.createImageData(a,l),u=c.data,h=this.opaque?1:0;let d,f,m,v,S,p,g,y,x,_,E,T,O;for(E=0;E<l;E++)for(_=0;_<a;_++){for(S=4*(E*a+_),d=0,f=0,m=0,v=0,O=0;O<o;O++)for(T=0;T<o;T++)g=E+O-s,p=_+T-s,g<0||g>=l||p<0||p>=a||(y=4*(g*a+p),x=i[O*o+T],d+=n[y]*x,f+=n[y+1]*x,m+=n[y+2]*x,h||(v+=n[y+3]*x));u[S]=d,u[S+1]=f,u[S+2]=m,u[S+3]=h?n[S+3]:v}e.imageData=c}sendUniformData(e,r){e.uniform1fv(r.uMatrix,this.matrix)}toObject(){return k(k({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}w(La,"type","Convolute"),w(La,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),w(La,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),V.setClass(La);const cS="Gamma";class Ra extends ze{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.gamma=e.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(e){let{imageData:{data:r}}=e;const n=this.gamma,i=1/n[0],o=1/n[1],s=1/n[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const a=this.rgbValues;for(let l=0;l<256;l++)a.r[l]=255*Math.pow(l/255,i),a.g[l]=255*Math.pow(l/255,o),a.b[l]=255*Math.pow(l/255,s);for(let l=0;l<r.length;l+=4)r[l]=a.r[r[l]],r[l+1]=a.g[r[l+1]],r[l+2]=a.b[r[l+2]]}sendUniformData(e,r){e.uniform3fv(r.uGamma,this.gamma)}isNeutralState(){const{gamma:e}=this;return e[0]===1&&e[1]===1&&e[2]===1}toObject(){return{type:cS,gamma:this.gamma.concat()}}}w(Ra,"type",cS),w(Ra,"defaults",{gamma:[1,1,1]}),w(Ra,"uniformLocations",["uGamma"]),V.setClass(Ra);const gT={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class Fa extends ze{applyTo2d(e){let{imageData:{data:r}}=e;for(let n,i=0;i<r.length;i+=4){switch(this.mode){case"average":n=(r[i]+r[i+1]+r[i+2])/3;break;case"lightness":n=(Math.min(r[i],r[i+1],r[i+2])+Math.max(r[i],r[i+1],r[i+2]))/2;break;case"luminosity":n=.21*r[i]+.72*r[i+1]+.07*r[i+2]}r[i]=n,r[i+1]=n,r[i+2]=n}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return gT[this.mode]}sendUniformData(e,r){e.uniform1i(r.uMode,1)}isNeutralState(){return!1}}w(Fa,"type","Grayscale"),w(Fa,"defaults",{mode:"average"}),w(Fa,"uniformLocations",["uMode"]),V.setClass(Fa);class Zu extends Wi{calculateMatrix(){const e=this.rotation*Math.PI,r=nn(e),n=on(e),i=1/3,o=Math.sqrt(i)*n,s=1-r;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=r+s/3,this.matrix[1]=i*s-o,this.matrix[2]=i*s+o,this.matrix[5]=i*s+o,this.matrix[6]=r+i*s,this.matrix[7]=i*s-o,this.matrix[10]=i*s-o,this.matrix[11]=i*s+o,this.matrix[12]=r+i*s}isNeutralState(){return this.rotation===0}applyTo(e){this.calculateMatrix(),super.applyTo(e)}toObject(){return{type:this.type,rotation:this.rotation}}}w(Zu,"type","HueRotation"),w(Zu,"defaults",{rotation:0}),V.setClass(Zu);class Ia extends ze{applyTo2d(e){let{imageData:{data:r}}=e;for(let n=0;n<r.length;n+=4)r[n]=255-r[n],r[n+1]=255-r[n+1],r[n+2]=255-r[n+2],this.alpha&&(r[n+3]=255-r[n+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(e,r){e.uniform1i(r.uInvert,Number(this.invert)),e.uniform1i(r.uAlpha,Number(this.alpha))}}w(Ia,"type","Invert"),w(Ia,"defaults",{alpha:!1,invert:!0}),w(Ia,"uniformLocations",["uInvert","uAlpha"]),V.setClass(Ia);class Na extends ze{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=this.noise;for(let i=0;i<r.length;i+=4){const o=(.5-Math.random())*n;r[i]+=o,r[i+1]+=o,r[i+2]+=o}}sendUniformData(e,r){e.uniform1f(r.uNoise,this.noise/255),e.uniform1f(r.uSeed,Math.random())}isNeutralState(){return this.noise===0}}w(Na,"type","Noise"),w(Na,"defaults",{noise:0}),w(Na,"uniformLocations",["uNoise","uSeed"]),V.setClass(Na);class Ba extends ze{applyTo2d(e){let{imageData:{data:r,width:n,height:i}}=e;for(let o=0;o<i;o+=this.blocksize)for(let s=0;s<n;s+=this.blocksize){const a=4*o*n+4*s,l=r[a],c=r[a+1],u=r[a+2],h=r[a+3];for(let d=o;d<Math.min(o+this.blocksize,i);d++)for(let f=s;f<Math.min(s+this.blocksize,n);f++){const m=4*d*n+4*f;r[m]=l,r[m+1]=c,r[m+2]=u,r[m+3]=h}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(e,r){e.uniform1f(r.uBlocksize,this.blocksize)}}w(Ba,"type","Pixelate"),w(Ba,"defaults",{blocksize:4}),w(Ba,"uniformLocations",["uBlocksize"]),V.setClass(Ba);class za extends ze{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=255*this.distance,i=new ae(this.color).getSource(),o=[i[0]-n,i[1]-n,i[2]-n],s=[i[0]+n,i[1]+n,i[2]+n];for(let a=0;a<r.length;a+=4){const l=r[a],c=r[a+1],u=r[a+2];l>o[0]&&c>o[1]&&u>o[2]&&l<s[0]&&c<s[1]&&u<s[2]&&(r[a+3]=0)}}sendUniformData(e,r){const n=new ae(this.color).getSource(),i=this.distance,o=[0+n[0]/255-i,0+n[1]/255-i,0+n[2]/255-i,1],s=[n[0]/255+i,n[1]/255+i,n[2]/255+i,1];e.uniform4fv(r.uLow,o),e.uniform4fv(r.uHigh,s)}}w(za,"type","RemoveColor"),w(za,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),w(za,"uniformLocations",["uLow","uHigh"]),V.setClass(za);class $a extends ze{sendUniformData(e,r){e.uniform2fv(r.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(r.uTaps,this.taps)}getFilterWindow(){const e=this.tempScale;return Math.ceil(this.lanczosLobes/e)}getCacheKey(){const e=this.getFilterWindow();return"".concat(this.type,"_").concat(e)}getFragmentSource(){const e=this.getFilterWindow();return this.generateShader(e)}getTaps(){const e=this.lanczosCreate(this.lanczosLobes),r=this.tempScale,n=this.getFilterWindow(),i=new Array(n);for(let o=1;o<=n;o++)i[o-1]=e(o*r);return i}generateShader(e){const r=new Array(e);for(let n=1;n<=e;n++)r[n-1]="".concat(n,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(e,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(r.map((n,i)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(n,") * uTaps[").concat(i,"] + texture2D(uTexture, vTexCoord - ").concat(n,") * uTaps[").concat(i,`];
              sum += 2.0 * uTaps[`).concat(i,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(e){e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,super.applyTo(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,super.applyTo(e),e.sourceHeight=e.destinationHeight}applyTo(e){Uc(e)?this.applyToForWebgl(e):this.applyTo2d(e)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(e){return r=>{if(r>=e||r<=-e)return 0;if(r<11920929e-14&&r>-11920929e-14)return 1;const n=(r*=Math.PI)/e;return Math.sin(r)/r*Math.sin(n)/n}}applyTo2d(e){const r=e.imageData,n=this.scaleX,i=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/i;const o=r.width,s=r.height,a=Math.round(o*n),l=Math.round(s*i);let c;c=this.resizeType==="sliceHack"?this.sliceByTwo(e,o,s,a,l):this.resizeType==="hermite"?this.hermiteFastResize(e,o,s,a,l):this.resizeType==="bilinear"?this.bilinearFiltering(e,o,s,a,l):this.resizeType==="lanczos"?this.lanczosResize(e,o,s,a,l):new ImageData(a,l),e.imageData=c}sliceByTwo(e,r,n,i,o){const s=e.imageData,a=.5;let l=!1,c=!1,u=r*a,h=n*a;const d=e.filterBackend.resources;let f=0,m=0;const v=r;let S=0;d.sliceByTwo||(d.sliceByTwo=Be());const p=d.sliceByTwo;(p.width<1.5*r||p.height<n)&&(p.width=1.5*r,p.height=n);const g=p.getContext("2d");for(g.clearRect(0,0,1.5*r,n),g.putImageData(s,0,0),i=Math.floor(i),o=Math.floor(o);!l||!c;)r=u,n=h,i<Math.floor(u*a)?u=Math.floor(u*a):(u=i,l=!0),o<Math.floor(h*a)?h=Math.floor(h*a):(h=o,c=!0),g.drawImage(p,f,m,r,n,v,S,u,h),f=v,m=S,S+=h;return g.getImageData(f,m,i,o)}lanczosResize(e,r,n,i,o){const s=e.imageData.data,a=e.ctx.createImageData(i,o),l=a.data,c=this.lanczosCreate(this.lanczosLobes),u=this.rcpScaleX,h=this.rcpScaleY,d=2/this.rcpScaleX,f=2/this.rcpScaleY,m=Math.ceil(u*this.lanczosLobes/2),v=Math.ceil(h*this.lanczosLobes/2),S={},p={x:0,y:0},g={x:0,y:0};return function y(x){let _,E,T,O,j,R,N,z,F,$,G;for(p.x=(x+.5)*u,g.x=Math.floor(p.x),_=0;_<o;_++){for(p.y=(_+.5)*h,g.y=Math.floor(p.y),j=0,R=0,N=0,z=0,F=0,E=g.x-m;E<=g.x+m;E++)if(!(E<0||E>=r)){$=Math.floor(1e3*Math.abs(E-p.x)),S[$]||(S[$]={});for(let D=g.y-v;D<=g.y+v;D++)D<0||D>=n||(G=Math.floor(1e3*Math.abs(D-p.y)),S[$][G]||(S[$][G]=c(Math.sqrt(Math.pow($*d,2)+Math.pow(G*f,2))/1e3)),T=S[$][G],T>0&&(O=4*(D*r+E),j+=T,R+=T*s[O],N+=T*s[O+1],z+=T*s[O+2],F+=T*s[O+3]))}O=4*(_*i+x),l[O]=R/j,l[O+1]=N/j,l[O+2]=z/j,l[O+3]=F/j}return++x<i?y(x):a}(0)}bilinearFiltering(e,r,n,i,o){let s,a,l,c,u,h,d,f,m,v,S,p,g,y=0;const x=this.rcpScaleX,_=this.rcpScaleY,E=4*(r-1),T=e.imageData.data,O=e.ctx.createImageData(i,o),j=O.data;for(d=0;d<o;d++)for(f=0;f<i;f++)for(u=Math.floor(x*f),h=Math.floor(_*d),m=x*f-u,v=_*d-h,g=4*(h*r+u),S=0;S<4;S++)s=T[g+S],a=T[g+4+S],l=T[g+E+S],c=T[g+E+4+S],p=s*(1-m)*(1-v)+a*m*(1-v)+l*v*(1-m)+c*m*v,j[y++]=p;return O}hermiteFastResize(e,r,n,i,o){const s=this.rcpScaleX,a=this.rcpScaleY,l=Math.ceil(s/2),c=Math.ceil(a/2),u=e.imageData.data,h=e.ctx.createImageData(i,o),d=h.data;for(let f=0;f<o;f++)for(let m=0;m<i;m++){const v=4*(m+f*i);let S=0,p=0,g=0,y=0,x=0,_=0,E=0;const T=(f+.5)*a;for(let O=Math.floor(f*a);O<(f+1)*a;O++){const j=Math.abs(T-(O+.5))/c,R=(m+.5)*s,N=j*j;for(let z=Math.floor(m*s);z<(m+1)*s;z++){let F=Math.abs(R-(z+.5))/l;const $=Math.sqrt(N+F*F);$>1&&$<-1||(S=2*$*$*$-3*$*$+1,S>0&&(F=4*(z+O*r),E+=S*u[F+3],g+=S,u[F+3]<255&&(S=S*u[F+3]/250),y+=S*u[F],x+=S*u[F+1],_+=S*u[F+2],p+=S))}}d[v]=y/p,d[v+1]=x/p,d[v+2]=_/p,d[v+3]=E/g}return h}}w($a,"type","Resize"),w($a,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),w($a,"uniformLocations",["uDelta","uTaps"]),V.setClass($a);class Ha extends ze{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=-this.saturation;for(let i=0;i<r.length;i+=4){const o=Math.max(r[i],r[i+1],r[i+2]);r[i]+=o!==r[i]?(o-r[i])*n:0,r[i+1]+=o!==r[i+1]?(o-r[i+1])*n:0,r[i+2]+=o!==r[i+2]?(o-r[i+2])*n:0}}sendUniformData(e,r){e.uniform1f(r.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}w(Ha,"type","Saturation"),w(Ha,"defaults",{saturation:0}),w(Ha,"uniformLocations",["uSaturation"]),V.setClass(Ha);class Wa extends ze{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=-this.vibrance;for(let i=0;i<r.length;i+=4){const o=Math.max(r[i],r[i+1],r[i+2]),s=(r[i]+r[i+1]+r[i+2])/3,a=2*Math.abs(o-s)/255*n;r[i]+=o!==r[i]?(o-r[i])*a:0,r[i+1]+=o!==r[i+1]?(o-r[i+1])*a:0,r[i+2]+=o!==r[i+2]?(o-r[i+2])*a:0}}sendUniformData(e,r){e.uniform1f(r.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}w(Wa,"type","Vibrance"),w(Wa,"defaults",{vibrance:0}),w(Wa,"uniformLocations",["uVibrance"]),V.setClass(Wa);const pT="_canvas-container_s6fjg_1",mT="_toolbar-container_s6fjg_5";var uS={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,n(a)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return r.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(uS);var vT=uS.exports;const Le=hf(vT);function ke(){return ke=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ke.apply(null,arguments)}var hS={exports:{}},ue={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og=Symbol.for("react.element"),kg=Symbol.for("react.portal"),Xc=Symbol.for("react.fragment"),Gc=Symbol.for("react.strict_mode"),Yc=Symbol.for("react.profiler"),Kc=Symbol.for("react.provider"),qc=Symbol.for("react.context"),yT=Symbol.for("react.server_context"),Qc=Symbol.for("react.forward_ref"),Zc=Symbol.for("react.suspense"),Jc=Symbol.for("react.suspense_list"),eu=Symbol.for("react.memo"),tu=Symbol.for("react.lazy"),ST=Symbol.for("react.offscreen"),dS;dS=Symbol.for("react.module.reference");function Zt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Og:switch(t=t.type,t){case Xc:case Yc:case Gc:case Zc:case Jc:return t;default:switch(t=t&&t.$$typeof,t){case yT:case qc:case Qc:case tu:case eu:case Kc:return t;default:return e}}case kg:return e}}}ue.ContextConsumer=qc;ue.ContextProvider=Kc;ue.Element=Og;ue.ForwardRef=Qc;ue.Fragment=Xc;ue.Lazy=tu;ue.Memo=eu;ue.Portal=kg;ue.Profiler=Yc;ue.StrictMode=Gc;ue.Suspense=Zc;ue.SuspenseList=Jc;ue.isAsyncMode=function(){return!1};ue.isConcurrentMode=function(){return!1};ue.isContextConsumer=function(t){return Zt(t)===qc};ue.isContextProvider=function(t){return Zt(t)===Kc};ue.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Og};ue.isForwardRef=function(t){return Zt(t)===Qc};ue.isFragment=function(t){return Zt(t)===Xc};ue.isLazy=function(t){return Zt(t)===tu};ue.isMemo=function(t){return Zt(t)===eu};ue.isPortal=function(t){return Zt(t)===kg};ue.isProfiler=function(t){return Zt(t)===Yc};ue.isStrictMode=function(t){return Zt(t)===Gc};ue.isSuspense=function(t){return Zt(t)===Zc};ue.isSuspenseList=function(t){return Zt(t)===Jc};ue.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Xc||t===Yc||t===Gc||t===Zc||t===Jc||t===ST||typeof t=="object"&&t!==null&&(t.$$typeof===tu||t.$$typeof===eu||t.$$typeof===Kc||t.$$typeof===qc||t.$$typeof===Qc||t.$$typeof===dS||t.getModuleId!==void 0)};ue.typeOf=Zt;hS.exports=ue;var vl=hS.exports,Td={},xT=function(e){};function CT(t,e){}function _T(t,e){}function wT(){Td={}}function fS(t,e,r){!e&&!Td[r]&&(t(!1,r),Td[r]=!0)}function Ks(t,e){fS(CT,t,e)}function bT(t,e){fS(_T,t,e)}Ks.preMessage=xT;Ks.resetWarned=wT;Ks.noteOnce=bT;function se(t){"@babel/helpers - typeof";return se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(t)}function TT(t,e){if(se(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(se(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gS(t){var e=TT(t,"string");return se(e)=="symbol"?e:e+""}function X(t,e,r){return(e=gS(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function W(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vm(Object(r),!0).forEach(function(n){X(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vm(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Um(t){return t instanceof HTMLElement||t instanceof SVGElement}function ET(t){return t&&se(t)==="object"&&Um(t.nativeElement)?t.nativeElement:Um(t)?t:null}function OT(t){var e=ET(t);if(e)return e;if(t instanceof q.Component){var r;return(r=ud.findDOMNode)===null||r===void 0?void 0:r.call(ud,t)}return null}function pS(t,e,r){var n=C.useRef({});return(!("value"in n.current)||r(n.current.condition,e))&&(n.current.value=t(),n.current.condition=e),n.current.value}var mS=function(e,r){typeof e=="function"?e(r):se(e)==="object"&&e&&"current"in e&&(e.current=r)},Mg=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);return i.length<=1?i[0]:function(o){r.forEach(function(s){mS(s,o)})}},vS=function(e){var r,n,i=vl.isMemo(e)?e.type.type:e.type;return!(typeof i=="function"&&!((r=i.prototype)!==null&&r!==void 0&&r.render)&&i.$$typeof!==vl.ForwardRef||typeof e=="function"&&!((n=e.prototype)!==null&&n!==void 0&&n.render)&&e.$$typeof!==vl.ForwardRef)};function Xm(t){return C.isValidElement(t)&&!vl.isFragment(t)}Number(C.version.split(".")[0])>=19;function Jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gS(n.key),n)}}function er(t,e,r){return e&&Gm(t.prototype,e),r&&Gm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ed(t,e){return Ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ed(t,e)}function qs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ed(t,e)}function uc(t){return uc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uc(t)}function yS(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yS=function(){return!!t})()}function oi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kT(t,e){if(e&&(se(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oi(t)}function Qs(t){var e=yS();return function(){var r,n=uc(t);if(e){var i=uc(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return kT(this,r)}}function MT(t,e){var r=Object.assign({},t);return Array.isArray(e)&&e.forEach(function(n){delete r[n]}),r}function Od(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function PT(t){if(Array.isArray(t))return Od(t)}function SS(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pg(t,e){if(t){if(typeof t=="string")return Od(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Od(t,e):void 0}}function DT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Et(t){return PT(t)||SS(t)||Pg(t)||DT()}var xS=function(e){return+setTimeout(e,16)},CS=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(xS=function(e){return window.requestAnimationFrame(e)},CS=function(e){return window.cancelAnimationFrame(e)});var Ym=0,Dg=new Map;function _S(t){Dg.delete(t)}var mi=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Ym+=1;var n=Ym;function i(o){if(o===0)_S(n),e();else{var s=xS(function(){i(o-1)});Dg.set(n,s)}}return i(r),n};mi.cancel=function(t){var e=Dg.get(t);return _S(t),CS(e)};function wS(t){if(Array.isArray(t))return t}function AT(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function bS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J(t,e){return wS(t)||AT(t,e)||Pg(t,e)||bS()}function Ds(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function un(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function jT(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var r=e;r;){if(r===t)return!0;r=r.parentNode}return!1}var Km="data-rc-order",qm="data-rc-priority",LT="rc-util-key",kd=new Map;function TS(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):LT}function ru(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function RT(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function Ag(t){return Array.from((kd.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function ES(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!un())return null;var r=e.csp,n=e.prepend,i=e.priority,o=i===void 0?0:i,s=RT(n),a=s==="prependQueue",l=document.createElement("style");l.setAttribute(Km,s),a&&o&&l.setAttribute(qm,"".concat(o)),r!=null&&r.nonce&&(l.nonce=r==null?void 0:r.nonce),l.innerHTML=t;var c=ru(e),u=c.firstChild;if(n){if(a){var h=(e.styles||Ag(c)).filter(function(d){if(!["prepend","prependQueue"].includes(d.getAttribute(Km)))return!1;var f=Number(d.getAttribute(qm)||0);return o>=f});if(h.length)return c.insertBefore(l,h[h.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function OS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=ru(e);return(e.styles||Ag(r)).find(function(n){return n.getAttribute(TS(e))===t})}function kS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=OS(t,e);if(r){var n=ru(e);n.removeChild(r)}}function FT(t,e){var r=kd.get(t);if(!r||!jT(document,r)){var n=ES("",e),i=n.parentNode;kd.set(t,i),t.removeChild(n)}}function si(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=ru(r),i=Ag(n),o=W(W({},r),{},{styles:i});FT(n,o);var s=OS(e,o);if(s){var a,l;if((a=o.csp)!==null&&a!==void 0&&a.nonce&&s.nonce!==((l=o.csp)===null||l===void 0?void 0:l.nonce)){var c;s.nonce=(c=o.csp)===null||c===void 0?void 0:c.nonce}return s.innerHTML!==t&&(s.innerHTML=t),s}var u=ES(t,o);return u.setAttribute(TS(o),e),u}function IT(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}function sn(t,e){if(t==null)return{};var r,n,i=IT(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.includes(r)||{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function NT(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=new Set;function i(o,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=n.has(o);if(Ks(!l,"Warning: There may be circular references"),l)return!1;if(o===s)return!0;if(r&&a>1)return!1;n.add(o);var c=a+1;if(Array.isArray(o)){if(!Array.isArray(s)||o.length!==s.length)return!1;for(var u=0;u<o.length;u++)if(!i(o[u],s[u],c))return!1;return!0}if(o&&s&&se(o)==="object"&&se(s)==="object"){var h=Object.keys(o);return h.length!==Object.keys(s).length?!1:h.every(function(d){return i(o[d],s[d],c)})}return!1}return i(t,e)}var BT="%";function Md(t){return t.join(BT)}var zT=function(){function t(e){Jt(this,t),X(this,"instanceId",void 0),X(this,"cache",new Map),this.instanceId=e}return er(t,[{key:"get",value:function(r){return this.opGet(Md(r))}},{key:"opGet",value:function(r){return this.cache.get(r)||null}},{key:"update",value:function(r,n){return this.opUpdate(Md(r),n)}},{key:"opUpdate",value:function(r,n){var i=this.cache.get(r),o=n(i);o===null?this.cache.delete(r):this.cache.set(r,o)}}]),t}(),co="data-token-hash",_r="data-css-hash",wn="__cssinjs_instance__";function $T(){var t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(_r,"]"))||[],r=document.head.firstChild;Array.from(e).forEach(function(i){i[wn]=i[wn]||t,i[wn]===t&&document.head.insertBefore(i,r)});var n={};Array.from(document.querySelectorAll("style[".concat(_r,"]"))).forEach(function(i){var o=i.getAttribute(_r);if(n[o]){if(i[wn]===t){var s;(s=i.parentNode)===null||s===void 0||s.removeChild(i)}}else n[o]=!0})}return new zT(t)}var nu=C.createContext({hashPriority:"low",cache:$T(),defaultCache:!0});function HT(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var jg=function(){function t(){Jt(this,t),X(this,"cache",void 0),X(this,"keys",void 0),X(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return er(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(r){var n,i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s={map:this.cache};return r.forEach(function(a){if(!s)s=void 0;else{var l;s=(l=s)===null||l===void 0||(l=l.map)===null||l===void 0?void 0:l.get(a)}}),(n=s)!==null&&n!==void 0&&n.value&&o&&(s.value[1]=this.cacheCallTimes++),(i=s)===null||i===void 0?void 0:i.value}},{key:"get",value:function(r){var n;return(n=this.internalGet(r,!0))===null||n===void 0?void 0:n[0]}},{key:"has",value:function(r){return!!this.internalGet(r)}},{key:"set",value:function(r,n){var i=this;if(!this.has(r)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var o=this.keys.reduce(function(c,u){var h=J(c,2),d=h[1];return i.internalGet(u)[1]<d?[u,i.internalGet(u)[1]]:c},[this.keys[0],this.cacheCallTimes]),s=J(o,1),a=s[0];this.delete(a)}this.keys.push(r)}var l=this.cache;r.forEach(function(c,u){if(u===r.length-1)l.set(c,{value:[n,i.cacheCallTimes++]});else{var h=l.get(c);h?h.map||(h.map=new Map):l.set(c,{map:new Map}),l=l.get(c).map}})}},{key:"deleteByPath",value:function(r,n){var i=r.get(n[0]);if(n.length===1){var o;return i.map?r.set(n[0],{map:i.map}):r.delete(n[0]),(o=i.value)===null||o===void 0?void 0:o[0]}var s=this.deleteByPath(i.map,n.slice(1));return(!i.map||i.map.size===0)&&!i.value&&r.delete(n[0]),s}},{key:"delete",value:function(r){if(this.has(r))return this.keys=this.keys.filter(function(n){return!HT(n,r)}),this.deleteByPath(this.cache,r)}}]),t}();X(jg,"MAX_CACHE_SIZE",20);X(jg,"MAX_CACHE_OFFSET",5);var Qm=0,MS=function(){function t(e){Jt(this,t),X(this,"derivatives",void 0),X(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=Qm,e.length===0&&(e.length>0,void 0),Qm+=1}return er(t,[{key:"getDerivativeToken",value:function(r){return this.derivatives.reduce(function(n,i){return i(r,n)},void 0)}}]),t}(),Ju=new jg;function Pd(t){var e=Array.isArray(t)?t:[t];return Ju.has(e)||Ju.set(e,new MS(e)),Ju.get(e)}var WT=new WeakMap,eh={};function VT(t,e){for(var r=WT,n=0;n<e.length;n+=1){var i=e[n];r.has(i)||r.set(i,new WeakMap),r=r.get(i)}return r.has(eh)||r.set(eh,t()),r.get(eh)}var Zm=new WeakMap;function ls(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=Zm.get(t)||"";return r||(Object.keys(t).forEach(function(n){var i=t[n];r+=n,i instanceof MS?r+=i.id:i&&se(i)==="object"?r+=ls(i,e):r+=i}),e&&(r=Ds(r)),Zm.set(t,r)),r}function Jm(t,e){return Ds("".concat(e,"_").concat(ls(t,!0)))}var Dd=un();function Nn(t){return typeof t=="number"?"".concat(t,"px"):t}function hc(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(i)return t;var o=W(W({},n),{},X(X({},co,e),_r,r)),s=Object.keys(o).map(function(a){var l=o[a];return l?"".concat(a,'="').concat(l,'"'):null}).filter(function(a){return a}).join(" ");return"<style ".concat(s,">").concat(t,"</style>")}var yl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(r?"".concat(r,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},UT=function(e,r,n){return Object.keys(e).length?".".concat(r).concat(n!=null&&n.scope?".".concat(n.scope):"","{").concat(Object.entries(e).map(function(i){var o=J(i,2),s=o[0],a=o[1];return"".concat(s,":").concat(a,";")}).join(""),"}"):""},PS=function(e,r,n){var i={},o={};return Object.entries(e).forEach(function(s){var a,l,c=J(s,2),u=c[0],h=c[1];if(n!=null&&(a=n.preserve)!==null&&a!==void 0&&a[u])o[u]=h;else if((typeof h=="string"||typeof h=="number")&&!(n!=null&&(l=n.ignore)!==null&&l!==void 0&&l[u])){var d,f=yl(u,n==null?void 0:n.prefix);i[f]=typeof h=="number"&&!(n!=null&&(d=n.unitless)!==null&&d!==void 0&&d[u])?"".concat(h,"px"):String(h),o[u]="var(".concat(f,")")}}),[o,UT(i,r,{scope:n==null?void 0:n.scope})]},e0=un()?C.useLayoutEffect:C.useEffect,XT=function(e,r){var n=C.useRef(!0);e0(function(){return e(n.current)},r),e0(function(){return n.current=!1,function(){n.current=!0}},[])},GT=W({},mf),t0=GT.useInsertionEffect,YT=function(e,r,n){C.useMemo(e,n),XT(function(){return r(!0)},n)},KT=t0?function(t,e,r){return t0(function(){return t(),e()},r)}:YT,qT=W({},mf),QT=qT.useInsertionEffect,ZT=function(e){var r=[],n=!1;function i(o){n||r.push(o)}return C.useEffect(function(){return n=!1,function(){n=!0,r.length&&r.forEach(function(o){return o()})}},e),i},JT=function(){return function(e){e()}},eE=typeof QT<"u"?ZT:JT;function Lg(t,e,r,n,i){var o=C.useContext(nu),s=o.cache,a=[t].concat(Et(e)),l=Md(a),c=eE([l]),u=function(m){s.opUpdate(l,function(v){var S=v||[void 0,void 0],p=J(S,2),g=p[0],y=g===void 0?0:g,x=p[1],_=x,E=_||r(),T=[y,E];return m?m(T):T})};C.useMemo(function(){u()},[l]);var h=s.opGet(l),d=h[1];return KT(function(){i==null||i(d)},function(f){return u(function(m){var v=J(m,2),S=v[0],p=v[1];return f&&S===0&&(i==null||i(d)),[S+1,p]}),function(){s.opUpdate(l,function(m){var v=m||[],S=J(v,2),p=S[0],g=p===void 0?0:p,y=S[1],x=g-1;return x===0?(c(function(){(f||!s.opGet(l))&&(n==null||n(y,!1))}),null):[g-1,y]})}},[l]),d}var tE={},rE="css",Yn=new Map;function nE(t){Yn.set(t,(Yn.get(t)||0)+1)}function iE(t,e){if(typeof document<"u"){var r=document.querySelectorAll("style[".concat(co,'="').concat(t,'"]'));r.forEach(function(n){if(n[wn]===e){var i;(i=n.parentNode)===null||i===void 0||i.removeChild(n)}})}}var oE=0;function sE(t,e){Yn.set(t,(Yn.get(t)||0)-1);var r=Array.from(Yn.keys()),n=r.filter(function(i){var o=Yn.get(i)||0;return o<=0});r.length-n.length>oE&&n.forEach(function(i){iE(i,e),Yn.delete(i)})}var aE=function(e,r,n,i){var o=n.getDerivativeToken(e),s=W(W({},o),r);return i&&(s=i(s)),s},DS="token";function lE(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=C.useContext(nu),i=n.cache.instanceId,o=n.container,s=r.salt,a=s===void 0?"":s,l=r.override,c=l===void 0?tE:l,u=r.formatToken,h=r.getComputedToken,d=r.cssVar,f=VT(function(){return Object.assign.apply(Object,[{}].concat(Et(e)))},e),m=ls(f),v=ls(c),S=d?ls(d):"",p=Lg(DS,[a,t.id,m,v,S],function(){var g,y=h?h(f,c,t):aE(f,c,t,u),x=W({},y),_="";if(d){var E=PS(y,d.key,{prefix:d.prefix,ignore:d.ignore,unitless:d.unitless,preserve:d.preserve}),T=J(E,2);y=T[0],_=T[1]}var O=Jm(y,a);y._tokenKey=O,x._tokenKey=Jm(x,a);var j=(g=d==null?void 0:d.key)!==null&&g!==void 0?g:O;y._themeKey=j,nE(j);var R="".concat(rE,"-").concat(Ds(O));return y._hashId=R,[y,R,x,_,(d==null?void 0:d.key)||""]},function(g){sE(g[0]._themeKey,i)},function(g){var y=J(g,4),x=y[0],_=y[3];if(d&&_){var E=si(_,Ds("css-variables-".concat(x._themeKey)),{mark:_r,prepend:"queue",attachTo:o,priority:-999});E[wn]=i,E.setAttribute(co,x._themeKey)}});return p}var cE=function(e,r,n){var i=J(e,5),o=i[2],s=i[3],a=i[4],l=n||{},c=l.plain;if(!s)return null;var u=o._tokenKey,h=-999,d={"data-rc-order":"prependQueue","data-rc-priority":"".concat(h)},f=hc(s,a,u,d,c);return[h,u,f]},uE={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},AS="comm",jS="rule",LS="decl",hE="@import",dE="@keyframes",fE="@layer",RS=Math.abs,Rg=String.fromCharCode;function FS(t){return t.trim()}function Sl(t,e,r){return t.replace(e,r)}function gE(t,e,r){return t.indexOf(e,r)}function As(t,e){return t.charCodeAt(e)|0}function uo(t,e,r){return t.slice(e,r)}function Pr(t){return t.length}function pE(t){return t.length}function Va(t,e){return e.push(t),t}var iu=1,ho=1,IS=0,qt=0,De=0,bo="";function Fg(t,e,r,n,i,o,s,a){return{value:t,root:e,parent:r,type:n,props:i,children:o,line:iu,column:ho,length:s,return:"",siblings:a}}function mE(){return De}function vE(){return De=qt>0?As(bo,--qt):0,ho--,De===10&&(ho=1,iu--),De}function wr(){return De=qt<IS?As(bo,qt++):0,ho++,De===10&&(ho=1,iu++),De}function bn(){return As(bo,qt)}function xl(){return qt}function ou(t,e){return uo(bo,t,e)}function js(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yE(t){return iu=ho=1,IS=Pr(bo=t),qt=0,[]}function SE(t){return bo="",t}function th(t){return FS(ou(qt-1,Ad(t===91?t+2:t===40?t+1:t)))}function xE(t){for(;(De=bn())&&De<33;)wr();return js(t)>2||js(De)>3?"":" "}function CE(t,e){for(;--e&&wr()&&!(De<48||De>102||De>57&&De<65||De>70&&De<97););return ou(t,xl()+(e<6&&bn()==32&&wr()==32))}function Ad(t){for(;wr();)switch(De){case t:return qt;case 34:case 39:t!==34&&t!==39&&Ad(De);break;case 40:t===41&&Ad(t);break;case 92:wr();break}return qt}function _E(t,e){for(;wr()&&t+De!==57;)if(t+De===84&&bn()===47)break;return"/*"+ou(e,qt-1)+"*"+Rg(t===47?t:wr())}function wE(t){for(;!js(bn());)wr();return ou(t,qt)}function bE(t){return SE(Cl("",null,null,null,[""],t=yE(t),0,[0],t))}function Cl(t,e,r,n,i,o,s,a,l){for(var c=0,u=0,h=s,d=0,f=0,m=0,v=1,S=1,p=1,g=0,y="",x=i,_=o,E=n,T=y;S;)switch(m=g,g=wr()){case 40:if(m!=108&&As(T,h-1)==58){gE(T+=Sl(th(g),"&","&\f"),"&\f",RS(c?a[c-1]:0))!=-1&&(p=-1);break}case 34:case 39:case 91:T+=th(g);break;case 9:case 10:case 13:case 32:T+=xE(m);break;case 92:T+=CE(xl()-1,7);continue;case 47:switch(bn()){case 42:case 47:Va(TE(_E(wr(),xl()),e,r,l),l),(js(m||1)==5||js(bn()||1)==5)&&Pr(T)&&uo(T,-1,void 0)!==" "&&(T+=" ");break;default:T+="/"}break;case 123*v:a[c++]=Pr(T)*p;case 125*v:case 59:case 0:switch(g){case 0:case 125:S=0;case 59+u:p==-1&&(T=Sl(T,/\f/g,"")),f>0&&(Pr(T)-h||v===0&&m===47)&&Va(f>32?n0(T+";",n,r,h-1,l):n0(Sl(T," ","")+";",n,r,h-2,l),l);break;case 59:T+=";";default:if(Va(E=r0(T,e,r,c,u,i,a,y,x=[],_=[],h,o),o),g===123)if(u===0)Cl(T,e,E,E,x,o,h,a,_);else switch(d===99&&As(T,3)===110?100:d){case 100:case 108:case 109:case 115:Cl(t,E,E,n&&Va(r0(t,E,E,0,0,i,a,y,i,x=[],h,_),_),i,_,h,a,n?x:_);break;default:Cl(T,E,E,E,[""],_,0,a,_)}}c=u=f=0,v=p=1,y=T="",h=s;break;case 58:h=1+Pr(T),f=m;default:if(v<1){if(g==123)--v;else if(g==125&&v++==0&&vE()==125)continue}switch(T+=Rg(g),g*v){case 38:p=u>0?1:(T+="\f",-1);break;case 44:a[c++]=(Pr(T)-1)*p,p=1;break;case 64:bn()===45&&(T+=th(wr())),d=bn(),u=h=Pr(y=T+=wE(xl())),g++;break;case 45:m===45&&Pr(T)==2&&(v=0)}}return o}function r0(t,e,r,n,i,o,s,a,l,c,u,h){for(var d=i-1,f=i===0?o:[""],m=pE(f),v=0,S=0,p=0;v<n;++v)for(var g=0,y=uo(t,d+1,d=RS(S=s[v])),x=t;g<m;++g)(x=FS(S>0?f[g]+" "+y:Sl(y,/&\f/g,f[g])))&&(l[p++]=x);return Fg(t,e,r,i===0?jS:a,l,c,u,h)}function TE(t,e,r,n){return Fg(t,e,r,AS,Rg(mE()),uo(t,2,-2),0,n)}function n0(t,e,r,n,i){return Fg(t,e,r,LS,uo(t,0,n),uo(t,n+1,-1),n,i)}function jd(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function EE(t,e,r,n){switch(t.type){case fE:if(t.children.length)break;case hE:case LS:return t.return=t.return||t.value;case AS:return"";case dE:return t.return=t.value+"{"+jd(t.children,n)+"}";case jS:if(!Pr(t.value=t.props.join(",")))return""}return Pr(r=jd(t.children,n))?t.return=t.value+"{"+r+"}":""}var i0="data-ant-cssinjs-cache-path",NS="_FILE_STYLE__",ai,BS=!0;function OE(){if(!ai&&(ai={},un())){var t=document.createElement("div");t.className=i0,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);var e=getComputedStyle(t).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(i){var o=i.split(":"),s=J(o,2),a=s[0],l=s[1];ai[a]=l});var r=document.querySelector("style[".concat(i0,"]"));if(r){var n;BS=!1,(n=r.parentNode)===null||n===void 0||n.removeChild(r)}document.body.removeChild(t)}}function kE(t){return OE(),!!ai[t]}function ME(t){var e=ai[t],r=null;if(e&&un())if(BS)r=NS;else{var n=document.querySelector("style[".concat(_r,'="').concat(ai[t],'"]'));n?r=n.innerHTML:delete ai[t]}return[r,e]}var PE="_skip_check_",zS="_multi_value_";function _l(t){var e=jd(bE(t),EE);return e.replace(/\{%%%\:[^;];}/g,";")}function DE(t){return se(t)==="object"&&t&&(PE in t||zS in t)}function o0(t,e,r){if(!e)return t;var n=".".concat(e),i=r==="low"?":where(".concat(n,")"):n,o=t.split(",").map(function(s){var a,l=s.trim().split(/\s+/),c=l[0]||"",u=((a=c.match(/^\w+/))===null||a===void 0?void 0:a[0])||"";return c="".concat(u).concat(i).concat(c.slice(u.length)),[c].concat(Et(l.slice(1))).join(" ")});return o.join(",")}var AE=function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},i=n.root,o=n.injectHash,s=n.parentSelectors,a=r.hashId,l=r.layer;r.path;var c=r.hashPriority,u=r.transformers,h=u===void 0?[]:u;r.linters;var d="",f={};function m(p){var g=p.getName(a);if(!f[g]){var y=t(p.style,r,{root:!1,parentSelectors:s}),x=J(y,1),_=x[0];f[g]="@keyframes ".concat(p.getName(a)).concat(_)}}function v(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return p.forEach(function(y){Array.isArray(y)?v(y,g):y&&g.push(y)}),g}var S=v(Array.isArray(e)?e:[e]);return S.forEach(function(p){var g=typeof p=="string"&&!i?{}:p;if(typeof g=="string")d+="".concat(g,`
`);else if(g._keyframe)m(g);else{var y=h.reduce(function(x,_){var E;return(_==null||(E=_.visit)===null||E===void 0?void 0:E.call(_,x))||x},g);Object.keys(y).forEach(function(x){var _=y[x];if(se(_)==="object"&&_&&(x!=="animationName"||!_._keyframe)&&!DE(_)){var E=!1,T=x.trim(),O=!1;(i||o)&&a?T.startsWith("@")?E=!0:T==="&"?T=o0("",a,c):T=o0(x,a,c):i&&!a&&(T==="&"||T==="")&&(T="",O=!0);var j=t(_,r,{root:O,injectHash:E,parentSelectors:[].concat(Et(s),[T])}),R=J(j,2),N=R[0],z=R[1];f=W(W({},f),z),d+="".concat(T).concat(N)}else{let G=function(D,P){var b=D.replace(/[A-Z]/g,function(L){return"-".concat(L.toLowerCase())}),A=P;!uE[D]&&typeof A=="number"&&A!==0&&(A="".concat(A,"px")),D==="animationName"&&P!==null&&P!==void 0&&P._keyframe&&(m(P),A=P.getName(a)),d+="".concat(b,":").concat(A,";")};var F,$=(F=_==null?void 0:_.value)!==null&&F!==void 0?F:_;se(_)==="object"&&_!==null&&_!==void 0&&_[zS]&&Array.isArray($)?$.forEach(function(D){G(x,D)}):G(x,$)}})}}),i?l&&(d="@layer ".concat(l.name," {").concat(d,"}"),l.dependencies&&(f["@layer ".concat(l.name)]=l.dependencies.map(function(p){return"@layer ".concat(p,", ").concat(l.name,";")}).join(`
`))):d="{".concat(d,"}"),[d,f]};function $S(t,e){return Ds("".concat(t.join("%")).concat(e))}function jE(){return null}var HS="style";function Ld(t,e){var r=t.token,n=t.path,i=t.hashId,o=t.layer,s=t.nonce,a=t.clientOnly,l=t.order,c=l===void 0?0:l,u=C.useContext(nu),h=u.autoClear;u.mock;var d=u.defaultCache,f=u.hashPriority,m=u.container,v=u.ssrInline,S=u.transformers,p=u.linters,g=u.cache,y=u.layer,x=r._tokenKey,_=[x];y&&_.push("layer"),_.push.apply(_,Et(n));var E=Dd,T=Lg(HS,_,function(){var z=_.join("|");if(kE(z)){var F=ME(z),$=J(F,2),G=$[0],D=$[1];if(G)return[G,x,D,{},a,c]}var P=e(),b=AE(P,{hashId:i,hashPriority:f,layer:y?o:void 0,path:n.join("-"),transformers:S,linters:p}),A=J(b,2),L=A[0],I=A[1],H=_l(L),ee=$S(_,H);return[H,x,ee,I,a,c]},function(z,F){var $=J(z,3),G=$[2];(F||h)&&Dd&&kS(G,{mark:_r})},function(z){var F=J(z,4),$=F[0];F[1];var G=F[2],D=F[3];if(E&&$!==NS){var P={mark:_r,prepend:y?!1:"queue",attachTo:m,priority:c},b=typeof s=="function"?s():s;b&&(P.csp={nonce:b});var A=[],L=[];Object.keys(D).forEach(function(H){H.startsWith("@layer")?A.push(H):L.push(H)}),A.forEach(function(H){si(_l(D[H]),"_layer-".concat(H),W(W({},P),{},{prepend:!0}))});var I=si($,G,P);I[wn]=g.instanceId,I.setAttribute(co,x),L.forEach(function(H){si(_l(D[H]),"_effect-".concat(H),P)})}}),O=J(T,3),j=O[0],R=O[1],N=O[2];return function(z){var F;return!v||E||!d?F=C.createElement(jE,null):F=C.createElement("style",ke({},X(X({},co,R),_r,N),{dangerouslySetInnerHTML:{__html:j}})),C.createElement(C.Fragment,null,F,z)}}var LE=function(e,r,n){var i=J(e,6),o=i[0],s=i[1],a=i[2],l=i[3],c=i[4],u=i[5],h=n||{},d=h.plain;if(c)return null;var f=o,m={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)};return f=hc(o,s,a,m,d),l&&Object.keys(l).forEach(function(v){if(!r[v]){r[v]=!0;var S=_l(l[v]),p=hc(S,s,"_effect-".concat(v),m,d);v.startsWith("@layer")?f=p+f:f+=p}}),[u,a,f]},WS="cssVar",RE=function(e,r){var n=e.key,i=e.prefix,o=e.unitless,s=e.ignore,a=e.token,l=e.scope,c=l===void 0?"":l,u=C.useContext(nu),h=u.cache.instanceId,d=u.container,f=a._tokenKey,m=[].concat(Et(e.path),[n,c,f]),v=Lg(WS,m,function(){var S=r(),p=PS(S,n,{prefix:i,unitless:o,ignore:s,scope:c}),g=J(p,2),y=g[0],x=g[1],_=$S(m,x);return[y,x,_,n]},function(S){var p=J(S,3),g=p[2];Dd&&kS(g,{mark:_r})},function(S){var p=J(S,3),g=p[1],y=p[2];if(g){var x=si(g,y,{mark:_r,prepend:"queue",attachTo:d,priority:-999});x[wn]=h,x.setAttribute(co,n)}});return v},FE=function(e,r,n){var i=J(e,4),o=i[1],s=i[2],a=i[3],l=n||{},c=l.plain;if(!o)return null;var u=-999,h={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)},d=hc(o,a,s,h,c);return[u,s,d]};X(X(X({},HS,LE),DS,cE),WS,FE);var s0=function(){function t(e,r){Jt(this,t),X(this,"name",void 0),X(this,"style",void 0),X(this,"_keyframe",!0),this.name=e,this.style=r}return er(t,[{key:"getName",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r?"".concat(r,"-").concat(this.name):this.name}}]),t}();function Ei(t){return t.notSplit=!0,t}Ei(["borderTop","borderBottom"]),Ei(["borderTop"]),Ei(["borderBottom"]),Ei(["borderLeft","borderRight"]),Ei(["borderLeft"]),Ei(["borderRight"]);var Ig=C.createContext({});function IE(t){return wS(t)||SS(t)||Pg(t)||bS()}function Rd(t,e){for(var r=t,n=0;n<e.length;n+=1){if(r==null)return;r=r[e[n]]}return r}function VS(t,e,r,n){if(!e.length)return r;var i=IE(e),o=i[0],s=i.slice(1),a;return!t&&typeof o=="number"?a=[]:Array.isArray(t)?a=Et(t):a=W({},t),n&&r===void 0&&s.length===1?delete a[o][s[0]]:a[o]=VS(a[o],s,r,n),a}function rh(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&n&&r===void 0&&!Rd(t,e.slice(0,-1))?t:VS(t,e,r,n)}function NE(t){return se(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function a0(t){return Array.isArray(t)?[]:{}}var BE=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function zE(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=a0(e[0]);return e.forEach(function(i){function o(s,a){var l=new Set(a),c=Rd(i,s),u=Array.isArray(c);if(u||NE(c)){if(!l.has(c)){l.add(c);var h=Rd(n,s);u?n=rh(n,s,[]):(!h||se(h)!=="object")&&(n=rh(n,s,a0(c))),BE(c).forEach(function(d){o([].concat(Et(s),[d]),l)})}}else n=rh(n,s,c)}o([])}),n}const $E=C.createContext({}),HE=C.createContext(void 0);var WE={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},VE={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},UE=W(W({},VE),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const US={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},l0={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},UE),timePickerLocale:Object.assign({},US)},Pt="${label} is not a valid ${type}",su={locale:"en",Pagination:WE,DatePicker:l0,TimePicker:US,Calendar:l0,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Pt,method:Pt,array:Pt,object:Pt,number:Pt,date:Pt,boolean:Pt,integer:Pt,float:Pt,regexp:Pt,email:Pt,url:Pt,hex:Pt},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};Object.assign({},su.Modal);let wl=[];const c0=()=>wl.reduce((t,e)=>Object.assign(Object.assign({},t),e),su.Modal);function XE(t){if(t){const e=Object.assign({},t);return wl.push(e),c0(),()=>{wl=wl.filter(r=>r!==e),c0()}}Object.assign({},su.Modal)}const XS=C.createContext(void 0),GE="internalMark",YE=t=>{const{locale:e={},children:r,_ANT_MARK__:n}=t;C.useEffect(()=>XE(e==null?void 0:e.Modal),[e]);const i=C.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return C.createElement(XS.Provider,{value:i},r)};function Ze(t,e){KE(t)&&(t="100%");var r=qE(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function Ua(t){return Math.min(1,Math.max(0,t))}function KE(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function qE(t){return typeof t=="string"&&t.indexOf("%")!==-1}function GS(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Xa(t){return t<=1?"".concat(Number(t)*100,"%"):t}function ei(t){return t.length===1?"0"+t:String(t)}function QE(t,e,r){return{r:Ze(t,255)*255,g:Ze(e,255)*255,b:Ze(r,255)*255}}function u0(t,e,r){t=Ze(t,255),e=Ze(e,255),r=Ze(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),o=0,s=0,a=(n+i)/2;if(n===i)s=0,o=0;else{var l=n-i;switch(s=a>.5?l/(2-n-i):l/(n+i),n){case t:o=(e-r)/l+(e<r?6:0);break;case e:o=(r-t)/l+2;break;case r:o=(t-e)/l+4;break}o/=6}return{h:o,s,l:a}}function nh(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*(6*r):r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function ZE(t,e,r){var n,i,o;if(t=Ze(t,360),e=Ze(e,100),r=Ze(r,100),e===0)i=r,o=r,n=r;else{var s=r<.5?r*(1+e):r+e-r*e,a=2*r-s;n=nh(a,s,t+1/3),i=nh(a,s,t),o=nh(a,s,t-1/3)}return{r:n*255,g:i*255,b:o*255}}function Fd(t,e,r){t=Ze(t,255),e=Ze(e,255),r=Ze(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),o=0,s=n,a=n-i,l=n===0?0:a/n;if(n===i)o=0;else{switch(n){case t:o=(e-r)/a+(e<r?6:0);break;case e:o=(r-t)/a+2;break;case r:o=(t-e)/a+4;break}o/=6}return{h:o,s:l,v:s}}function JE(t,e,r){t=Ze(t,360)*6,e=Ze(e,100),r=Ze(r,100);var n=Math.floor(t),i=t-n,o=r*(1-e),s=r*(1-i*e),a=r*(1-(1-i)*e),l=n%6,c=[r,s,o,o,a,r][l],u=[a,r,r,s,o,o][l],h=[o,o,a,r,r,s][l];return{r:c*255,g:u*255,b:h*255}}function Id(t,e,r,n){var i=[ei(Math.round(t).toString(16)),ei(Math.round(e).toString(16)),ei(Math.round(r).toString(16))];return n&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function eO(t,e,r,n,i){var o=[ei(Math.round(t).toString(16)),ei(Math.round(e).toString(16)),ei(Math.round(r).toString(16)),ei(tO(n))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function tO(t){return Math.round(parseFloat(t)*255).toString(16)}function h0(t){return Dt(t)/255}function Dt(t){return parseInt(t,16)}function rO(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var Nd={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function ki(t){var e={r:0,g:0,b:0},r=1,n=null,i=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=oO(t)),typeof t=="object"&&($r(t.r)&&$r(t.g)&&$r(t.b)?(e=QE(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):$r(t.h)&&$r(t.s)&&$r(t.v)?(n=Xa(t.s),i=Xa(t.v),e=JE(t.h,n,i),s=!0,a="hsv"):$r(t.h)&&$r(t.s)&&$r(t.l)&&(n=Xa(t.s),o=Xa(t.l),e=ZE(t.h,n,o),s=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(r=t.a)),r=GS(r),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}var nO="[-\\+]?\\d+%?",iO="[-\\+]?\\d*\\.\\d+%?",Tn="(?:".concat(iO,")|(?:").concat(nO,")"),ih="[\\s|\\(]+(".concat(Tn,")[,|\\s]+(").concat(Tn,")[,|\\s]+(").concat(Tn,")\\s*\\)?"),oh="[\\s|\\(]+(".concat(Tn,")[,|\\s]+(").concat(Tn,")[,|\\s]+(").concat(Tn,")[,|\\s]+(").concat(Tn,")\\s*\\)?"),cr={CSS_UNIT:new RegExp(Tn),rgb:new RegExp("rgb"+ih),rgba:new RegExp("rgba"+oh),hsl:new RegExp("hsl"+ih),hsla:new RegExp("hsla"+oh),hsv:new RegExp("hsv"+ih),hsva:new RegExp("hsva"+oh),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function oO(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(Nd[t])t=Nd[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=cr.rgb.exec(t);return r?{r:r[1],g:r[2],b:r[3]}:(r=cr.rgba.exec(t),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=cr.hsl.exec(t),r?{h:r[1],s:r[2],l:r[3]}:(r=cr.hsla.exec(t),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=cr.hsv.exec(t),r?{h:r[1],s:r[2],v:r[3]}:(r=cr.hsva.exec(t),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=cr.hex8.exec(t),r?{r:Dt(r[1]),g:Dt(r[2]),b:Dt(r[3]),a:h0(r[4]),format:e?"name":"hex8"}:(r=cr.hex6.exec(t),r?{r:Dt(r[1]),g:Dt(r[2]),b:Dt(r[3]),format:e?"name":"hex"}:(r=cr.hex4.exec(t),r?{r:Dt(r[1]+r[1]),g:Dt(r[2]+r[2]),b:Dt(r[3]+r[3]),a:h0(r[4]+r[4]),format:e?"name":"hex8"}:(r=cr.hex3.exec(t),r?{r:Dt(r[1]+r[1]),g:Dt(r[2]+r[2]),b:Dt(r[3]+r[3]),format:e?"name":"hex"}:!1)))))))))}function $r(t){return!!cr.CSS_UNIT.exec(String(t))}var ct=function(){function t(e,r){e===void 0&&(e=""),r===void 0&&(r={});var n;if(e instanceof t)return e;typeof e=="number"&&(e=rO(e)),this.originalInput=e;var i=ki(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(n=r.format)!==null&&n!==void 0?n:i.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),r,n,i,o=e.r/255,s=e.g/255,a=e.b/255;return o<=.03928?r=o/12.92:r=Math.pow((o+.055)/1.055,2.4),s<=.03928?n=s/12.92:n=Math.pow((s+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*r+.7152*n+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=GS(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=Fd(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=Fd(this.r,this.g,this.b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(r,", ").concat(n,"%, ").concat(i,"%)"):"hsva(".concat(r,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=u0(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=u0(this.r,this.g,this.b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(r,", ").concat(n,"%, ").concat(i,"%)"):"hsla(".concat(r,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),Id(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),eO(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),r=Math.round(this.g),n=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(r,", ").concat(n,")"):"rgba(".concat(e,", ").concat(r,", ").concat(n,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(r){return"".concat(Math.round(Ze(r,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(r){return Math.round(Ze(r,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+Id(this.r,this.g,this.b,!1),r=0,n=Object.entries(Nd);r<n.length;r++){var i=n[r],o=i[0],s=i[1];if(e===s)return o}return!1},t.prototype.toString=function(e){var r=!!e;e=e??this.format;var n=!1,i=this.a<1&&this.a>=0,o=!r&&i&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l+=e/100,r.l=Ua(r.l),new t(r)},t.prototype.brighten=function(e){e===void 0&&(e=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),new t(r)},t.prototype.darken=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l-=e/100,r.l=Ua(r.l),new t(r)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s-=e/100,r.s=Ua(r.s),new t(r)},t.prototype.saturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s+=e/100,r.s=Ua(r.s),new t(r)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var r=this.toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,new t(r)},t.prototype.mix=function(e,r){r===void 0&&(r=50);var n=this.toRgb(),i=new t(e).toRgb(),o=r/100,s={r:(i.r-n.r)*o+n.r,g:(i.g-n.g)*o+n.g,b:(i.b-n.b)*o+n.b,a:(i.a-n.a)*o+n.a};return new t(s)},t.prototype.analogous=function(e,r){e===void 0&&(e=6),r===void 0&&(r=30);var n=this.toHsl(),i=360/r,o=[this];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,o.push(new t(n));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var r=this.toHsv(),n=r.h,i=r.s,o=r.v,s=[],a=1/e;e--;)s.push(new t({h:n,s:i,v:o})),o=(o+a)%1;return s},t.prototype.splitcomplement=function(){var e=this.toHsl(),r=e.h;return[this,new t({h:(r+72)%360,s:e.s,l:e.l}),new t({h:(r+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var r=this.toRgb(),n=new t(e).toRgb(),i=r.a+n.a*(1-r.a);return new t({r:(r.r*r.a+n.r*n.a*(1-r.a))/i,g:(r.g*r.a+n.g*n.a*(1-r.a))/i,b:(r.b*r.a+n.b*n.a*(1-r.a))/i,a:i})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var r=this.toHsl(),n=r.h,i=[this],o=360/e,s=1;s<e;s++)i.push(new t({h:(n+s*o)%360,s:r.s,l:r.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}(),Ga=2,d0=.16,sO=.05,aO=.05,lO=.15,YS=5,KS=4,cO=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function f0(t){var e=t.r,r=t.g,n=t.b,i=Fd(e,r,n);return{h:i.h*360,s:i.s,v:i.v}}function Ya(t){var e=t.r,r=t.g,n=t.b;return"#".concat(Id(e,r,n,!1))}function uO(t,e,r){var n=r/100,i={r:(e.r-t.r)*n+t.r,g:(e.g-t.g)*n+t.g,b:(e.b-t.b)*n+t.b};return i}function g0(t,e,r){var n;return Math.round(t.h)>=60&&Math.round(t.h)<=240?n=r?Math.round(t.h)-Ga*e:Math.round(t.h)+Ga*e:n=r?Math.round(t.h)+Ga*e:Math.round(t.h)-Ga*e,n<0?n+=360:n>=360&&(n-=360),n}function p0(t,e,r){if(t.h===0&&t.s===0)return t.s;var n;return r?n=t.s-d0*e:e===KS?n=t.s+d0:n=t.s+sO*e,n>1&&(n=1),r&&e===YS&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2))}function m0(t,e,r){var n;return r?n=t.v+aO*e:n=t.v-lO*e,n>1&&(n=1),Number(n.toFixed(2))}function Ls(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[],n=ki(t),i=YS;i>0;i-=1){var o=f0(n),s=Ya(ki({h:g0(o,i,!0),s:p0(o,i,!0),v:m0(o,i,!0)}));r.push(s)}r.push(Ya(n));for(var a=1;a<=KS;a+=1){var l=f0(n),c=Ya(ki({h:g0(l,a),s:p0(l,a),v:m0(l,a)}));r.push(c)}return e.theme==="dark"?cO.map(function(u){var h=u.index,d=u.opacity,f=Ya(uO(ki(e.backgroundColor||"#141414"),ki(r[h]),d*100));return f}):r}var sh={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Bd=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];Bd.primary=Bd[5];var zd=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];zd.primary=zd[5];var $d=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];$d.primary=$d[5];var Hd=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];Hd.primary=Hd[5];var Wd=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Wd.primary=Wd[5];var Vd=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];Vd.primary=Vd[5];var Ud=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];Ud.primary=Ud[5];var Xd=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Xd.primary=Xd[5];var dc=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];dc.primary=dc[5];var Gd=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Gd.primary=Gd[5];var Yd=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];Yd.primary=Yd[5];var Kd=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];Kd.primary=Kd[5];var qd=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];qd.primary=qd[5];var ah={red:Bd,volcano:zd,orange:$d,gold:Hd,yellow:Wd,lime:Vd,green:Ud,cyan:Xd,blue:dc,geekblue:Gd,purple:Yd,magenta:Kd,grey:qd};const qS={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Rs=Object.assign(Object.assign({},qS),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});function hO(t,e){let{generateColorPalettes:r,generateNeutralColorPalettes:n}=e;const{colorSuccess:i,colorWarning:o,colorError:s,colorInfo:a,colorPrimary:l,colorBgBase:c,colorTextBase:u}=t,h=r(l),d=r(i),f=r(o),m=r(s),v=r(a),S=n(c,u),p=t.colorLink||t.colorInfo,g=r(p),y=new ct(m[1]).mix(new ct(m[3]),50).toHexString();return Object.assign(Object.assign({},S),{colorPrimaryBg:h[1],colorPrimaryBgHover:h[2],colorPrimaryBorder:h[3],colorPrimaryBorderHover:h[4],colorPrimaryHover:h[5],colorPrimary:h[6],colorPrimaryActive:h[7],colorPrimaryTextHover:h[8],colorPrimaryText:h[9],colorPrimaryTextActive:h[10],colorSuccessBg:d[1],colorSuccessBgHover:d[2],colorSuccessBorder:d[3],colorSuccessBorderHover:d[4],colorSuccessHover:d[4],colorSuccess:d[6],colorSuccessActive:d[7],colorSuccessTextHover:d[8],colorSuccessText:d[9],colorSuccessTextActive:d[10],colorErrorBg:m[1],colorErrorBgHover:m[2],colorErrorBgFilledHover:y,colorErrorBgActive:m[3],colorErrorBorder:m[3],colorErrorBorderHover:m[4],colorErrorHover:m[5],colorError:m[6],colorErrorActive:m[7],colorErrorTextHover:m[8],colorErrorText:m[9],colorErrorTextActive:m[10],colorWarningBg:f[1],colorWarningBgHover:f[2],colorWarningBorder:f[3],colorWarningBorderHover:f[4],colorWarningHover:f[4],colorWarning:f[6],colorWarningActive:f[7],colorWarningTextHover:f[8],colorWarningText:f[9],colorWarningTextActive:f[10],colorInfoBg:v[1],colorInfoBgHover:v[2],colorInfoBorder:v[3],colorInfoBorderHover:v[4],colorInfoHover:v[4],colorInfo:v[6],colorInfoActive:v[7],colorInfoTextHover:v[8],colorInfoText:v[9],colorInfoTextActive:v[10],colorLinkHover:g[4],colorLink:g[6],colorLinkActive:g[7],colorBgMask:new ct("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const dO=t=>{let e=t,r=t,n=t,i=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?r=4:t<8&&t>=7?r=5:t<14&&t>=8?r=6:t<16&&t>=14?r=7:t>=16&&(r=8),t<6&&t>=2?n=1:t>=6&&(n=2),t>4&&t<8?i=4:t>=8&&(i=6),{borderRadius:t,borderRadiusXS:n,borderRadiusSM:r,borderRadiusLG:e,borderRadiusOuter:i}};function fO(t){const{motionUnit:e,motionBase:r,borderRadius:n,lineWidth:i}=t;return Object.assign({motionDurationFast:`${(r+e).toFixed(1)}s`,motionDurationMid:`${(r+e*2).toFixed(1)}s`,motionDurationSlow:`${(r+e*3).toFixed(1)}s`,lineWidthBold:i+1},dO(n))}const gO=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function bl(t){return(t+8)/t}function pO(t){const e=new Array(10).fill(null).map((r,n)=>{const i=n-1,o=t*Math.pow(Math.E,i/5),s=n>1?Math.floor(o):Math.ceil(o);return Math.floor(s/2)*2});return e[1]=t,e.map(r=>({size:r,lineHeight:bl(r)}))}const mO=t=>{const e=pO(t),r=e.map(u=>u.size),n=e.map(u=>u.lineHeight),i=r[1],o=r[0],s=r[2],a=n[1],l=n[0],c=n[2];return{fontSizeSM:o,fontSize:i,fontSizeLG:s,fontSizeXL:r[3],fontSizeHeading1:r[6],fontSizeHeading2:r[5],fontSizeHeading3:r[4],fontSizeHeading4:r[3],fontSizeHeading5:r[2],lineHeight:a,lineHeightLG:c,lineHeightSM:l,fontHeight:Math.round(a*i),fontHeightLG:Math.round(c*s),fontHeightSM:Math.round(l*o),lineHeightHeading1:n[6],lineHeightHeading2:n[5],lineHeightHeading3:n[4],lineHeightHeading4:n[3],lineHeightHeading5:n[2]}};function vO(t){const{sizeUnit:e,sizeStep:r}=t;return{sizeXXL:e*(r+8),sizeXL:e*(r+4),sizeLG:e*(r+2),sizeMD:e*(r+1),sizeMS:e*r,size:e*r,sizeSM:e*(r-1),sizeXS:e*(r-2),sizeXXS:e*(r-3)}}const zt=(t,e)=>new ct(t).setAlpha(e).toRgbString(),Ho=(t,e)=>new ct(t).darken(e).toHexString(),yO=t=>{const e=Ls(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},SO=(t,e)=>{const r=t||"#fff",n=e||"#000";return{colorBgBase:r,colorTextBase:n,colorText:zt(n,.88),colorTextSecondary:zt(n,.65),colorTextTertiary:zt(n,.45),colorTextQuaternary:zt(n,.25),colorFill:zt(n,.15),colorFillSecondary:zt(n,.06),colorFillTertiary:zt(n,.04),colorFillQuaternary:zt(n,.02),colorBgSolid:zt(n,1),colorBgSolidHover:zt(n,.75),colorBgSolidActive:zt(n,.95),colorBgLayout:Ho(r,4),colorBgContainer:Ho(r,0),colorBgElevated:Ho(r,0),colorBgSpotlight:zt(n,.85),colorBgBlur:"transparent",colorBorder:Ho(r,15),colorBorderSecondary:Ho(r,6)}};function xO(t){sh.pink=sh.magenta,ah.pink=ah.magenta;const e=Object.keys(qS).map(r=>{const n=t[r]===sh[r]?ah[r]:Ls(t[r]);return new Array(10).fill(1).reduce((i,o,s)=>(i[`${r}-${s+1}`]=n[s],i[`${r}${s+1}`]=n[s],i),{})}).reduce((r,n)=>(r=Object.assign(Object.assign({},r),n),r),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),e),hO(t,{generateColorPalettes:yO,generateNeutralColorPalettes:SO})),mO(t.fontSize)),vO(t)),gO(t)),fO(t))}const QS=Pd(xO),Qd={token:Rs,override:{override:Rs},hashed:!0},ZS=q.createContext(Qd),fc="ant",Ng="anticon",CO=(t,e)=>e||(t?`${fc}-${t}`:fc),Qt=C.createContext({getPrefixCls:CO,iconPrefixCls:Ng}),_O=`-ant-${Date.now()}-${Math.random()}`;function wO(t,e){const r={},n=(s,a)=>{let l=s.clone();return l=(a==null?void 0:a(l))||l,l.toRgbString()},i=(s,a)=>{const l=new ct(s),c=Ls(l.toRgbString());r[`${a}-color`]=n(l),r[`${a}-color-disabled`]=c[1],r[`${a}-color-hover`]=c[4],r[`${a}-color-active`]=c[6],r[`${a}-color-outline`]=l.clone().setAlpha(.2).toRgbString(),r[`${a}-color-deprecated-bg`]=c[0],r[`${a}-color-deprecated-border`]=c[2]};if(e.primaryColor){i(e.primaryColor,"primary");const s=new ct(e.primaryColor),a=Ls(s.toRgbString());a.forEach((c,u)=>{r[`primary-${u+1}`]=c}),r["primary-color-deprecated-l-35"]=n(s,c=>c.lighten(35)),r["primary-color-deprecated-l-20"]=n(s,c=>c.lighten(20)),r["primary-color-deprecated-t-20"]=n(s,c=>c.tint(20)),r["primary-color-deprecated-t-50"]=n(s,c=>c.tint(50)),r["primary-color-deprecated-f-12"]=n(s,c=>c.setAlpha(c.getAlpha()*.12));const l=new ct(a[0]);r["primary-color-active-deprecated-f-30"]=n(l,c=>c.setAlpha(c.getAlpha()*.3)),r["primary-color-active-deprecated-d-02"]=n(l,c=>c.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`
  :root {
    ${Object.keys(r).map(s=>`--${t}-${s}: ${r[s]};`).join(`
`)}
  }
  `.trim()}function bO(t,e){const r=wO(t,e);un()&&si(r,`${_O}-dynamic-theme`)}const gc=C.createContext(!1),TO=t=>{let{children:e,disabled:r}=t;const n=C.useContext(gc);return C.createElement(gc.Provider,{value:r??n},e)},fo=C.createContext(void 0),EO=t=>{let{children:e,size:r}=t;const n=C.useContext(fo);return C.createElement(fo.Provider,{value:r||n},e)};function OO(){const t=C.useContext(gc),e=C.useContext(fo);return{componentDisabled:t,componentSize:e}}var JS=er(function t(){Jt(this,t)}),ex="CALC_UNIT",kO=new RegExp(ex,"g");function lh(t){return typeof t=="number"?"".concat(t).concat(ex):t}var MO=function(t){qs(r,t);var e=Qs(r);function r(n,i){var o;Jt(this,r),o=e.call(this),X(oi(o),"result",""),X(oi(o),"unitlessCssVar",void 0),X(oi(o),"lowPriority",void 0);var s=se(n);return o.unitlessCssVar=i,n instanceof r?o.result="(".concat(n.result,")"):s==="number"?o.result=lh(n):s==="string"&&(o.result=n),o}return er(r,[{key:"add",value:function(i){return i instanceof r?this.result="".concat(this.result," + ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," + ").concat(lh(i))),this.lowPriority=!0,this}},{key:"sub",value:function(i){return i instanceof r?this.result="".concat(this.result," - ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," - ").concat(lh(i))),this.lowPriority=!0,this}},{key:"mul",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof r?this.result="".concat(this.result," * ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," * ").concat(i)),this.lowPriority=!1,this}},{key:"div",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof r?this.result="".concat(this.result," / ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," / ").concat(i)),this.lowPriority=!1,this}},{key:"getResult",value:function(i){return this.lowPriority||i?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(i){var o=this,s=i||{},a=s.unit,l=!0;return typeof a=="boolean"?l=a:Array.from(this.unitlessCssVar).some(function(c){return o.result.includes(c)})&&(l=!1),this.result=this.result.replace(kO,l?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),r}(JS),PO=function(t){qs(r,t);var e=Qs(r);function r(n){var i;return Jt(this,r),i=e.call(this),X(oi(i),"result",0),n instanceof r?i.result=n.result:typeof n=="number"&&(i.result=n),i}return er(r,[{key:"add",value:function(i){return i instanceof r?this.result+=i.result:typeof i=="number"&&(this.result+=i),this}},{key:"sub",value:function(i){return i instanceof r?this.result-=i.result:typeof i=="number"&&(this.result-=i),this}},{key:"mul",value:function(i){return i instanceof r?this.result*=i.result:typeof i=="number"&&(this.result*=i),this}},{key:"div",value:function(i){return i instanceof r?this.result/=i.result:typeof i=="number"&&(this.result/=i),this}},{key:"equal",value:function(){return this.result}}]),r}(JS),DO=function(e,r){var n=e==="css"?MO:PO;return function(i){return new n(i,r)}},v0=function(e,r){return"".concat([r,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function pc(t){var e=C.useRef();e.current=t;var r=C.useCallback(function(){for(var n,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(n=e.current)===null||n===void 0?void 0:n.call.apply(n,[e].concat(o))},[]);return r}function Zd(t){var e=C.useRef(!1),r=C.useState(t),n=J(r,2),i=n[0],o=n[1];C.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function s(a,l){l&&e.current||o(a)}return[i,s]}function y0(t,e,r,n){var i=W({},e[t]);if(n!=null&&n.deprecatedTokens){var o=n.deprecatedTokens;o.forEach(function(a){var l=J(a,2),c=l[0],u=l[1];if(i!=null&&i[c]||i!=null&&i[u]){var h;(h=i[u])!==null&&h!==void 0||(i[u]=i==null?void 0:i[c])}})}var s=W(W({},r),i);return Object.keys(s).forEach(function(a){s[a]===e[a]&&delete s[a]}),s}var tx=typeof CSSINJS_STATISTIC<"u",Jd=!0;function xi(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(!tx)return Object.assign.apply(Object,[{}].concat(e));Jd=!1;var n={};return e.forEach(function(i){if(se(i)==="object"){var o=Object.keys(i);o.forEach(function(s){Object.defineProperty(n,s,{configurable:!0,enumerable:!0,get:function(){return i[s]}})})}}),Jd=!0,n}var S0={};function AO(){}var jO=function(e){var r,n=e,i=AO;return tx&&typeof Proxy<"u"&&(r=new Set,n=new Proxy(e,{get:function(s,a){if(Jd){var l;(l=r)===null||l===void 0||l.add(a)}return s[a]}}),i=function(s,a){var l;S0[s]={global:Array.from(r),component:W(W({},(l=S0[s])===null||l===void 0?void 0:l.component),a)}}),{token:n,keys:r,flush:i}};function x0(t,e,r){if(typeof r=="function"){var n;return r(xi(e,(n=e[t])!==null&&n!==void 0?n:{}))}return r??{}}function LO(t){return t==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return"max(".concat(n.map(function(o){return Nn(o)}).join(","),")")},min:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return"min(".concat(n.map(function(o){return Nn(o)}).join(","),")")}}}var RO=1e3*60*10,FO=function(){function t(){Jt(this,t),X(this,"map",new Map),X(this,"objectIDMap",new WeakMap),X(this,"nextID",0),X(this,"lastAccessBeat",new Map),X(this,"accessBeat",0)}return er(t,[{key:"set",value:function(r,n){this.clear();var i=this.getCompositeKey(r);this.map.set(i,n),this.lastAccessBeat.set(i,Date.now())}},{key:"get",value:function(r){var n=this.getCompositeKey(r),i=this.map.get(n);return this.lastAccessBeat.set(n,Date.now()),this.accessBeat+=1,i}},{key:"getCompositeKey",value:function(r){var n=this,i=r.map(function(o){return o&&se(o)==="object"?"obj_".concat(n.getObjectID(o)):"".concat(se(o),"_").concat(o)});return i.join("|")}},{key:"getObjectID",value:function(r){if(this.objectIDMap.has(r))return this.objectIDMap.get(r);var n=this.nextID;return this.objectIDMap.set(r,n),this.nextID+=1,n}},{key:"clear",value:function(){var r=this;if(this.accessBeat>1e4){var n=Date.now();this.lastAccessBeat.forEach(function(i,o){n-i>RO&&(r.map.delete(o),r.lastAccessBeat.delete(o))}),this.accessBeat=0}}}]),t}(),C0=new FO;function IO(t,e){return q.useMemo(function(){var r=C0.get(e);if(r)return r;var n=t();return C0.set(e,n),n},e)}var NO=function(){return{}};function BO(t){var e=t.useCSP,r=e===void 0?NO:e,n=t.useToken,i=t.usePrefix,o=t.getResetStyles,s=t.getCommonStyle,a=t.getCompUnitless;function l(d,f,m,v){var S=Array.isArray(d)?d[0]:d;function p(O){return"".concat(String(S)).concat(O.slice(0,1).toUpperCase()).concat(O.slice(1))}var g=(v==null?void 0:v.unitless)||{},y=typeof a=="function"?a(d):{},x=W(W({},y),{},X({},p("zIndexPopup"),!0));Object.keys(g).forEach(function(O){x[p(O)]=g[O]});var _=W(W({},v),{},{unitless:x,prefixToken:p}),E=u(d,f,m,_),T=c(S,m,_);return function(O){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O,R=E(O,j),N=J(R,2),z=N[1],F=T(j),$=J(F,2),G=$[0],D=$[1];return[G,z,D]}}function c(d,f,m){var v=m.unitless,S=m.injectStyle,p=S===void 0?!0:S,g=m.prefixToken,y=m.ignore,x=function(T){var O=T.rootCls,j=T.cssVar,R=j===void 0?{}:j,N=n(),z=N.realToken;return RE({path:[d],prefix:R.prefix,key:R.key,unitless:v,ignore:y,token:z,scope:O},function(){var F=x0(d,z,f),$=y0(d,z,F,{deprecatedTokens:m==null?void 0:m.deprecatedTokens});return Object.keys(F).forEach(function(G){$[g(G)]=$[G],delete $[G]}),$}),null},_=function(T){var O=n(),j=O.cssVar;return[function(R){return p&&j?q.createElement(q.Fragment,null,q.createElement(x,{rootCls:T,cssVar:j,component:d}),R):R},j==null?void 0:j.key]};return _}function u(d,f,m){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},S=Array.isArray(d)?d:[d,d],p=J(S,1),g=p[0],y=S.join("-"),x=t.layer||{name:"antd"};return function(_){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_,T=n(),O=T.theme,j=T.realToken,R=T.hashId,N=T.token,z=T.cssVar,F=i(),$=F.rootPrefixCls,G=F.iconPrefixCls,D=r(),P=z?"css":"js",b=IO(function(){var Y=new Set;return z&&Object.keys(v.unitless||{}).forEach(function(K){Y.add(yl(K,z.prefix)),Y.add(yl(K,v0(g,z.prefix)))}),DO(P,Y)},[P,g,z==null?void 0:z.prefix]),A=LO(P),L=A.max,I=A.min,H={theme:O,token:N,hashId:R,nonce:function(){return D.nonce},clientOnly:v.clientOnly,layer:x,order:v.order||-999};Ld(W(W({},H),{},{clientOnly:!1,path:["Shared",$]}),function(){return typeof o=="function"?o(N):[]});var ee=Ld(W(W({},H),{},{path:[y,_,G]}),function(){if(v.injectStyle===!1)return[];var Y=jO(N),K=Y.token,Q=Y.flush,te=x0(g,j,m),Re=".".concat(_),Me=y0(g,j,te,{deprecatedTokens:v.deprecatedTokens});z&&te&&se(te)==="object"&&Object.keys(te).forEach(function($e){te[$e]="var(".concat(yl($e,v0(g,z.prefix)),")")});var he=xi(K,{componentCls:Re,prefixCls:_,iconCls:".".concat(G),antCls:".".concat($),calc:b,max:L,min:I},z?te:Me),tr=f(he,{hashId:R,prefixCls:_,rootPrefixCls:$,iconPrefixCls:G});Q(g,Me);var pt=typeof s=="function"?s(he,_,E,v.resetFont):null;return[v.resetStyle===!1?null:pt,tr]});return[ee,R]}}function h(d,f,m){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},S=u(d,f,m,W({resetStyle:!1,order:-998},v)),p=function(y){var x=y.prefixCls,_=y.rootCls,E=_===void 0?x:_;return S(x,E),null};return p}return{genStyleHooks:l,genSubStyleComponent:h,genComponentStyleHook:u}}const zO="5.21.2";function ch(t){return t>=0&&t<=255}function Ka(t,e){const{r,g:n,b:i,a:o}=new ct(t).toRgb();if(o<1)return t;const{r:s,g:a,b:l}=new ct(e).toRgb();for(let c=.01;c<=1;c+=.01){const u=Math.round((r-s*(1-c))/c),h=Math.round((n-a*(1-c))/c),d=Math.round((i-l*(1-c))/c);if(ch(u)&&ch(h)&&ch(d))return new ct({r:u,g:h,b:d,a:Math.round(c*100)/100}).toRgbString()}return new ct({r,g:n,b:i,a:1}).toRgbString()}var $O=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function rx(t){const{override:e}=t,r=$O(t,["override"]),n=Object.assign({},e);Object.keys(Rs).forEach(d=>{delete n[d]});const i=Object.assign(Object.assign({},r),n),o=480,s=576,a=768,l=992,c=1200,u=1600;if(i.motion===!1){const d="0s";i.motionDurationFast=d,i.motionDurationMid=d,i.motionDurationSlow=d}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:Ka(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:Ka(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:Ka(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:i.lineWidth*3,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:Ka(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:s-1,screenSM:s,screenSMMin:s,screenSMMax:a-1,screenMD:a,screenMDMin:a,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:c-1,screenXL:c,screenXLMin:c,screenXLMax:u-1,screenXXL:u,screenXXLMin:u,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new ct("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new ct("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new ct("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),n)}var _0=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const nx={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},HO={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},WO={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},ix=(t,e,r)=>{const n=r.getDerivativeToken(t),{override:i}=e,o=_0(e,["override"]);let s=Object.assign(Object.assign({},n),{override:i});return s=rx(s),o&&Object.entries(o).forEach(a=>{let[l,c]=a;const{theme:u}=c,h=_0(c,["theme"]);let d=h;u&&(d=ix(Object.assign(Object.assign({},s),h),{override:h},u)),s[l]=d}),s};function To(){const{token:t,hashed:e,theme:r,override:n,cssVar:i}=q.useContext(ZS),o=`${zO}-${e||""}`,s=r||QS,[a,l,c]=lE(s,[Rs,t],{salt:o,override:n,getComputedToken:ix,formatToken:rx,cssVar:i&&{prefix:i.prefix,key:i.key,unitless:nx,ignore:HO,preserve:WO}});return[s,c,e?l:"",a,i]}const VO=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:e?"inherit":t.fontFamily}},UO=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),XO=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active, &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),GO=(t,e,r,n)=>{const i=`[class^="${e}"], [class*=" ${e}"]`,o=r?`.${r}`:i,s={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let a={};return n!==!1&&(a={fontFamily:t.fontFamily,fontSize:t.fontSize}),{[o]:Object.assign(Object.assign(Object.assign({},a),s),{[i]:s})}},YO=t=>({outline:`${Nn(t.lineWidthFocus)} solid ${t.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),KO=t=>({"&:focus-visible":Object.assign({},YO(t))}),ox=(t,e)=>{const[r,n]=To();return Ld({theme:r,token:n,hashId:"",path:["ant-design-icons",t],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>[{[`.${t}`]:Object.assign(Object.assign({},UO()),{[`.${t} .${t}-icon`]:{display:"block"}})}])},{genStyleHooks:sx,genComponentStyleHook:qO,genSubStyleComponent:QO}=BO({usePrefix:()=>{const{getPrefixCls:t,iconPrefixCls:e}=C.useContext(Qt);return{rootPrefixCls:t(),iconPrefixCls:e}},useToken:()=>{const[t,e,r,n,i]=To();return{theme:t,realToken:e,hashId:r,token:n,cssVar:i}},useCSP:()=>{const{csp:t,iconPrefixCls:e}=C.useContext(Qt);return ox(e,t),t??{}},getResetStyles:t=>[{"&":XO(t)}],getCommonStyle:GO,getCompUnitless:()=>nx}),ZO=Object.assign({},mf),{useId:w0}=ZO,JO=()=>"",ek=typeof w0>"u"?JO:w0;function tk(t,e,r){var n;const i=t||{},o=i.inherit===!1||!e?Object.assign(Object.assign({},Qd),{hashed:(n=e==null?void 0:e.hashed)!==null&&n!==void 0?n:Qd.hashed,cssVar:e==null?void 0:e.cssVar}):e,s=ek();return pS(()=>{var a,l;if(!t)return e;const c=Object.assign({},o.components);Object.keys(t.components||{}).forEach(d=>{c[d]=Object.assign(Object.assign({},c[d]),t.components[d])});const u=`css-var-${s.replace(/:/g,"")}`,h=((a=i.cssVar)!==null&&a!==void 0?a:o.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:r==null?void 0:r.prefixCls},typeof o.cssVar=="object"?o.cssVar:{}),typeof i.cssVar=="object"?i.cssVar:{}),{key:typeof i.cssVar=="object"&&((l=i.cssVar)===null||l===void 0?void 0:l.key)||u});return Object.assign(Object.assign(Object.assign({},o),i),{token:Object.assign(Object.assign({},o.token),i.token),components:c,cssVar:h})},[i,o],(a,l)=>a.some((c,u)=>{const h=l[u];return!NT(c,h,!0)}))}var rk=["children"],ax=C.createContext({});function nk(t){var e=t.children,r=sn(t,rk);return C.createElement(ax.Provider,{value:r},e)}var ik=function(t){qs(r,t);var e=Qs(r);function r(){return Jt(this,r),e.apply(this,arguments)}return er(r,[{key:"render",value:function(){return this.props.children}}]),r}(C.Component);function ok(t){var e=C.useReducer(function(a){return a+1},0),r=J(e,2),n=r[1],i=C.useRef(t),o=pc(function(){return i.current}),s=pc(function(a){i.current=typeof a=="function"?a(i.current):a,n()});return[o,s]}var gn="none",qa="appear",Qa="enter",Za="leave",b0="none",gr="prepare",Vi="start",Ui="active",Bg="end",lx="prepared";function T0(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit".concat(t)]="webkit".concat(e),r["Moz".concat(t)]="moz".concat(e),r["ms".concat(t)]="MS".concat(e),r["O".concat(t)]="o".concat(e.toLowerCase()),r}function sk(t,e){var r={animationend:T0("Animation","AnimationEnd"),transitionend:T0("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete r.animationend.animation,"TransitionEvent"in e||delete r.transitionend.transition),r}var ak=sk(un(),typeof window<"u"?window:{}),cx={};if(un()){var lk=document.createElement("div");cx=lk.style}var Ja={};function ux(t){if(Ja[t])return Ja[t];var e=ak[t];if(e)for(var r=Object.keys(e),n=r.length,i=0;i<n;i+=1){var o=r[i];if(Object.prototype.hasOwnProperty.call(e,o)&&o in cx)return Ja[t]=e[o],Ja[t]}return""}var hx=ux("animationend"),dx=ux("transitionend"),fx=!!(hx&&dx),E0=hx||"animationend",O0=dx||"transitionend";function k0(t,e){if(!t)return null;if(se(t)==="object"){var r=e.replace(/-\w/g,function(n){return n[1].toUpperCase()});return t[r]}return"".concat(t,"-").concat(e)}const ck=function(t){var e=C.useRef();function r(i){i&&(i.removeEventListener(O0,t),i.removeEventListener(E0,t))}function n(i){e.current&&e.current!==i&&r(e.current),i&&i!==e.current&&(i.addEventListener(O0,t),i.addEventListener(E0,t),e.current=i)}return C.useEffect(function(){return function(){r(e.current)}},[]),[n,r]};var gx=un()?C.useLayoutEffect:C.useEffect;const uk=function(){var t=C.useRef(null);function e(){mi.cancel(t.current)}function r(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var o=mi(function(){i<=1?n({isCanceled:function(){return o!==t.current}}):r(n,i-1)});t.current=o}return C.useEffect(function(){return function(){e()}},[]),[r,e]};var hk=[gr,Vi,Ui,Bg],dk=[gr,lx],px=!1,fk=!0;function mx(t){return t===Ui||t===Bg}const gk=function(t,e,r){var n=Zd(b0),i=J(n,2),o=i[0],s=i[1],a=uk(),l=J(a,2),c=l[0],u=l[1];function h(){s(gr,!0)}var d=e?dk:hk;return gx(function(){if(o!==b0&&o!==Bg){var f=d.indexOf(o),m=d[f+1],v=r(o);v===px?s(m,!0):m&&c(function(S){function p(){S.isCanceled()||s(m,!0)}v===!0?p():Promise.resolve(v).then(p)})}},[t,o]),C.useEffect(function(){return function(){u()}},[]),[h,o]};function pk(t,e,r,n){var i=n.motionEnter,o=i===void 0?!0:i,s=n.motionAppear,a=s===void 0?!0:s,l=n.motionLeave,c=l===void 0?!0:l,u=n.motionDeadline,h=n.motionLeaveImmediately,d=n.onAppearPrepare,f=n.onEnterPrepare,m=n.onLeavePrepare,v=n.onAppearStart,S=n.onEnterStart,p=n.onLeaveStart,g=n.onAppearActive,y=n.onEnterActive,x=n.onLeaveActive,_=n.onAppearEnd,E=n.onEnterEnd,T=n.onLeaveEnd,O=n.onVisibleChanged,j=Zd(),R=J(j,2),N=R[0],z=R[1],F=ok(gn),$=J(F,2),G=$[0],D=$[1],P=Zd(null),b=J(P,2),A=b[0],L=b[1],I=G(),H=C.useRef(!1),ee=C.useRef(null);function Y(){return r()}var K=C.useRef(!1);function Q(){D(gn),L(null,!0)}var te=pc(function(ye){var pe=G();if(pe!==gn){var He=Y();if(!(ye&&!ye.deadline&&ye.target!==He)){var ir=K.current,mt;pe===qa&&ir?mt=_==null?void 0:_(He,ye):pe===Qa&&ir?mt=E==null?void 0:E(He,ye):pe===Za&&ir&&(mt=T==null?void 0:T(He,ye)),ir&&mt!==!1&&Q()}}}),Re=ck(te),Me=J(Re,1),he=Me[0],tr=function(pe){switch(pe){case qa:return X(X(X({},gr,d),Vi,v),Ui,g);case Qa:return X(X(X({},gr,f),Vi,S),Ui,y);case Za:return X(X(X({},gr,m),Vi,p),Ui,x);default:return{}}},pt=C.useMemo(function(){return tr(I)},[I]),$e=gk(I,!t,function(ye){if(ye===gr){var pe=pt[gr];return pe?pe(Y()):px}if(ot in pt){var He;L(((He=pt[ot])===null||He===void 0?void 0:He.call(pt,Y(),null))||null)}return ot===Ui&&I!==gn&&(he(Y()),u>0&&(clearTimeout(ee.current),ee.current=setTimeout(function(){te({deadline:!0})},u))),ot===lx&&Q(),fk}),kt=J($e,2),Br=kt[0],ot=kt[1],Tr=mx(ot);K.current=Tr,gx(function(){z(e);var ye=H.current;H.current=!0;var pe;!ye&&e&&a&&(pe=qa),ye&&e&&o&&(pe=Qa),(ye&&!e&&c||!ye&&h&&!e&&c)&&(pe=Za);var He=tr(pe);pe&&(t||He[gr])?(D(pe),Br()):D(gn)},[e]),C.useEffect(function(){(I===qa&&!a||I===Qa&&!o||I===Za&&!c)&&D(gn)},[a,o,c]),C.useEffect(function(){return function(){H.current=!1,clearTimeout(ee.current)}},[]);var rr=C.useRef(!1);C.useEffect(function(){N&&(rr.current=!0),N!==void 0&&I===gn&&((rr.current||N)&&(O==null||O(N)),rr.current=!0)},[N,I]);var nr=A;return pt[gr]&&ot===Vi&&(nr=W({transition:"none"},nr)),[I,ot,nr,N??e]}function mk(t){var e=t;se(t)==="object"&&(e=t.transitionSupport);function r(i,o){return!!(i.motionName&&e&&o!==!1)}var n=C.forwardRef(function(i,o){var s=i.visible,a=s===void 0?!0:s,l=i.removeOnLeave,c=l===void 0?!0:l,u=i.forceRender,h=i.children,d=i.motionName,f=i.leavedClassName,m=i.eventProps,v=C.useContext(ax),S=v.motion,p=r(i,S),g=C.useRef(),y=C.useRef();function x(){try{return g.current instanceof HTMLElement?g.current:OT(y.current)}catch{return null}}var _=pk(p,a,x,i),E=J(_,4),T=E[0],O=E[1],j=E[2],R=E[3],N=C.useRef(R);R&&(N.current=!0);var z=C.useCallback(function(A){g.current=A,mS(o,A)},[o]),F,$=W(W({},m),{},{visible:a});if(!h)F=null;else if(T===gn)R?F=h(W({},$),z):!c&&N.current&&f?F=h(W(W({},$),{},{className:f}),z):u||!c&&!f?F=h(W(W({},$),{},{style:{display:"none"}}),z):F=null;else{var G;O===gr?G="prepare":mx(O)?G="active":O===Vi&&(G="start");var D=k0(d,"".concat(T,"-").concat(G));F=h(W(W({},$),{},{className:Le(k0(d,T),X(X({},D,D&&G),d,typeof d=="string")),style:j}),z)}if(C.isValidElement(F)&&vS(F)){var P=F,b=P.ref;b||(F=C.cloneElement(F,{ref:z}))}return C.createElement(ik,{ref:y},F)});return n.displayName="CSSMotion",n}const zg=mk(fx);var ef="add",tf="keep",rf="remove",uh="removed";function vk(t){var e;return t&&se(t)==="object"&&"key"in t?e=t:e={key:t},W(W({},e),{},{key:String(e.key)})}function nf(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(vk)}function yk(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=[],n=0,i=e.length,o=nf(t),s=nf(e);o.forEach(function(c){for(var u=!1,h=n;h<i;h+=1){var d=s[h];if(d.key===c.key){n<h&&(r=r.concat(s.slice(n,h).map(function(f){return W(W({},f),{},{status:ef})})),n=h),r.push(W(W({},d),{},{status:tf})),n+=1,u=!0;break}}u||r.push(W(W({},c),{},{status:rf}))}),n<i&&(r=r.concat(s.slice(n).map(function(c){return W(W({},c),{},{status:ef})})));var a={};r.forEach(function(c){var u=c.key;a[u]=(a[u]||0)+1});var l=Object.keys(a).filter(function(c){return a[c]>1});return l.forEach(function(c){r=r.filter(function(u){var h=u.key,d=u.status;return h!==c||d!==rf}),r.forEach(function(u){u.key===c&&(u.status=tf)})}),r}var Sk=["component","children","onVisibleChanged","onAllRemoved"],xk=["status"],Ck=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function _k(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zg,r=function(n){qs(o,n);var i=Qs(o);function o(){var s;Jt(this,o);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return s=i.call.apply(i,[this].concat(l)),X(oi(s),"state",{keyEntities:[]}),X(oi(s),"removeKey",function(u){s.setState(function(h){var d=h.keyEntities.map(function(f){return f.key!==u?f:W(W({},f),{},{status:uh})});return{keyEntities:d}},function(){var h=s.state.keyEntities,d=h.filter(function(f){var m=f.status;return m!==uh}).length;d===0&&s.props.onAllRemoved&&s.props.onAllRemoved()})}),s}return er(o,[{key:"render",value:function(){var a=this,l=this.state.keyEntities,c=this.props,u=c.component,h=c.children,d=c.onVisibleChanged;c.onAllRemoved;var f=sn(c,Sk),m=u||C.Fragment,v={};return Ck.forEach(function(S){v[S]=f[S],delete f[S]}),delete f.keys,C.createElement(m,f,l.map(function(S,p){var g=S.status,y=sn(S,xk),x=g===ef||g===tf;return C.createElement(e,ke({},v,{key:y.key,visible:x,eventProps:y,onVisibleChanged:function(E){d==null||d(E,{key:y.key}),E||a.removeKey(y.key)}}),function(_,E){return h(W(W({},_),{},{index:p}),E)})}))}}],[{key:"getDerivedStateFromProps",value:function(a,l){var c=a.keys,u=l.keyEntities,h=nf(c),d=yk(u,h);return{keyEntities:d.filter(function(f){var m=u.find(function(v){var S=v.key;return f.key===S});return!(m&&m.status===uh&&f.status===rf)})}}}]),o}(C.Component);return X(r,"defaultProps",{component:"div"}),r}const wk=_k(fx);function bk(t){const{children:e}=t,[,r]=To(),{motion:n}=r,i=C.useRef(!1);return i.current=i.current||n===!1,i.current?C.createElement(nk,{motion:n},e):e}const Tk=()=>null;var Ek=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const Ok=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let mc,vx,yx,Sx;function Tl(){return mc||fc}function kk(){return vx||Ng}function Mk(t){return Object.keys(t).some(e=>e.endsWith("Color"))}const Pk=t=>{const{prefixCls:e,iconPrefixCls:r,theme:n,holderRender:i}=t;e!==void 0&&(mc=e),r!==void 0&&(vx=r),"holderRender"in t&&(Sx=i),n&&(Mk(n)?bO(Tl(),n):yx=n)},Dk=()=>({getPrefixCls:(t,e)=>e||(t?`${Tl()}-${t}`:Tl()),getIconPrefixCls:kk,getRootPrefixCls:()=>mc||Tl(),getTheme:()=>yx,holderRender:Sx}),Ak=t=>{const{children:e,csp:r,autoInsertSpaceInButton:n,alert:i,anchor:o,form:s,locale:a,componentSize:l,direction:c,space:u,splitter:h,virtual:d,dropdownMatchSelectWidth:f,popupMatchSelectWidth:m,popupOverflow:v,legacyLocale:S,parentContext:p,iconPrefixCls:g,theme:y,componentDisabled:x,segmented:_,statistic:E,spin:T,calendar:O,carousel:j,cascader:R,collapse:N,typography:z,checkbox:F,descriptions:$,divider:G,drawer:D,skeleton:P,steps:b,image:A,layout:L,list:I,mentions:H,modal:ee,progress:Y,result:K,slider:Q,breadcrumb:te,menu:Re,pagination:Me,input:he,textArea:tr,empty:pt,badge:$e,radio:kt,rate:Br,switch:ot,transfer:Tr,avatar:rr,message:nr,tag:ye,table:pe,card:He,tabs:ir,timeline:mt,timePicker:or,upload:ko,notification:Js,tree:ea,colorPicker:Mo,datePicker:Xe,rangePicker:sr,flex:Po,wave:Hx,dropdown:Wx,warning:Vx,tour:Ux,floatButtonGroup:Xx,variant:Gx,inputNumber:Yx,treeSelect:Kx}=t,Kg=C.useCallback((Fe,Ye)=>{const{prefixCls:Er}=t;if(Ye)return Ye;const Or=Er||p.getPrefixCls("");return Fe?`${Or}-${Fe}`:Or},[p.getPrefixCls,t.prefixCls]),Do=g||p.iconPrefixCls||Ng,Ao=r||p.csp;ox(Do,Ao);const hu=tk(y,p.theme,{prefixCls:Kg("")}),du={csp:Ao,autoInsertSpaceInButton:n,alert:i,anchor:o,locale:a||S,direction:c,space:u,splitter:h,virtual:d,popupMatchSelectWidth:m??f,popupOverflow:v,getPrefixCls:Kg,iconPrefixCls:Do,theme:hu,segmented:_,statistic:E,spin:T,calendar:O,carousel:j,cascader:R,collapse:N,typography:z,checkbox:F,descriptions:$,divider:G,drawer:D,skeleton:P,steps:b,image:A,input:he,textArea:tr,layout:L,list:I,mentions:H,modal:ee,progress:Y,result:K,slider:Q,breadcrumb:te,menu:Re,pagination:Me,empty:pt,badge:$e,radio:kt,rate:Br,switch:ot,transfer:Tr,avatar:rr,message:nr,tag:ye,table:pe,card:He,tabs:ir,timeline:mt,timePicker:or,upload:ko,notification:Js,tree:ea,colorPicker:Mo,datePicker:Xe,rangePicker:sr,flex:Po,wave:Hx,dropdown:Wx,warning:Vx,tour:Ux,floatButtonGroup:Xx,variant:Gx,inputNumber:Yx,treeSelect:Kx},Ci=Object.assign({},p);Object.keys(du).forEach(Fe=>{du[Fe]!==void 0&&(Ci[Fe]=du[Fe])}),Ok.forEach(Fe=>{const Ye=t[Fe];Ye&&(Ci[Fe]=Ye)}),typeof n<"u"&&(Ci.button=Object.assign({autoInsertSpace:n},Ci.button));const _i=pS(()=>Ci,Ci,(Fe,Ye)=>{const Er=Object.keys(Fe),Or=Object.keys(Ye);return Er.length!==Or.length||Er.some(ta=>Fe[ta]!==Ye[ta])}),qx=C.useMemo(()=>({prefixCls:Do,csp:Ao}),[Do,Ao]);let Ge=C.createElement(C.Fragment,null,C.createElement(Tk,{dropdownMatchSelectWidth:f}),e);const qg=C.useMemo(()=>{var Fe,Ye,Er,Or;return zE(((Fe=su.Form)===null||Fe===void 0?void 0:Fe.defaultValidateMessages)||{},((Er=(Ye=_i.locale)===null||Ye===void 0?void 0:Ye.Form)===null||Er===void 0?void 0:Er.defaultValidateMessages)||{},((Or=_i.form)===null||Or===void 0?void 0:Or.validateMessages)||{},(s==null?void 0:s.validateMessages)||{})},[_i,s==null?void 0:s.validateMessages]);Object.keys(qg).length>0&&(Ge=C.createElement(HE.Provider,{value:qg},Ge)),a&&(Ge=C.createElement(YE,{locale:a,_ANT_MARK__:GE},Ge)),(Do||Ao)&&(Ge=C.createElement(Ig.Provider,{value:qx},Ge)),l&&(Ge=C.createElement(EO,{size:l},Ge)),Ge=C.createElement(bk,null,Ge);const Qx=C.useMemo(()=>{const Fe=hu||{},{algorithm:Ye,token:Er,components:Or,cssVar:ta}=Fe,Zx=Ek(Fe,["algorithm","token","components","cssVar"]),Qg=Ye&&(!Array.isArray(Ye)||Ye.length>0)?Pd(Ye):QS,fu={};Object.entries(Or||{}).forEach(Jx=>{let[eC,tC]=Jx;const zr=Object.assign({},tC);"algorithm"in zr&&(zr.algorithm===!0?zr.theme=Qg:(Array.isArray(zr.algorithm)||typeof zr.algorithm=="function")&&(zr.theme=Pd(zr.algorithm)),delete zr.algorithm),fu[eC]=zr});const Zg=Object.assign(Object.assign({},Rs),Er);return Object.assign(Object.assign({},Zx),{theme:Qg,token:Zg,components:fu,override:Object.assign({override:Zg},fu),cssVar:ta})},[hu]);return y&&(Ge=C.createElement(ZS.Provider,{value:Qx},Ge)),_i.warning&&(Ge=C.createElement($E.Provider,{value:_i.warning},Ge)),x!==void 0&&(Ge=C.createElement(TO,{disabled:x},Ge)),C.createElement(Qt.Provider,{value:_i},Ge)},Eo=t=>{const e=C.useContext(Qt),r=C.useContext(XS);return C.createElement(Ak,Object.assign({parentContext:e,legacyLocale:r},t))};Eo.ConfigContext=Qt;Eo.SizeContext=fo;Eo.config=Pk;Eo.useConfig=OO;Object.defineProperty(Eo,"SizeContext",{get:()=>fo});var jk={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function xx(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function Lk(t){return xx(t)instanceof ShadowRoot}function Rk(t){return Lk(t)?xx(t):null}function Fk(t){return t.replace(/-(.)/g,function(e,r){return r.toUpperCase()})}function Ik(t,e){Ks(t,"[@ant-design/icons] ".concat(e))}function M0(t){return se(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(se(t.icon)==="object"||typeof t.icon=="function")}function P0(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,r){var n=t[r];switch(r){case"class":e.className=n,delete e.class;break;default:delete e[r],e[Fk(r)]=n}return e},{})}function of(t,e,r){return r?q.createElement(t.tag,W(W({key:e},P0(t.attrs)),r),(t.children||[]).map(function(n,i){return of(n,"".concat(e,"-").concat(t.tag,"-").concat(i))})):q.createElement(t.tag,W({key:e},P0(t.attrs)),(t.children||[]).map(function(n,i){return of(n,"".concat(e,"-").concat(t.tag,"-").concat(i))}))}function Cx(t){return Ls(t)[0]}function _x(t){return t?Array.isArray(t)?t:[t]:[]}var Nk=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,Bk=function(e){var r=C.useContext(Ig),n=r.csp,i=r.prefixCls,o=Nk;i&&(o=o.replace(/anticon/g,i)),C.useEffect(function(){var s=e.current,a=Rk(s);si(o,"@ant-design-icons",{prepend:!0,csp:n,attachTo:a})},[])},zk=["icon","className","onClick","style","primaryColor","secondaryColor"],cs={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function $k(t){var e=t.primaryColor,r=t.secondaryColor;cs.primaryColor=e,cs.secondaryColor=r||Cx(e),cs.calculated=!!r}function Hk(){return W({},cs)}var Oo=function(e){var r=e.icon,n=e.className,i=e.onClick,o=e.style,s=e.primaryColor,a=e.secondaryColor,l=sn(e,zk),c=C.useRef(),u=cs;if(s&&(u={primaryColor:s,secondaryColor:a||Cx(s)}),Bk(c),Ik(M0(r),"icon should be icon definiton, but got ".concat(r)),!M0(r))return null;var h=r;return h&&typeof h.icon=="function"&&(h=W(W({},h),{},{icon:h.icon(u.primaryColor,u.secondaryColor)})),of(h.icon,"svg-".concat(h.name),W(W({className:n,onClick:i,style:o,"data-icon":h.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:c}))};Oo.displayName="IconReact";Oo.getTwoToneColors=Hk;Oo.setTwoToneColors=$k;function wx(t){var e=_x(t),r=J(e,2),n=r[0],i=r[1];return Oo.setTwoToneColors({primaryColor:n,secondaryColor:i})}function Wk(){var t=Oo.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var Vk=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];wx(dc.primary);var gt=C.forwardRef(function(t,e){var r=t.className,n=t.icon,i=t.spin,o=t.rotate,s=t.tabIndex,a=t.onClick,l=t.twoToneColor,c=sn(t,Vk),u=C.useContext(Ig),h=u.prefixCls,d=h===void 0?"anticon":h,f=u.rootClassName,m=Le(f,d,X(X({},"".concat(d,"-").concat(n.name),!!n.name),"".concat(d,"-spin"),!!i||n.name==="loading"),r),v=s;v===void 0&&a&&(v=-1);var S=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,p=_x(l),g=J(p,2),y=g[0],x=g[1];return C.createElement("span",ke({role:"img","aria-label":n.name},c,{ref:e,tabIndex:v,onClick:a,className:m}),C.createElement(Oo,{icon:n,primaryColor:y,secondaryColor:x,style:S}))});gt.displayName="AntdIcon";gt.getTwoToneColor=Wk;gt.setTwoToneColor=wx;var Uk=function(e,r){return C.createElement(gt,ke({},e,{ref:r,icon:jk}))},Xk=C.forwardRef(Uk),Gk={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},Yk=function(e,r){return C.createElement(gt,ke({},e,{ref:r,icon:Gk}))},Kk=C.forwardRef(Yk),qk={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},Qk=function(e,r){return C.createElement(gt,ke({},e,{ref:r,icon:qk}))},Zk=C.forwardRef(Qk),Jk={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},eM=function(e,r){return C.createElement(gt,ke({},e,{ref:r,icon:Jk}))},tM=C.forwardRef(eM),rM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},nM=function(e,r){return C.createElement(gt,ke({},e,{ref:r,icon:rM}))},iM=C.forwardRef(nM),oM=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,sM=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,aM="".concat(oM," ").concat(sM).split(/[\s\n]+/),lM="aria-",cM="data-";function D0(t,e){return t.indexOf(e)===0}function uM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r;e===!1?r={aria:!0,data:!0,attr:!0}:e===!0?r={aria:!0}:r=W({},e);var n={};return Object.keys(t).forEach(function(i){(r.aria&&(i==="role"||D0(i,lM))||r.data&&D0(i,cM)||r.attr&&aM.includes(i))&&(n[i]=t[i])}),n}function hM(t){return t&&q.isValidElement(t)&&t.type===q.Fragment}const dM=(t,e,r)=>q.isValidElement(t)?q.cloneElement(t,typeof r=="function"?r(t.props||{}):r):e;function bx(t,e){return dM(t,t,e)}const Tx=t=>{const[,,,,e]=To();return e?`${t}-css-var`:""};var Z={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var r=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||r>=Z.F1&&r<=Z.F12)return!1;switch(r){case Z.ALT:case Z.CAPS_LOCK:case Z.CONTEXT_MENU:case Z.CTRL:case Z.DOWN:case Z.END:case Z.ESC:case Z.HOME:case Z.INSERT:case Z.LEFT:case Z.MAC_FF_META:case Z.META:case Z.NUMLOCK:case Z.NUM_CENTER:case Z.PAGE_DOWN:case Z.PAGE_UP:case Z.PAUSE:case Z.PRINT_SCREEN:case Z.RIGHT:case Z.SHIFT:case Z.UP:case Z.WIN_KEY:case Z.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Z.ZERO&&e<=Z.NINE||e>=Z.NUM_ZERO&&e<=Z.NUM_MULTIPLY||e>=Z.A&&e<=Z.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case Z.SPACE:case Z.QUESTION_MARK:case Z.NUM_PLUS:case Z.NUM_MINUS:case Z.NUM_PERIOD:case Z.NUM_DIVISION:case Z.SEMICOLON:case Z.DASH:case Z.EQUALS:case Z.COMMA:case Z.PERIOD:case Z.SLASH:case Z.APOSTROPHE:case Z.SINGLE_QUOTE:case Z.OPEN_SQUARE_BRACKET:case Z.BACKSLASH:case Z.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Ex=C.forwardRef(function(t,e){var r=t.prefixCls,n=t.style,i=t.className,o=t.duration,s=o===void 0?4.5:o,a=t.showProgress,l=t.pauseOnHover,c=l===void 0?!0:l,u=t.eventKey,h=t.content,d=t.closable,f=t.closeIcon,m=f===void 0?"x":f,v=t.props,S=t.onClick,p=t.onNoticeClose,g=t.times,y=t.hovering,x=C.useState(!1),_=J(x,2),E=_[0],T=_[1],O=C.useState(0),j=J(O,2),R=j[0],N=j[1],z=C.useState(0),F=J(z,2),$=F[0],G=F[1],D=y||E,P=s>0&&a,b=function(){p(u)},A=function(K){(K.key==="Enter"||K.code==="Enter"||K.keyCode===Z.ENTER)&&b()};C.useEffect(function(){if(!D&&s>0){var Y=Date.now()-$,K=setTimeout(function(){b()},s*1e3-$);return function(){c&&clearTimeout(K),G(Date.now()-Y)}}},[s,D,g]),C.useEffect(function(){if(!D&&P&&(c||$===0)){var Y=performance.now(),K,Q=function te(){cancelAnimationFrame(K),K=requestAnimationFrame(function(Re){var Me=Re+$-Y,he=Math.min(Me/(s*1e3),1);N(he*100),he<1&&te()})};return Q(),function(){c&&cancelAnimationFrame(K)}}},[s,$,D,P,g]);var L=C.useMemo(function(){return se(d)==="object"&&d!==null?d:d?{closeIcon:m}:{}},[d,m]),I=uM(L,!0),H=100-(!R||R<0?0:R>100?100:R),ee="".concat(r,"-notice");return C.createElement("div",ke({},v,{ref:e,className:Le(ee,i,X({},"".concat(ee,"-closable"),d)),style:n,onMouseEnter:function(K){var Q;T(!0),v==null||(Q=v.onMouseEnter)===null||Q===void 0||Q.call(v,K)},onMouseLeave:function(K){var Q;T(!1),v==null||(Q=v.onMouseLeave)===null||Q===void 0||Q.call(v,K)},onClick:S}),C.createElement("div",{className:"".concat(ee,"-content")},h),d&&C.createElement("a",ke({tabIndex:0,className:"".concat(ee,"-close"),onKeyDown:A,"aria-label":"Close"},I,{onClick:function(K){K.preventDefault(),K.stopPropagation(),b()}}),L.closeIcon),P&&C.createElement("progress",{className:"".concat(ee,"-progress"),max:"100",value:H},H+"%"))}),Ox=q.createContext({}),fM=function(e){var r=e.children,n=e.classNames;return q.createElement(Ox.Provider,{value:{classNames:n}},r)},A0=8,j0=3,L0=16,gM=function(e){var r={offset:A0,threshold:j0,gap:L0};if(e&&se(e)==="object"){var n,i,o;r.offset=(n=e.offset)!==null&&n!==void 0?n:A0,r.threshold=(i=e.threshold)!==null&&i!==void 0?i:j0,r.gap=(o=e.gap)!==null&&o!==void 0?o:L0}return[!!e,r]},pM=["className","style","classNames","styles"],mM=function(e){var r=e.configList,n=e.placement,i=e.prefixCls,o=e.className,s=e.style,a=e.motion,l=e.onAllNoticeRemoved,c=e.onNoticeClose,u=e.stack,h=C.useContext(Ox),d=h.classNames,f=C.useRef({}),m=C.useState(null),v=J(m,2),S=v[0],p=v[1],g=C.useState([]),y=J(g,2),x=y[0],_=y[1],E=r.map(function(D){return{config:D,key:String(D.key)}}),T=gM(u),O=J(T,2),j=O[0],R=O[1],N=R.offset,z=R.threshold,F=R.gap,$=j&&(x.length>0||E.length<=z),G=typeof a=="function"?a(n):a;return C.useEffect(function(){j&&x.length>1&&_(function(D){return D.filter(function(P){return E.some(function(b){var A=b.key;return P===A})})})},[x,E,j]),C.useEffect(function(){var D;if(j&&f.current[(D=E[E.length-1])===null||D===void 0?void 0:D.key]){var P;p(f.current[(P=E[E.length-1])===null||P===void 0?void 0:P.key])}},[E,j]),q.createElement(wk,ke({key:n,className:Le(i,"".concat(i,"-").concat(n),d==null?void 0:d.list,o,X(X({},"".concat(i,"-stack"),!!j),"".concat(i,"-stack-expanded"),$)),style:s,keys:E,motionAppear:!0},G,{onAllRemoved:function(){l(n)}}),function(D,P){var b=D.config,A=D.className,L=D.style,I=D.index,H=b,ee=H.key,Y=H.times,K=String(ee),Q=b,te=Q.className,Re=Q.style,Me=Q.classNames,he=Q.styles,tr=sn(Q,pM),pt=E.findIndex(function(mt){return mt.key===K}),$e={};if(j){var kt=E.length-1-(pt>-1?pt:I-1),Br=n==="top"||n==="bottom"?"-50%":"0";if(kt>0){var ot,Tr,rr;$e.height=$?(ot=f.current[K])===null||ot===void 0?void 0:ot.offsetHeight:S==null?void 0:S.offsetHeight;for(var nr=0,ye=0;ye<kt;ye++){var pe;nr+=((pe=f.current[E[E.length-1-ye].key])===null||pe===void 0?void 0:pe.offsetHeight)+F}var He=($?nr:kt*N)*(n.startsWith("top")?1:-1),ir=!$&&S!==null&&S!==void 0&&S.offsetWidth&&(Tr=f.current[K])!==null&&Tr!==void 0&&Tr.offsetWidth?((S==null?void 0:S.offsetWidth)-N*2*(kt<3?kt:3))/((rr=f.current[K])===null||rr===void 0?void 0:rr.offsetWidth):1;$e.transform="translate3d(".concat(Br,", ").concat(He,"px, 0) scaleX(").concat(ir,")")}else $e.transform="translate3d(".concat(Br,", 0, 0)")}return q.createElement("div",{ref:P,className:Le("".concat(i,"-notice-wrapper"),A,Me==null?void 0:Me.wrapper),style:W(W(W({},L),$e),he==null?void 0:he.wrapper),onMouseEnter:function(){return _(function(or){return or.includes(K)?or:[].concat(Et(or),[K])})},onMouseLeave:function(){return _(function(or){return or.filter(function(ko){return ko!==K})})}},q.createElement(Ex,ke({},tr,{ref:function(or){pt>-1?f.current[K]=or:delete f.current[K]},prefixCls:i,classNames:Me,styles:he,className:Le(te,d==null?void 0:d.notice),style:Re,times:Y,key:ee,eventKey:ee,onNoticeClose:c,hovering:j&&x.length>0})))})},vM=C.forwardRef(function(t,e){var r=t.prefixCls,n=r===void 0?"rc-notification":r,i=t.container,o=t.motion,s=t.maxCount,a=t.className,l=t.style,c=t.onAllRemoved,u=t.stack,h=t.renderNotifications,d=C.useState([]),f=J(d,2),m=f[0],v=f[1],S=function(j){var R,N=m.find(function(z){return z.key===j});N==null||(R=N.onClose)===null||R===void 0||R.call(N),v(function(z){return z.filter(function(F){return F.key!==j})})};C.useImperativeHandle(e,function(){return{open:function(j){v(function(R){var N=Et(R),z=N.findIndex(function(G){return G.key===j.key}),F=W({},j);if(z>=0){var $;F.times=((($=R[z])===null||$===void 0?void 0:$.times)||0)+1,N[z]=F}else F.times=0,N.push(F);return s>0&&N.length>s&&(N=N.slice(-s)),N})},close:function(j){S(j)},destroy:function(){v([])}}});var p=C.useState({}),g=J(p,2),y=g[0],x=g[1];C.useEffect(function(){var O={};m.forEach(function(j){var R=j.placement,N=R===void 0?"topRight":R;N&&(O[N]=O[N]||[],O[N].push(j))}),Object.keys(y).forEach(function(j){O[j]=O[j]||[]}),x(O)},[m]);var _=function(j){x(function(R){var N=W({},R),z=N[j]||[];return z.length||delete N[j],N})},E=C.useRef(!1);if(C.useEffect(function(){Object.keys(y).length>0?E.current=!0:E.current&&(c==null||c(),E.current=!1)},[y]),!i)return null;var T=Object.keys(y);return Rc.createPortal(C.createElement(C.Fragment,null,T.map(function(O){var j=y[O],R=C.createElement(mM,{key:O,configList:j,placement:O,prefixCls:n,className:a==null?void 0:a(O),style:l==null?void 0:l(O),motion:o,onNoticeClose:S,onAllNoticeRemoved:_,stack:u});return h?h(R,{prefixCls:n,key:O}):R})),i)}),yM=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],SM=function(){return document.body},R0=0;function xM(){for(var t={},e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.forEach(function(i){i&&Object.keys(i).forEach(function(o){var s=i[o];s!==void 0&&(t[o]=s)})}),t}function CM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.getContainer,r=e===void 0?SM:e,n=t.motion,i=t.prefixCls,o=t.maxCount,s=t.className,a=t.style,l=t.onAllRemoved,c=t.stack,u=t.renderNotifications,h=sn(t,yM),d=C.useState(),f=J(d,2),m=f[0],v=f[1],S=C.useRef(),p=C.createElement(vM,{container:m,ref:S,prefixCls:i,motion:n,maxCount:o,className:s,style:a,onAllRemoved:l,stack:c,renderNotifications:u}),g=C.useState([]),y=J(g,2),x=y[0],_=y[1],E=C.useMemo(function(){return{open:function(O){var j=xM(h,O);(j.key===null||j.key===void 0)&&(j.key="rc-notification-".concat(R0),R0+=1),_(function(R){return[].concat(Et(R),[{type:"open",config:j}])})},close:function(O){_(function(j){return[].concat(Et(j),[{type:"close",key:O}])})},destroy:function(){_(function(O){return[].concat(Et(O),[{type:"destroy"}])})}}},[]);return C.useEffect(function(){v(r())}),C.useEffect(function(){S.current&&x.length&&(x.forEach(function(T){switch(T.type){case"open":S.current.open(T.config);break;case"close":S.current.close(T.key);break;case"destroy":S.current.destroy();break}}),_(function(T){return T.filter(function(O){return!x.includes(O)})}))},[x]),[E,p]}var _M={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},wM=function(e,r){return C.createElement(gt,ke({},e,{ref:r,icon:_M}))},kx=C.forwardRef(wM);const bM=100,TM=10,EM=bM*TM,OM=t=>{const{componentCls:e,iconCls:r,boxShadow:n,colorText:i,colorSuccess:o,colorError:s,colorWarning:a,colorInfo:l,fontSizeLG:c,motionEaseInOutCirc:u,motionDurationSlow:h,marginXS:d,paddingXS:f,borderRadiusLG:m,zIndexPopup:v,contentPadding:S,contentBg:p}=t,g=`${e}-notice`,y=new s0("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:f,transform:"translateY(0)",opacity:1}}),x=new s0("MessageMoveOut",{"0%":{maxHeight:t.height,padding:f,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),_={padding:f,textAlign:"center",[`${e}-custom-content`]:{display:"flex",alignItems:"center"},[`${e}-custom-content > ${r}`]:{marginInlineEnd:d,fontSize:c},[`${g}-content`]:{display:"inline-block",padding:S,background:p,borderRadius:m,boxShadow:n,pointerEvents:"all"},[`${e}-success > ${r}`]:{color:o},[`${e}-error > ${r}`]:{color:s},[`${e}-warning > ${r}`]:{color:a},[`${e}-info > ${r},
      ${e}-loading > ${r}`]:{color:l}};return[{[e]:Object.assign(Object.assign({},VO(t)),{color:i,position:"fixed",top:d,width:"100%",pointerEvents:"none",zIndex:v,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:y,animationDuration:h,animationPlayState:"paused",animationTimingFunction:u},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:x,animationDuration:h,animationPlayState:"paused",animationTimingFunction:u},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{[`${g}-wrapper`]:Object.assign({},_)}},{[`${e}-notice-pure-panel`]:Object.assign(Object.assign({},_),{padding:0,textAlign:"start"})}]},kM=t=>({zIndexPopup:t.zIndexPopupBase+EM+10,contentBg:t.colorBgElevated,contentPadding:`${(t.controlHeightLG-t.fontSize*t.lineHeight)/2}px ${t.paddingSM}px`}),Mx=sx("Message",t=>{const e=xi(t,{height:150});return[OM(e)]},kM);var MM=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const PM={info:C.createElement(iM,null),success:C.createElement(Xk,null),error:C.createElement(Kk,null),warning:C.createElement(tM,null),loading:C.createElement(kx,null)},Px=t=>{let{prefixCls:e,type:r,icon:n,children:i}=t;return C.createElement("div",{className:Le(`${e}-custom-content`,`${e}-${r}`)},n||PM[r],C.createElement("span",null,i))},DM=t=>{const{prefixCls:e,className:r,type:n,icon:i,content:o}=t,s=MM(t,["prefixCls","className","type","icon","content"]),{getPrefixCls:a}=C.useContext(Qt),l=e||a("message"),c=Tx(l),[u,h,d]=Mx(l,c);return u(C.createElement(Ex,Object.assign({},s,{prefixCls:l,className:Le(r,h,`${l}-notice-pure-panel`,d,c),eventKey:"pure",duration:null,content:C.createElement(Px,{prefixCls:l,type:n,icon:i},o)})))};function AM(t,e){return{motionName:e??`${t}-move-up`}}function $g(t){let e;const r=new Promise(i=>{e=t(()=>{i(!0)})}),n=()=>{e==null||e()};return n.then=(i,o)=>r.then(i,o),n.promise=r,n}var jM=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const LM=8,RM=3,FM=t=>{let{children:e,prefixCls:r}=t;const n=Tx(r),[i,o,s]=Mx(r,n);return i(C.createElement(fM,{classNames:{list:Le(o,s,n)}},e))},IM=(t,e)=>{let{prefixCls:r,key:n}=e;return C.createElement(FM,{prefixCls:r,key:n},t)},NM=C.forwardRef((t,e)=>{const{top:r,prefixCls:n,getContainer:i,maxCount:o,duration:s=RM,rtl:a,transitionName:l,onAllRemoved:c}=t,{getPrefixCls:u,getPopupContainer:h,message:d,direction:f}=C.useContext(Qt),m=n||u("message"),v=()=>({left:"50%",transform:"translateX(-50%)",top:r??LM}),S=()=>Le({[`${m}-rtl`]:a??f==="rtl"}),p=()=>AM(m,l),g=C.createElement("span",{className:`${m}-close-x`},C.createElement(Zk,{className:`${m}-close-icon`})),[y,x]=CM({prefixCls:m,style:v,className:S,motion:p,closable:!1,closeIcon:g,duration:s,getContainer:()=>(i==null?void 0:i())||(h==null?void 0:h())||document.body,maxCount:o,onAllRemoved:c,renderNotifications:IM});return C.useImperativeHandle(e,()=>Object.assign(Object.assign({},y),{prefixCls:m,message:d})),x});let F0=0;function Dx(t){const e=C.useRef(null);return[C.useMemo(()=>{const n=l=>{var c;(c=e.current)===null||c===void 0||c.close(l)},i=l=>{if(!e.current){const E=()=>{};return E.then=()=>{},E}const{open:c,prefixCls:u,message:h}=e.current,d=`${u}-notice`,{content:f,icon:m,type:v,key:S,className:p,style:g,onClose:y}=l,x=jM(l,["content","icon","type","key","className","style","onClose"]);let _=S;return _==null&&(F0+=1,_=`antd-message-${F0}`),$g(E=>(c(Object.assign(Object.assign({},x),{key:_,content:C.createElement(Px,{prefixCls:u,type:v,icon:m},f),placement:"top",className:Le(v&&`${d}-${v}`,p,h==null?void 0:h.className),style:Object.assign(Object.assign({},h==null?void 0:h.style),g),onClose:()=>{y==null||y(),E()}})),()=>{n(_)}))},s={open:i,destroy:l=>{var c;l!==void 0?n(l):(c=e.current)===null||c===void 0||c.destroy()}};return["info","success","warning","error","loading"].forEach(l=>{const c=(u,h,d)=>{let f;u&&typeof u=="object"&&"content"in u?f=u:f={content:u};let m,v;typeof h=="function"?v=h:(m=h,v=d);const S=Object.assign(Object.assign({onClose:v,duration:m},f),{type:l});return i(S)};s[l]=c}),s},[]),C.createElement(NM,Object.assign({key:"message-holder"},t,{ref:e}))]}function BM(t){return Dx(t)}function Fs(){Fs=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(D,P,b){D[P]=b.value},o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(D,P,b){return Object.defineProperty(D,P,{value:b,enumerable:!0,configurable:!0,writable:!0}),D[P]}try{c({},"")}catch{c=function(b,A,L){return b[A]=L}}function u(D,P,b,A){var L=P&&P.prototype instanceof p?P:p,I=Object.create(L.prototype),H=new $(A||[]);return i(I,"_invoke",{value:R(D,b,H)}),I}function h(D,P,b){try{return{type:"normal",arg:D.call(P,b)}}catch(A){return{type:"throw",arg:A}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",m="executing",v="completed",S={};function p(){}function g(){}function y(){}var x={};c(x,s,function(){return this});var _=Object.getPrototypeOf,E=_&&_(_(G([])));E&&E!==r&&n.call(E,s)&&(x=E);var T=y.prototype=p.prototype=Object.create(x);function O(D){["next","throw","return"].forEach(function(P){c(D,P,function(b){return this._invoke(P,b)})})}function j(D,P){function b(L,I,H,ee){var Y=h(D[L],D,I);if(Y.type!=="throw"){var K=Y.arg,Q=K.value;return Q&&se(Q)=="object"&&n.call(Q,"__await")?P.resolve(Q.__await).then(function(te){b("next",te,H,ee)},function(te){b("throw",te,H,ee)}):P.resolve(Q).then(function(te){K.value=te,H(K)},function(te){return b("throw",te,H,ee)})}ee(Y.arg)}var A;i(this,"_invoke",{value:function(I,H){function ee(){return new P(function(Y,K){b(I,H,Y,K)})}return A=A?A.then(ee,ee):ee()}})}function R(D,P,b){var A=d;return function(L,I){if(A===m)throw Error("Generator is already running");if(A===v){if(L==="throw")throw I;return{value:t,done:!0}}for(b.method=L,b.arg=I;;){var H=b.delegate;if(H){var ee=N(H,b);if(ee){if(ee===S)continue;return ee}}if(b.method==="next")b.sent=b._sent=b.arg;else if(b.method==="throw"){if(A===d)throw A=v,b.arg;b.dispatchException(b.arg)}else b.method==="return"&&b.abrupt("return",b.arg);A=m;var Y=h(D,P,b);if(Y.type==="normal"){if(A=b.done?v:f,Y.arg===S)continue;return{value:Y.arg,done:b.done}}Y.type==="throw"&&(A=v,b.method="throw",b.arg=Y.arg)}}}function N(D,P){var b=P.method,A=D.iterator[b];if(A===t)return P.delegate=null,b==="throw"&&D.iterator.return&&(P.method="return",P.arg=t,N(D,P),P.method==="throw")||b!=="return"&&(P.method="throw",P.arg=new TypeError("The iterator does not provide a '"+b+"' method")),S;var L=h(A,D.iterator,P.arg);if(L.type==="throw")return P.method="throw",P.arg=L.arg,P.delegate=null,S;var I=L.arg;return I?I.done?(P[D.resultName]=I.value,P.next=D.nextLoc,P.method!=="return"&&(P.method="next",P.arg=t),P.delegate=null,S):I:(P.method="throw",P.arg=new TypeError("iterator result is not an object"),P.delegate=null,S)}function z(D){var P={tryLoc:D[0]};1 in D&&(P.catchLoc=D[1]),2 in D&&(P.finallyLoc=D[2],P.afterLoc=D[3]),this.tryEntries.push(P)}function F(D){var P=D.completion||{};P.type="normal",delete P.arg,D.completion=P}function $(D){this.tryEntries=[{tryLoc:"root"}],D.forEach(z,this),this.reset(!0)}function G(D){if(D||D===""){var P=D[s];if(P)return P.call(D);if(typeof D.next=="function")return D;if(!isNaN(D.length)){var b=-1,A=function L(){for(;++b<D.length;)if(n.call(D,b))return L.value=D[b],L.done=!1,L;return L.value=t,L.done=!0,L};return A.next=A}}throw new TypeError(se(D)+" is not iterable")}return g.prototype=y,i(T,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:g,configurable:!0}),g.displayName=c(y,l,"GeneratorFunction"),e.isGeneratorFunction=function(D){var P=typeof D=="function"&&D.constructor;return!!P&&(P===g||(P.displayName||P.name)==="GeneratorFunction")},e.mark=function(D){return Object.setPrototypeOf?Object.setPrototypeOf(D,y):(D.__proto__=y,c(D,l,"GeneratorFunction")),D.prototype=Object.create(T),D},e.awrap=function(D){return{__await:D}},O(j.prototype),c(j.prototype,a,function(){return this}),e.AsyncIterator=j,e.async=function(D,P,b,A,L){L===void 0&&(L=Promise);var I=new j(u(D,P,b,A),L);return e.isGeneratorFunction(P)?I:I.next().then(function(H){return H.done?H.value:I.next()})},O(T),c(T,l,"Generator"),c(T,s,function(){return this}),c(T,"toString",function(){return"[object Generator]"}),e.keys=function(D){var P=Object(D),b=[];for(var A in P)b.push(A);return b.reverse(),function L(){for(;b.length;){var I=b.pop();if(I in P)return L.value=I,L.done=!1,L}return L.done=!0,L}},e.values=G,$.prototype={constructor:$,reset:function(P){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!P)for(var b in this)b.charAt(0)==="t"&&n.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=t)},stop:function(){this.done=!0;var P=this.tryEntries[0].completion;if(P.type==="throw")throw P.arg;return this.rval},dispatchException:function(P){if(this.done)throw P;var b=this;function A(K,Q){return H.type="throw",H.arg=P,b.next=K,Q&&(b.method="next",b.arg=t),!!Q}for(var L=this.tryEntries.length-1;L>=0;--L){var I=this.tryEntries[L],H=I.completion;if(I.tryLoc==="root")return A("end");if(I.tryLoc<=this.prev){var ee=n.call(I,"catchLoc"),Y=n.call(I,"finallyLoc");if(ee&&Y){if(this.prev<I.catchLoc)return A(I.catchLoc,!0);if(this.prev<I.finallyLoc)return A(I.finallyLoc)}else if(ee){if(this.prev<I.catchLoc)return A(I.catchLoc,!0)}else{if(!Y)throw Error("try statement without catch or finally");if(this.prev<I.finallyLoc)return A(I.finallyLoc)}}}},abrupt:function(P,b){for(var A=this.tryEntries.length-1;A>=0;--A){var L=this.tryEntries[A];if(L.tryLoc<=this.prev&&n.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var I=L;break}}I&&(P==="break"||P==="continue")&&I.tryLoc<=b&&b<=I.finallyLoc&&(I=null);var H=I?I.completion:{};return H.type=P,H.arg=b,I?(this.method="next",this.next=I.finallyLoc,S):this.complete(H)},complete:function(P,b){if(P.type==="throw")throw P.arg;return P.type==="break"||P.type==="continue"?this.next=P.arg:P.type==="return"?(this.rval=this.arg=P.arg,this.method="return",this.next="end"):P.type==="normal"&&b&&(this.next=b),S},finish:function(P){for(var b=this.tryEntries.length-1;b>=0;--b){var A=this.tryEntries[b];if(A.finallyLoc===P)return this.complete(A.completion,A.afterLoc),F(A),S}},catch:function(P){for(var b=this.tryEntries.length-1;b>=0;--b){var A=this.tryEntries[b];if(A.tryLoc===P){var L=A.completion;if(L.type==="throw"){var I=L.arg;F(A)}return I}}throw Error("illegal catch attempt")},delegateYield:function(P,b,A){return this.delegate={iterator:G(P),resultName:b,nextLoc:A},this.method==="next"&&(this.arg=t),S}},e}function I0(t,e,r,n,i,o,s){try{var a=t[o](s),l=a.value}catch(c){return void r(c)}a.done?e(l):Promise.resolve(l).then(n,i)}function Ax(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(l){I0(o,n,i,s,a,"next",l)}function a(l){I0(o,n,i,s,a,"throw",l)}s(void 0)})}}var Zs=W({},Ow),zM=Zs.version,$M=Zs.render,HM=Zs.unmountComponentAtNode,au;try{var WM=Number((zM||"").split(".")[0]);WM>=18&&(au=Zs.createRoot)}catch{}function N0(t){var e=Zs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&se(e)==="object"&&(e.usingClientEntryPoint=t)}var vc="__rc_react_root__";function VM(t,e){N0(!0);var r=e[vc]||au(e);N0(!1),r.render(t),e[vc]=r}function UM(t,e){$M(t,e)}function jx(t,e){if(au){VM(t,e);return}UM(t,e)}function XM(t){return sf.apply(this,arguments)}function sf(){return sf=Ax(Fs().mark(function t(e){return Fs().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Promise.resolve().then(function(){var i;(i=e[vc])===null||i===void 0||i.unmount(),delete e[vc]}));case 1:case"end":return n.stop()}},t)})),sf.apply(this,arguments)}function GM(t){HM(t)}function YM(t){return af.apply(this,arguments)}function af(){return af=Ax(Fs().mark(function t(e){return Fs().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(au===void 0){n.next=2;break}return n.abrupt("return",XM(e));case 2:GM(e);case 3:case"end":return n.stop()}},t)})),af.apply(this,arguments)}const KM=function(t){if(!t)return!1;if(t instanceof Element){if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox(),r=e.width,n=e.height;if(r||n)return!0}if(t.getBoundingClientRect){var i=t.getBoundingClientRect(),o=i.width,s=i.height;if(o||s)return!0}}return!1},qM=t=>{const{componentCls:e,colorPrimary:r}=t;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${r})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${t.motionEaseOutCirc}`,`opacity 2s ${t.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${t.motionDurationSlow} ${t.motionEaseInOut}`,`opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`].join(",")}}}}},QM=qO("Wave",t=>[qM(t)]),Lx=`${fc}-wave-target`;function hh(t){return t&&t!=="#fff"&&t!=="#ffffff"&&t!=="rgb(255, 255, 255)"&&t!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(t)&&t!=="transparent"}function ZM(t){const{borderTopColor:e,borderColor:r,backgroundColor:n}=getComputedStyle(t);return hh(e)?e:hh(r)?r:hh(n)?n:null}function dh(t){return Number.isNaN(t)?0:t}const JM=t=>{const{className:e,target:r,component:n}=t,i=C.useRef(null),[o,s]=C.useState(null),[a,l]=C.useState([]),[c,u]=C.useState(0),[h,d]=C.useState(0),[f,m]=C.useState(0),[v,S]=C.useState(0),[p,g]=C.useState(!1),y={left:c,top:h,width:f,height:v,borderRadius:a.map(E=>`${E}px`).join(" ")};o&&(y["--wave-color"]=o);function x(){const E=getComputedStyle(r);s(ZM(r));const T=E.position==="static",{borderLeftWidth:O,borderTopWidth:j}=E;u(T?r.offsetLeft:dh(-parseFloat(O))),d(T?r.offsetTop:dh(-parseFloat(j))),m(r.offsetWidth),S(r.offsetHeight);const{borderTopLeftRadius:R,borderTopRightRadius:N,borderBottomLeftRadius:z,borderBottomRightRadius:F}=E;l([R,N,F,z].map($=>dh(parseFloat($))))}if(C.useEffect(()=>{if(r){const E=mi(()=>{x(),g(!0)});let T;return typeof ResizeObserver<"u"&&(T=new ResizeObserver(x),T.observe(r)),()=>{mi.cancel(E),T==null||T.disconnect()}}},[]),!p)return null;const _=(n==="Checkbox"||n==="Radio")&&(r==null?void 0:r.classList.contains(Lx));return C.createElement(zg,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(E,T)=>{var O;if(T.deadline||T.propertyName==="opacity"){const j=(O=i.current)===null||O===void 0?void 0:O.parentElement;YM(j).then(()=>{j==null||j.remove()})}return!1}},(E,T)=>{let{className:O}=E;return C.createElement("div",{ref:Mg(i,T),className:Le(e,O,{"wave-quick":_}),style:y})})},eP=(t,e)=>{var r;const{component:n}=e;if(n==="Checkbox"&&!(!((r=t.querySelector("input"))===null||r===void 0)&&r.checked))return;const i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",t==null||t.insertBefore(i,t==null?void 0:t.firstChild),jx(C.createElement(JM,Object.assign({},e,{target:t})),i)},tP=(t,e,r)=>{const{wave:n}=C.useContext(Qt),[,i,o]=To(),s=pc(c=>{const u=t.current;if(n!=null&&n.disabled||!u)return;const h=u.querySelector(`.${Lx}`)||u,{showEffect:d}=n||{};(d||eP)(h,{className:e,token:i,component:r,event:c,hashId:o})}),a=C.useRef();return c=>{mi.cancel(a.current),a.current=mi(()=>{s(c)})}},rP=t=>{const{children:e,disabled:r,component:n}=t,{getPrefixCls:i}=C.useContext(Qt),o=C.useRef(null),s=i("wave"),[,a]=QM(s),l=tP(o,Le(s,a),n);if(q.useEffect(()=>{const u=o.current;if(!u||u.nodeType!==1||r)return;const h=d=>{!KM(d.target)||!u.getAttribute||u.getAttribute("disabled")||u.disabled||u.className.includes("disabled")||u.className.includes("-leave")||l(d)};return u.addEventListener("click",h,!0),()=>{u.removeEventListener("click",h,!0)}},[r]),!q.isValidElement(e))return e??null;const c=vS(e)?Mg(e.ref,o):o;return bx(e,{ref:c})},nP=t=>{const e=q.useContext(fo);return q.useMemo(()=>t?typeof t=="string"?t??e:t instanceof Function?t(e):e:e,[t,e])},iP=C.createContext(null),oP=(t,e)=>{const r=C.useContext(iP),n=C.useMemo(()=>{if(!r)return"";const{compactDirection:i,isFirstItem:o,isLastItem:s}=r,a=i==="vertical"?"-vertical-":"-";return Le(`${t}-compact${a}item`,{[`${t}-compact${a}first-item`]:o,[`${t}-compact${a}last-item`]:s,[`${t}-compact${a}item-rtl`]:e==="rtl"})},[t,e,r]);return{compactSize:r==null?void 0:r.compactSize,compactDirection:r==null?void 0:r.compactDirection,compactItemClassnames:n}};var sP=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const Rx=C.createContext(void 0),aP=t=>{const{getPrefixCls:e,direction:r}=C.useContext(Qt),{prefixCls:n,size:i,className:o}=t,s=sP(t,["prefixCls","size","className"]),a=e("btn-group",n),[,,l]=To();let c="";switch(i){case"large":c="lg";break;case"small":c="sm";break}const u=Le(a,{[`${a}-${c}`]:c,[`${a}-rtl`]:r==="rtl"},o,l);return C.createElement(Rx.Provider,{value:i},C.createElement("div",Object.assign({},s,{className:u})))},B0=/^[\u4E00-\u9FA5]{2}$/,lf=B0.test.bind(B0);function z0(t){return typeof t=="string"}function fh(t){return t==="text"||t==="link"}function lP(t,e){if(t==null)return;const r=e?" ":"";return typeof t!="string"&&typeof t!="number"&&z0(t.type)&&lf(t.props.children)?bx(t,{children:t.props.children.split("").join(r)}):z0(t)?lf(t)?q.createElement("span",null,t.split("").join(r)):q.createElement("span",null,t):hM(t)?q.createElement("span",null,t):t}function cP(t,e){let r=!1;const n=[];return q.Children.forEach(t,i=>{const o=typeof i,s=o==="string"||o==="number";if(r&&s){const a=n.length-1,l=n[a];n[a]=`${l}${i}`}else n.push(i);r=s}),q.Children.map(n,i=>lP(i,e))}const Fx=C.forwardRef((t,e)=>{const{className:r,style:n,children:i,prefixCls:o}=t,s=Le(`${o}-icon`,r);return q.createElement("span",{ref:e,className:s,style:n},i)}),$0=C.forwardRef((t,e)=>{const{prefixCls:r,className:n,style:i,iconClassName:o}=t,s=Le(`${r}-loading-icon`,n);return q.createElement(Fx,{prefixCls:r,className:s,style:i,ref:e},q.createElement(kx,{className:o}))}),gh=()=>({width:0,opacity:0,transform:"scale(0)"}),ph=t=>({width:t.scrollWidth,opacity:1,transform:"scale(1)"}),uP=t=>{const{prefixCls:e,loading:r,existIcon:n,className:i,style:o}=t,s=!!r;return n?q.createElement($0,{prefixCls:e,className:i,style:o}):q.createElement(zg,{visible:s,motionName:`${e}-loading-icon-motion`,motionLeave:s,removeOnLeave:!0,onAppearStart:gh,onAppearActive:ph,onEnterStart:gh,onEnterActive:ph,onLeaveStart:ph,onLeaveActive:gh},(a,l)=>{let{className:c,style:u}=a;return q.createElement($0,{prefixCls:e,className:i,style:Object.assign(Object.assign({},o),u),ref:l,iconClassName:c})})},H0=(t,e)=>({[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),hP=t=>{const{componentCls:e,fontSize:r,lineWidth:n,groupBorderColor:i,colorErrorHover:o}=t;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:t.calc(n).mul(-1).equal(),[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:r}},H0(`${e}-primary`,i),H0(`${e}-danger`,o)]}},We=Math.round;function mh(t,e){const r=t.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],n=r.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)n[i]=e(n[i]||0,r[i]||"",i);return r[3]?n[3]=r[3].includes("%")?n[3]/100:n[3]:n[3]=1,n}const W0=(t,e,r)=>r===0?t:t/100;function Wo(t,e){const r=e||255;return t>r?r:t<0?0:t}class lu{constructor(e){X(this,"isValid",!0),X(this,"r",0),X(this,"g",0),X(this,"b",0),X(this,"a",1),X(this,"_h",void 0),X(this,"_s",void 0),X(this,"_l",void 0),X(this,"_v",void 0),X(this,"_max",void 0),X(this,"_min",void 0),X(this,"_brightness",void 0);function r(i){return i[0]in e&&i[1]in e&&i[2]in e}if(e)if(typeof e=="string"){let o=function(s){return i.startsWith(s)};var n=o;const i=e.trim();/^#?[A-F\d]{3,8}$/i.test(i)?this.fromHexString(i):o("rgb")?this.fromRgbString(i):o("hsl")?this.fromHslString(i):(o("hsv")||o("hsb"))&&this.fromHsvString(i)}else if(e instanceof lu)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(r("rgb"))this.r=Wo(e.r),this.g=Wo(e.g),this.b=Wo(e.b),this.a=typeof e.a=="number"?Wo(e.a,1):1;else if(r("hsl"))this.fromHsl(e);else if(r("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const r=this.toHsv();return r.h=e,this._c(r)}getLuminance(){function e(o){const s=o/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}const r=e(this.r),n=e(this.g),i=e(this.b);return .2126*r+.7152*n+.0722*i}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=We(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const r=this.getHue(),n=this.getSaturation();let i=this.getLightness()-e/100;return i<0&&(i=0),this._c({h:r,s:n,l:i,a:this.a})}lighten(e=10){const r=this.getHue(),n=this.getSaturation();let i=this.getLightness()+e/100;return i>1&&(i=1),this._c({h:r,s:n,l:i,a:this.a})}mix(e,r=50){const n=this._c(e),i=r/100,o=a=>(n[a]-this[a])*i+this[a],s={r:We(o("r")),g:We(o("g")),b:We(o("b")),a:We(o("a")*100)/100};return this._c(s)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const r=this._c(e),n=this.a+r.a*(1-this.a),i=o=>We((this[o]*this.a+r[o]*r.a*(1-this.a))/n);return this._c({r:i("r"),g:i("g"),b:i("b"),a:n})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const r=(this.r||0).toString(16);e+=r.length===2?r:"0"+r;const n=(this.g||0).toString(16);e+=n.length===2?n:"0"+n;const i=(this.b||0).toString(16);if(e+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){const o=We(this.a*255).toString(16);e+=o.length===2?o:"0"+o}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),r=We(this.getSaturation()*100),n=We(this.getLightness()*100);return this.a!==1?`hsla(${e},${r}%,${n}%,${this.a})`:`hsl(${e},${r}%,${n}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,r,n){const i=this.clone();return i[e]=Wo(r,n),i}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const r=e.replace("#","");function n(i,o){return parseInt(r[i]+r[o||i],16)}r.length<6?(this.r=n(0),this.g=n(1),this.b=n(2),this.a=r[3]?n(3)/255:1):(this.r=n(0,1),this.g=n(2,3),this.b=n(4,5),this.a=r[6]?n(6,7)/255:1)}fromHsl({h:e,s:r,l:n,a:i}){if(this._h=e%360,this._s=r,this._l=n,this.a=typeof i=="number"?i:1,r<=0){const d=We(n*255);this.r=d,this.g=d,this.b=d}let o=0,s=0,a=0;const l=e/60,c=(1-Math.abs(2*n-1))*r,u=c*(1-Math.abs(l%2-1));l>=0&&l<1?(o=c,s=u):l>=1&&l<2?(o=u,s=c):l>=2&&l<3?(s=c,a=u):l>=3&&l<4?(s=u,a=c):l>=4&&l<5?(o=u,a=c):l>=5&&l<6&&(o=c,a=u);const h=n-c/2;this.r=We((o+h)*255),this.g=We((s+h)*255),this.b=We((a+h)*255)}fromHsv({h:e,s:r,v:n,a:i}){this._h=e%360,this._s=r,this._v=n,this.a=typeof i=="number"?i:1;const o=We(n*255);if(this.r=o,this.g=o,this.b=o,r<=0)return;const s=e/60,a=Math.floor(s),l=s-a,c=We(n*(1-r)*255),u=We(n*(1-r*l)*255),h=We(n*(1-r*(1-l))*255);switch(a){case 0:this.g=h,this.b=c;break;case 1:this.r=u,this.b=c;break;case 2:this.r=c,this.b=h;break;case 3:this.r=c,this.g=u;break;case 4:this.r=h,this.g=c;break;case 5:default:this.g=c,this.b=u;break}}fromHsvString(e){const r=mh(e,W0);this.fromHsv({h:r[0],s:r[1],v:r[2],a:r[3]})}fromHslString(e){const r=mh(e,W0);this.fromHsl({h:r[0],s:r[1],l:r[2],a:r[3]})}fromRgbString(e){const r=mh(e,(n,i)=>i.includes("%")?We(n/100*255):n);this.r=r[0],this.g=r[1],this.b=r[2],this.a=r[3]}}var dP=["b"],fP=["v"],vh=function(e){return Math.round(Number(e||0))},gP=function(e){if(e instanceof lu)return e;if(e&&se(e)==="object"&&"h"in e&&"b"in e){var r=e,n=r.b,i=sn(r,dP);return W(W({},i),{},{v:n})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},Is=function(t){qs(r,t);var e=Qs(r);function r(n){return Jt(this,r),e.call(this,gP(n))}return er(r,[{key:"toHsbString",value:function(){var i=this.toHsb(),o=vh(i.s*100),s=vh(i.b*100),a=vh(i.h),l=i.a,c="hsb(".concat(a,", ").concat(o,"%, ").concat(s,"%)"),u="hsba(".concat(a,", ").concat(o,"%, ").concat(s,"%, ").concat(l.toFixed(l===0?0:2),")");return l===1?c:u}},{key:"toHsb",value:function(){var i=this.toHsv(),o=i.v,s=sn(i,fP);return W(W({},s),{},{b:o,a:this.a})}}]),r}(lu),pP=function(e){return e instanceof Is?e:new Is(e)};pP("#1677ff");const mP=(t,e)=>(t==null?void 0:t.replace(/[^\w/]/g,"").slice(0,e?8:6))||"",vP=(t,e)=>t?mP(t,e):"";let yP=function(){function t(e){Jt(this,t);var r;if(this.cleared=!1,e instanceof t){this.metaColor=e.metaColor.clone(),this.colors=(r=e.colors)===null||r===void 0?void 0:r.map(i=>({color:new t(i.color),percent:i.percent})),this.cleared=e.cleared;return}const n=Array.isArray(e);n&&e.length?(this.colors=e.map(i=>{let{color:o,percent:s}=i;return{color:new t(o),percent:s}}),this.metaColor=new Is(this.colors[0].color.metaColor)):this.metaColor=new Is(n?"":e),(!e||n&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return er(t,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return vP(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:r}=this;return r?`linear-gradient(90deg, ${r.map(i=>`${i.color.toRgbString()} ${i.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(r){return!r||this.isGradient()!==r.isGradient()?!1:this.isGradient()?this.colors.length===r.colors.length&&this.colors.every((n,i)=>{const o=r.colors[i];return n.percent===o.percent&&n.color.equals(o.color)}):this.toHexString()===r.toHexString()}}])}();const SP=(t,e)=>{const{r,g:n,b:i,a:o}=t.toRgb(),s=new Is(t.toRgbString()).onBackground(e).toHsv();return o<=.5?s.v>.5:r*.299+n*.587+i*.114>192},Ix=t=>{const{paddingInline:e,onlyIconSize:r,paddingBlock:n}=t;return xi(t,{buttonPaddingHorizontal:e,buttonPaddingVertical:n,buttonIconOnlyFontSize:r})},Nx=t=>{var e,r,n,i,o,s;const a=(e=t.contentFontSize)!==null&&e!==void 0?e:t.fontSize,l=(r=t.contentFontSizeSM)!==null&&r!==void 0?r:t.fontSize,c=(n=t.contentFontSizeLG)!==null&&n!==void 0?n:t.fontSizeLG,u=(i=t.contentLineHeight)!==null&&i!==void 0?i:bl(a),h=(o=t.contentLineHeightSM)!==null&&o!==void 0?o:bl(l),d=(s=t.contentLineHeightLG)!==null&&s!==void 0?s:bl(c),f=SP(new yP(t.colorBgSolid),"#fff")?"#000":"#fff";return{fontWeight:400,defaultShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlTmpOutline}`,primaryShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlOutline}`,dangerShadow:`0 ${t.controlOutlineWidth}px 0 ${t.colorErrorOutline}`,primaryColor:t.colorTextLightSolid,dangerColor:t.colorTextLightSolid,borderColorDisabled:t.colorBorder,defaultGhostColor:t.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:t.colorBgContainer,paddingInline:t.paddingContentHorizontal-t.lineWidth,paddingInlineLG:t.paddingContentHorizontal-t.lineWidth,paddingInlineSM:8-t.lineWidth,onlyIconSize:t.fontSizeLG,onlyIconSizeSM:t.fontSizeLG-2,onlyIconSizeLG:t.fontSizeLG+2,groupBorderColor:t.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:t.colorText,textTextHoverColor:t.colorText,textTextActiveColor:t.colorText,textHoverBg:t.colorBgTextHover,defaultColor:t.colorText,defaultBg:t.colorBgContainer,defaultBorderColor:t.colorBorder,defaultBorderColorDisabled:t.colorBorder,defaultHoverBg:t.colorBgContainer,defaultHoverColor:t.colorPrimaryHover,defaultHoverBorderColor:t.colorPrimaryHover,defaultActiveBg:t.colorBgContainer,defaultActiveColor:t.colorPrimaryActive,defaultActiveBorderColor:t.colorPrimaryActive,solidTextColor:f,contentFontSize:a,contentFontSizeSM:l,contentFontSizeLG:c,contentLineHeight:u,contentLineHeightSM:h,contentLineHeightLG:d,paddingBlock:Math.max((t.controlHeight-a*u)/2-t.lineWidth,0),paddingBlockSM:Math.max((t.controlHeightSM-l*h)/2-t.lineWidth,0),paddingBlockLG:Math.max((t.controlHeightLG-c*d)/2-t.lineWidth,0)}},xP=t=>{const{componentCls:e,iconCls:r,fontWeight:n}=t;return{[e]:{outline:"none",position:"relative",display:"inline-flex",gap:t.marginXS,alignItems:"center",justifyContent:"center",fontWeight:n,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${Nn(t.lineWidth)} ${t.lineType} transparent`,cursor:"pointer",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:t.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${e}-icon`]:{lineHeight:1},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},KO(t)),[`&${e}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${e}-two-chinese-chars > *:not(${r})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},"&-icon-end":{flexDirection:"row-reverse"}}}},Bx=(t,e,r)=>({[`&:not(:disabled):not(${t}-disabled)`]:{"&:hover":e,"&:active":r}}),CP=t=>({minWidth:t.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),_P=t=>({borderRadius:t.controlHeight,paddingInlineStart:t.calc(t.controlHeight).div(2).equal(),paddingInlineEnd:t.calc(t.controlHeight).div(2).equal()}),wP=t=>({cursor:"not-allowed",borderColor:t.borderColorDisabled,color:t.colorTextDisabled,background:t.colorBgContainerDisabled,boxShadow:"none"}),Hg=(t,e,r,n,i,o,s,a)=>({[`&${t}-background-ghost`]:Object.assign(Object.assign({color:r||void 0,background:e,borderColor:n||void 0,boxShadow:"none"},Bx(t,Object.assign({background:e},s),Object.assign({background:e},a))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:o||void 0}})}),bP=t=>({[`&:disabled, &${t.componentCls}-disabled`]:Object.assign({},wP(t))}),TP=t=>({[`&:disabled, &${t.componentCls}-disabled`]:{cursor:"not-allowed",color:t.colorTextDisabled}}),cu=(t,e,r,n)=>{const o=n&&["link","text"].includes(n)?TP:bP;return Object.assign(Object.assign({},o(t)),Bx(t.componentCls,e,r))},Wg=(t,e,r,n,i)=>({[`&${t.componentCls}-variant-solid`]:Object.assign({color:e,background:r},cu(t,n,i))}),Vg=(t,e,r,n,i)=>({[`&${t.componentCls}-variant-outlined, &${t.componentCls}-variant-dashed`]:Object.assign({borderColor:e,background:r},cu(t,n,i))}),Ug=t=>({[`&${t.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),Xg=(t,e,r,n)=>({[`&${t.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:e},cu(t,r,n))}),go=(t,e,r,n,i)=>({[`&${t.componentCls}-variant-${r}`]:Object.assign({color:e,boxShadow:"none"},cu(t,n,i,r))}),EP=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.defaultColor,boxShadow:t.defaultShadow},Wg(t,t.solidTextColor,t.colorBgSolid,{background:t.colorBgSolidHover},{background:t.colorBgSolidActive})),Ug(t)),Xg(t,t.colorFillTertiary,{background:t.colorFillSecondary},{background:t.colorFill})),go(t,t.textTextColor,"link",{color:t.colorLinkHover,background:t.linkHoverBg},{color:t.colorLinkActive})),Hg(t.componentCls,t.ghostBg,t.defaultGhostColor,t.defaultGhostBorderColor,t.colorTextDisabled,t.colorBorder)),OP=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.colorPrimary,boxShadow:t.primaryShadow},Vg(t,t.colorPrimary,t.colorBgContainer,{color:t.colorPrimaryTextHover,borderColor:t.colorPrimaryHover,background:t.colorBgContainer},{color:t.colorPrimaryTextActive,borderColor:t.colorPrimaryActive,background:t.colorBgContainer})),Ug(t)),Xg(t,t.colorPrimaryBg,{background:t.colorPrimaryBgHover},{background:t.colorPrimaryBorder})),go(t,t.colorLink,"text",{color:t.colorPrimaryTextHover,background:t.colorPrimaryBg},{color:t.colorPrimaryTextActive,background:t.colorPrimaryBorder})),Hg(t.componentCls,t.ghostBg,t.colorPrimary,t.colorPrimary,t.colorTextDisabled,t.colorBorder,{color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),kP=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.colorError,boxShadow:t.dangerShadow},Wg(t,t.dangerColor,t.colorError,{background:t.colorErrorHover},{background:t.colorErrorActive})),Vg(t,t.colorError,t.colorBgContainer,{color:t.colorErrorHover,borderColor:t.colorErrorBorderHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),Ug(t)),Xg(t,t.colorErrorBg,{background:t.colorErrorBgFilledHover},{background:t.colorErrorBgActive})),go(t,t.colorError,"text",{color:t.colorErrorHover,background:t.colorErrorBg},{color:t.colorErrorHover,background:t.colorErrorBgActive})),go(t,t.colorError,"link",{color:t.colorErrorHover},{color:t.colorErrorActive})),Hg(t.componentCls,t.ghostBg,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder,{color:t.colorErrorHover,borderColor:t.colorErrorHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),MP=t=>{const{componentCls:e}=t;return{[`${e}-color-default`]:EP(t),[`${e}-color-primary`]:OP(t),[`${e}-color-dangerous`]:kP(t)}},PP=t=>Object.assign(Object.assign(Object.assign(Object.assign({},Vg(t,t.defaultBorderColor,t.defaultBg,{color:t.defaultHoverColor,borderColor:t.defaultHoverBorderColor,background:t.defaultHoverBg},{color:t.defaultActiveColor,borderColor:t.defaultActiveBorderColor,background:t.defaultActiveBg})),go(t,t.textTextColor,"text",{color:t.textTextHoverColor,background:t.textHoverBg},{color:t.textTextActiveColor,background:t.colorBgTextActive})),Wg(t,t.primaryColor,t.colorPrimary,{background:t.colorPrimaryHover,color:t.primaryColor},{background:t.colorPrimaryActive,color:t.primaryColor})),go(t,t.colorLink,"link",{color:t.colorLinkHover,background:t.linkHoverBg},{color:t.colorLinkActive})),Gg=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:r,controlHeight:n,fontSize:i,lineHeight:o,borderRadius:s,buttonPaddingHorizontal:a,iconCls:l,buttonPaddingVertical:c}=t,u=`${r}-icon-only`;return[{[e]:{fontSize:i,lineHeight:o,height:n,padding:`${Nn(c)} ${Nn(a)}`,borderRadius:s,[`&${u}`]:{width:n,paddingInline:0,[`&${r}-compact-item`]:{flex:"none"},[`&${r}-round`]:{width:"auto"},[l]:{fontSize:t.buttonIconOnlyFontSize}},[`&${r}-loading`]:{opacity:t.opacityLoading,cursor:"default"},[`${r}-loading-icon`]:{transition:`width ${t.motionDurationSlow} ${t.motionEaseInOut}, opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`}}},{[`${r}${r}-circle${e}`]:CP(t)},{[`${r}${r}-round${e}`]:_P(t)}]},DP=t=>{const e=xi(t,{fontSize:t.contentFontSize,lineHeight:t.contentLineHeight});return Gg(e,t.componentCls)},AP=t=>{const e=xi(t,{controlHeight:t.controlHeightSM,fontSize:t.contentFontSizeSM,lineHeight:t.contentLineHeightSM,padding:t.paddingXS,buttonPaddingHorizontal:t.paddingInlineSM,buttonPaddingVertical:t.paddingBlockSM,borderRadius:t.borderRadiusSM,buttonIconOnlyFontSize:t.onlyIconSizeSM});return Gg(e,`${t.componentCls}-sm`)},jP=t=>{const e=xi(t,{controlHeight:t.controlHeightLG,fontSize:t.contentFontSizeLG,lineHeight:t.contentLineHeightLG,buttonPaddingHorizontal:t.paddingInlineLG,buttonPaddingVertical:t.paddingBlockLG,borderRadius:t.borderRadiusLG,buttonIconOnlyFontSize:t.onlyIconSizeLG});return Gg(e,`${t.componentCls}-lg`)},LP=t=>{const{componentCls:e}=t;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},RP=sx("Button",t=>{const e=Ix(t);return[xP(e),DP(e),AP(e),jP(e),LP(e),MP(e),PP(e),hP(e)]},Nx,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function FP(t,e,r){const{focusElCls:n,focus:i,borderElCls:o}=r,s=o?"> *":"",a=["hover",i?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${s}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[a]:{zIndex:2}},n?{[`&${n}`]:{zIndex:2}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function IP(t,e,r){const{borderElCls:n}=r,i=n?`> ${n}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function NP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:r}=t,n=`${r}-compact`;return{[n]:Object.assign(Object.assign({},FP(t,n,e)),IP(r,n,e))}}function BP(t,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:t.calc(t.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function zP(t,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function $P(t){const e=`${t.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},BP(t,e)),zP(t.componentCls,e))}}const HP=t=>{const{componentCls:e,calc:r}=t;return{[e]:{[`&-compact-item${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:r(t.lineWidth).mul(-1).equal(),insetInlineStart:r(t.lineWidth).mul(-1).equal(),display:"inline-block",width:t.lineWidth,height:`calc(100% + ${Nn(t.lineWidth)} * 2)`,backgroundColor:t.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-vertical-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:r(t.lineWidth).mul(-1).equal(),insetInlineStart:r(t.lineWidth).mul(-1).equal(),display:"inline-block",width:`calc(100% + ${Nn(t.lineWidth)} * 2)`,height:t.lineWidth,backgroundColor:t.colorPrimaryHover,content:'""'}}}}}}},WP=QO(["Button","compact"],t=>{const e=Ix(t);return[NP(e),$P(e),HP(e)]},Nx);var VP=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function UP(t){if(typeof t=="object"&&t){let e=t==null?void 0:t.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!t,delay:0}}const XP={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["primary","link"],text:["default","text"]},GP=q.forwardRef((t,e)=>{var r,n,i;const{loading:o=!1,prefixCls:s,color:a,variant:l,type:c,danger:u=!1,shape:h="default",size:d,styles:f,disabled:m,className:v,rootClassName:S,children:p,icon:g,iconPosition:y="start",ghost:x=!1,block:_=!1,htmlType:E="button",classNames:T,style:O={},autoInsertSpace:j}=t,R=VP(t,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace"]),N=c||"default",[z,F]=C.useMemo(()=>{if(a&&l)return[a,l];const Xe=XP[N]||[];return u?["danger",Xe[1]]:Xe},[c,a,l,u]),G=z==="danger"?"dangerous":z,{getPrefixCls:D,direction:P,button:b}=C.useContext(Qt),A=(r=j??(b==null?void 0:b.autoInsertSpace))!==null&&r!==void 0?r:!0,L=D("btn",s),[I,H,ee]=RP(L),Y=C.useContext(gc),K=m??Y,Q=C.useContext(Rx),te=C.useMemo(()=>UP(o),[o]),[Re,Me]=C.useState(te.loading),[he,tr]=C.useState(!1),$e=Mg(e,C.createRef()),kt=C.Children.count(p)===1&&!g&&!fh(F);C.useEffect(()=>{let Xe=null;te.delay>0?Xe=setTimeout(()=>{Xe=null,Me(!0)},te.delay):Me(te.loading);function sr(){Xe&&(clearTimeout(Xe),Xe=null)}return sr},[te]),C.useEffect(()=>{if(!$e||!$e.current||!A)return;const Xe=$e.current.textContent;kt&&lf(Xe)?he||tr(!0):he&&tr(!1)},[$e]);const Br=Xe=>{const{onClick:sr}=t;if(Re||K){Xe.preventDefault();return}sr==null||sr(Xe)},{compactSize:ot,compactItemClassnames:Tr}=oP(L,P),rr={large:"lg",small:"sm",middle:void 0},nr=nP(Xe=>{var sr,Po;return(Po=(sr=d??ot)!==null&&sr!==void 0?sr:Q)!==null&&Po!==void 0?Po:Xe}),ye=nr&&rr[nr]||"",pe=Re?"loading":g,He=MT(R,["navigate"]),ir=Le(L,H,ee,{[`${L}-${h}`]:h!=="default"&&h,[`${L}-${N}`]:N,[`${L}-dangerous`]:u,[`${L}-color-${G}`]:G,[`${L}-variant-${F}`]:F,[`${L}-${ye}`]:ye,[`${L}-icon-only`]:!p&&p!==0&&!!pe,[`${L}-background-ghost`]:x&&!fh(F),[`${L}-loading`]:Re,[`${L}-two-chinese-chars`]:he&&A&&!Re,[`${L}-block`]:_,[`${L}-rtl`]:P==="rtl",[`${L}-icon-end`]:y==="end"},Tr,v,S,b==null?void 0:b.className),mt=Object.assign(Object.assign({},b==null?void 0:b.style),O),or=Le(T==null?void 0:T.icon,(n=b==null?void 0:b.classNames)===null||n===void 0?void 0:n.icon),ko=Object.assign(Object.assign({},(f==null?void 0:f.icon)||{}),((i=b==null?void 0:b.styles)===null||i===void 0?void 0:i.icon)||{}),Js=g&&!Re?q.createElement(Fx,{prefixCls:L,className:or,style:ko},g):q.createElement(uP,{existIcon:!!g,prefixCls:L,loading:Re}),ea=p||p===0?cP(p,kt&&A):null;if(He.href!==void 0)return I(q.createElement("a",Object.assign({},He,{className:Le(ir,{[`${L}-disabled`]:K}),href:K?void 0:He.href,style:mt,onClick:Br,ref:$e,tabIndex:K?-1:0}),Js,ea));let Mo=q.createElement("button",Object.assign({},R,{type:E,className:ir,style:mt,onClick:Br,disabled:K,ref:$e}),Js,ea,!!Tr&&q.createElement(WP,{key:"compact",prefixCls:L}));return fh(F)||(Mo=q.createElement(rP,{component:"Button",disabled:Re},Mo)),I(Mo)}),yc=GP;yc.Group=aP;yc.__ANT_BUTTON=!0;const YP=q.createContext({});let $t=null,ti=t=>t(),Ns=[],Bs={};function V0(){const{getContainer:t,duration:e,rtl:r,maxCount:n,top:i}=Bs,o=(t==null?void 0:t())||document.body;return{getContainer:()=>o,duration:e,rtl:r,maxCount:n,top:i}}const KP=q.forwardRef((t,e)=>{const{messageConfig:r,sync:n}=t,{getPrefixCls:i}=C.useContext(Qt),o=Bs.prefixCls||i("message"),s=C.useContext(YP),[a,l]=Dx(Object.assign(Object.assign(Object.assign({},r),{prefixCls:o}),s.message));return q.useImperativeHandle(e,()=>{const c=Object.assign({},a);return Object.keys(c).forEach(u=>{c[u]=function(){return n(),a[u].apply(a,arguments)}}),{instance:c,sync:n}}),l}),qP=q.forwardRef((t,e)=>{const[r,n]=q.useState(V0),i=()=>{n(V0)};q.useEffect(i,[]);const o=Dk(),s=o.getRootPrefixCls(),a=o.getIconPrefixCls(),l=o.getTheme(),c=q.createElement(KP,{ref:e,sync:i,messageConfig:r});return q.createElement(Eo,{prefixCls:s,iconPrefixCls:a,theme:l},o.holderRender?o.holderRender(c):c)});function uu(){if(!$t){const t=document.createDocumentFragment(),e={fragment:t};$t=e,ti(()=>{jx(q.createElement(qP,{ref:r=>{const{instance:n,sync:i}=r||{};Promise.resolve().then(()=>{!e.instance&&n&&(e.instance=n,e.sync=i,uu())})}}),t)});return}$t.instance&&(Ns.forEach(t=>{const{type:e,skipped:r}=t;if(!r)switch(e){case"open":{ti(()=>{const n=$t.instance.open(Object.assign(Object.assign({},Bs),t.config));n==null||n.then(t.resolve),t.setCloseFn(n)});break}case"destroy":ti(()=>{$t==null||$t.instance.destroy(t.key)});break;default:ti(()=>{var n;const i=(n=$t.instance)[e].apply(n,Et(t.args));i==null||i.then(t.resolve),t.setCloseFn(i)})}}),Ns=[])}function QP(t){Bs=Object.assign(Object.assign({},Bs),t),ti(()=>{var e;(e=$t==null?void 0:$t.sync)===null||e===void 0||e.call($t)})}function ZP(t){const e=$g(r=>{let n;const i={type:"open",config:t,resolve:r,setCloseFn:o=>{n=o}};return Ns.push(i),()=>{n?ti(()=>{n()}):i.skipped=!0}});return uu(),e}function JP(t,e){const r=$g(n=>{let i;const o={type:t,args:e,resolve:n,setCloseFn:s=>{i=s}};return Ns.push(o),()=>{i?ti(()=>{i()}):o.skipped=!0}});return uu(),r}const eD=t=>{Ns.push({type:"destroy",key:t}),uu()},tD=["success","info","warning","error","loading"],rD={open:ZP,destroy:eD,config:QP,useMessage:BM,_InternalPanelDoNotUseOrYouWillBeFired:DM},El=rD;tD.forEach(t=>{El[t]=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return JP(t,r)}});var nD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"border",theme:"outlined"},iD=function(e,r){return C.createElement(gt,ke({},e,{ref:r,icon:nD}))},oD=C.forwardRef(iD),sD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"},aD=function(e,r){return C.createElement(gt,ke({},e,{ref:r,icon:sD}))},lD=C.forwardRef(aD),cD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},uD=function(e,r){return C.createElement(gt,ke({},e,{ref:r,icon:cD}))},hD=C.forwardRef(uD),dD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.3 506.3L781.7 405.6a7.23 7.23 0 00-11.7 5.7V476H548V254h64.8c6 0 9.4-7 5.7-11.7L517.7 114.7a7.14 7.14 0 00-11.3 0L405.6 242.3a7.23 7.23 0 005.7 11.7H476v222H254v-64.8c0-6-7-9.4-11.7-5.7L114.7 506.3a7.14 7.14 0 000 11.3l127.5 100.8c4.7 3.7 11.7.4 11.7-5.7V548h222v222h-64.8c-6 0-9.4 7-5.7 11.7l100.8 127.5c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H548V548h222v64.8c0 6 7 9.4 11.7 5.7l127.5-100.8a7.3 7.3 0 00.1-11.4z"}}]},name:"drag",theme:"outlined"},fD=function(e,r){return C.createElement(gt,ke({},e,{ref:r,icon:dD}))},gD=C.forwardRef(fD),pD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},mD=function(e,r){return C.createElement(gt,ke({},e,{ref:r,icon:pD}))},vD=C.forwardRef(mD),yD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M920 416H616c-4.4 0-8 3.6-8 8v112c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-56h60v320h-46c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h164c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8h-46V480h60v56c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V424c0-4.4-3.6-8-8-8zM656 296V168c0-4.4-3.6-8-8-8H104c-4.4 0-8 3.6-8 8v128c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-64h168v560h-92c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-92V232h168v64c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8z"}}]},name:"font-size",theme:"outlined"},SD=function(e,r){return C.createElement(gt,ke({},e,{ref:r,icon:yD}))},xD=C.forwardRef(SD);const CD="_container_wb715_1";function _D(){pi.ownDefaults={...pi.ownDefaults,cornerStyle:"circle",cornerStrokeColor:"blue",cornerColor:"lightblue",padding:10,cornerSize:8,transparentCorners:!1,borderColor:"orange",borderScaleFactor:2}}function zx(t){if(t){const e=window.innerWidth,r=window.innerHeight;t.setDimensions({width:e,height:r})}}function Yg(t){t.defaultCursor="default",t.isDrawingMode=!1,t.off("mouse:down"),t.off("mouse:move"),t.off("mouse:up")}function wD(t,e,r,n){const i=t.getViewportPoint(e);r.set({width:Math.abs(n.x-i.x),height:Math.abs(n.y-i.y),left:Math.min(n.x,i.x),top:Math.min(n.y,i.y)})}function bD(t){return new mr({left:t.x,top:t.y,width:0,height:0,fill:"rgba(255,0,0,0.5)"})}function TD(t){return new _n("",{left:t.x,top:t.y,fontSize:20,fill:"black",width:0,splitByGrapheme:!0})}function ED(t,e){$x(t,{creator:bD,cursor:"crosshair",postCreator:e})}function OD(t,e){$x(t,{creator:TD,postCreator:r=>{r.enterEditing(),e()},cursor:"text"})}function $x(t,{creator:e,postCreator:r,cursor:n="default"}){Yg(t),t.forEachObject(l=>{l.selectable=!1});let i=!1;t.discardActiveObject(),t.defaultCursor=n;let o,s;t.once("mouse:down",l=>{i=!0,s=t.getViewportPoint(l.e),o=e(s),t.add(o)});const a=l=>{i&&wD(t,l,o,s)};t.on("mouse:move",a),t.once("mouse:up",()=>{i=!1,t.setActiveObject(o),t.defaultCursor="default",t.off("mouse:move",a),t.forEachObject(l=>{l.selectable=!0}),r==null||r(o)})}function kD(t){Yg(t)}function MD(t){Yg(t),t.isDrawingMode=!0,t.freeDrawingBrush=new lc(t),t.freeDrawingBrush.width=5,t.freeDrawingBrush.color="#000000"}function PD(t,e){t.remove(e)}async function U0(t,e){const r=await jt.fromURL(e);r.width>t.width&&r.scaleToWidth(t.width-20),t.add(r),t.centerObject(r)}function DD(t){t.clear()}const cf={select:{icon:gD,handler:kD},text:{icon:xD,handler:OD},rect:{icon:oD,handler:ED},freeDrawing:{icon:vD,handler:MD}},uf={delete:{icon:hD,handler:PD},clear:{icon:lD,handler:DD}},AD=Object.keys(cf),jD=Object.keys(uf);function LD({canvas:t}){const[e,r]=C.useState("select"),n=o=>{r(o),cf[o].handler(t,()=>{r("select")})},i=o=>{uf[o].handler(t,t.getActiveObject())};return Dr.jsxs("div",{className:CD,children:[AD.map(o=>{const s=cf[o].icon,a=e===o;return Dr.jsx(yc,{icon:Dr.jsx(s,{}),type:"text",onClick:()=>n(o),style:a?{backgroundColor:"#007be5",color:"white"}:{}},o)}),jD.map(o=>{const s=uf[o].icon;return Dr.jsx(yc,{icon:Dr.jsx(s,{}),type:"text",onClick:()=>i(o)},o)})]})}function RD(t){C.useEffect(()=>{const e=()=>{zx(t)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[t])}function FD(t){C.useEffect(()=>{if(!t)return;const e=r=>{const{selected:n}=r;for(const i of n)t.bringObjectToFront(i)};return t.on("selection:updated",e),t.on("selection:created",e),()=>{t.off("selection:updated",e),t.off("selection:created",e)}},[t])}function ID(t){return new Promise(function(e,r){t.toBlob(function(n){e(n)})})}function ND(t){const e=r=>{var n,i;if(r.metaKey&&r.key==="s"){r.preventDefault();const o=t.toDataURL({format:"png"});(i=(n=window.webkit.messageHandlers.saveBase64ImageHandler).postMessage)==null||i.call(n,o),El.success("")}else r.metaKey&&r.key==="c"&&(r.preventDefault(),navigator.clipboard.write([new ClipboardItem({"image/png":ID(t.getElement())})]).then(()=>{El.success("")}).catch(o=>{El.error("")}))};C.useEffect(()=>{if(t)return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[t])}function X0(t){return`data:image/png;base64,${t}`}function BD(t){window.shottyImageBase64&&U0(t,X0(window.shottyImageBase64)),window.onShottyImage=e=>{U0(t,X0(e))}}function zD(){const t=C.useRef(null),[e,r]=C.useState(null);return C.useEffect(()=>{const n=new wd(t.current);return zx(n),r(n),BD(n),()=>{n.dispose()}},[]),RD(e),FD(e),ND(e),Dr.jsxs("div",{className:pT,children:[Dr.jsx("canvas",{ref:t}),Dr.jsx("div",{className:mT,children:e&&Dr.jsx(LD,{canvas:e})})]})}_D();s1(document.getElementById("root")).render(Dr.jsx(zD,{}));
